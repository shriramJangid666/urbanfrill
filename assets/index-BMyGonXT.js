(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function C0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Pm={exports:{}},Xl={};var yE;function U1(){if(yE)return Xl;yE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Xl.Fragment=e,Xl.jsx=n,Xl.jsxs=n,Xl}var _E;function j1(){return _E||(_E=1,Pm.exports=U1()),Pm.exports}var v=j1(),Vm={exports:{}},Se={};var vE;function z1(){if(vE)return Se;vE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),A=Symbol.iterator;function O(j){return j===null||typeof j!="object"?null:(j=A&&j[A]||j["@@iterator"],typeof j=="function"?j:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,L={};function U(j,te,le){this.props=j,this.context=te,this.refs=L,this.updater=le||z}U.prototype.isReactComponent={},U.prototype.setState=function(j,te){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,te,"setState")},U.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function K(){}K.prototype=U.prototype;function J(j,te,le){this.props=j,this.context=te,this.refs=L,this.updater=le||z}var ue=J.prototype=new K;ue.constructor=J,P(ue,U.prototype),ue.isPureReactComponent=!0;var se=Array.isArray;function re(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(j,te,le){var he=le.ref;return{$$typeof:i,type:j,key:te,ref:he!==void 0?he:null,props:le}}function k(j,te){return C(j.type,te,j.props)}function D(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function B(j){var te={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(le){return te[le]})}var N=/\/+/g;function Ve(j,te){return typeof j=="object"&&j!==null&&j.key!=null?B(""+j.key):te.toString(36)}function ze(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(re,re):(j.status="pending",j.then(function(te){j.status==="pending"&&(j.status="fulfilled",j.value=te)},function(te){j.status==="pending"&&(j.status="rejected",j.reason=te)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function X(j,te,le,he,Te){var Ce=typeof j;(Ce==="undefined"||Ce==="boolean")&&(j=null);var Ue=!1;if(j===null)Ue=!0;else switch(Ce){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(j.$$typeof){case i:case e:Ue=!0;break;case T:return Ue=j._init,X(Ue(j._payload),te,le,he,Te)}}if(Ue)return Te=Te(j),Ue=he===""?"."+Ve(j,0):he,se(Te)?(le="",Ue!=null&&(le=Ue.replace(N,"$&/")+"/"),X(Te,te,le,"",function(Ms){return Ms})):Te!=null&&(D(Te)&&(Te=k(Te,le+(Te.key==null||j&&j.key===Te.key?"":(""+Te.key).replace(N,"$&/")+"/")+Ue)),te.push(Te)),1;Ue=0;var Ot=he===""?".":he+":";if(se(j))for(var at=0;at<j.length;at++)he=j[at],Ce=Ot+Ve(he,at),Ue+=X(he,te,le,Ce,Te);else if(at=O(j),typeof at=="function")for(j=at.call(j),at=0;!(he=j.next()).done;)he=he.value,Ce=Ot+Ve(he,at++),Ue+=X(he,te,le,Ce,Te);else if(Ce==="object"){if(typeof j.then=="function")return X(ze(j),te,le,he,Te);throw te=String(j),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function oe(j,te,le){if(j==null)return j;var he=[],Te=0;return X(j,he,"","",function(Ce){return te.call(le,Ce,Te++)}),he}function ge(j){if(j._status===-1){var te=j._result;te=te(),te.then(function(le){(j._status===0||j._status===-1)&&(j._status=1,j._result=le)},function(le){(j._status===0||j._status===-1)&&(j._status=2,j._result=le)}),j._status===-1&&(j._status=0,j._result=te)}if(j._status===1)return j._result.default;throw j._result}var Be=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Ke={map:oe,forEach:function(j,te,le){oe(j,function(){te.apply(this,arguments)},le)},count:function(j){var te=0;return oe(j,function(){te++}),te},toArray:function(j){return oe(j,function(te){return te})||[]},only:function(j){if(!D(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Se.Activity=b,Se.Children=Ke,Se.Component=U,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=J,Se.StrictMode=s,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Se.__COMPILER_RUNTIME={__proto__:null,c:function(j){return I.H.useMemoCache(j)}},Se.cache=function(j){return function(){return j.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(j,te,le){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var he=P({},j.props),Te=j.key;if(te!=null)for(Ce in te.key!==void 0&&(Te=""+te.key),te)!R.call(te,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&te.ref===void 0||(he[Ce]=te[Ce]);var Ce=arguments.length-2;if(Ce===1)he.children=le;else if(1<Ce){for(var Ue=Array(Ce),Ot=0;Ot<Ce;Ot++)Ue[Ot]=arguments[Ot+2];he.children=Ue}return C(j.type,Te,he)},Se.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:u,_context:j},j},Se.createElement=function(j,te,le){var he,Te={},Ce=null;if(te!=null)for(he in te.key!==void 0&&(Ce=""+te.key),te)R.call(te,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Te[he]=te[he]);var Ue=arguments.length-2;if(Ue===1)Te.children=le;else if(1<Ue){for(var Ot=Array(Ue),at=0;at<Ue;at++)Ot[at]=arguments[at+2];Te.children=Ot}if(j&&j.defaultProps)for(he in Ue=j.defaultProps,Ue)Te[he]===void 0&&(Te[he]=Ue[he]);return C(j,Ce,Te)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(j){return{$$typeof:m,render:j}},Se.isValidElement=D,Se.lazy=function(j){return{$$typeof:T,_payload:{_status:-1,_result:j},_init:ge}},Se.memo=function(j,te){return{$$typeof:g,type:j,compare:te===void 0?null:te}},Se.startTransition=function(j){var te=I.T,le={};I.T=le;try{var he=j(),Te=I.S;Te!==null&&Te(le,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(re,Be)}catch(Ce){Be(Ce)}finally{te!==null&&le.types!==null&&(te.types=le.types),I.T=te}},Se.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Se.use=function(j){return I.H.use(j)},Se.useActionState=function(j,te,le){return I.H.useActionState(j,te,le)},Se.useCallback=function(j,te){return I.H.useCallback(j,te)},Se.useContext=function(j){return I.H.useContext(j)},Se.useDebugValue=function(){},Se.useDeferredValue=function(j,te){return I.H.useDeferredValue(j,te)},Se.useEffect=function(j,te){return I.H.useEffect(j,te)},Se.useEffectEvent=function(j){return I.H.useEffectEvent(j)},Se.useId=function(){return I.H.useId()},Se.useImperativeHandle=function(j,te,le){return I.H.useImperativeHandle(j,te,le)},Se.useInsertionEffect=function(j,te){return I.H.useInsertionEffect(j,te)},Se.useLayoutEffect=function(j,te){return I.H.useLayoutEffect(j,te)},Se.useMemo=function(j,te){return I.H.useMemo(j,te)},Se.useOptimistic=function(j,te){return I.H.useOptimistic(j,te)},Se.useReducer=function(j,te,le){return I.H.useReducer(j,te,le)},Se.useRef=function(j){return I.H.useRef(j)},Se.useState=function(j){return I.H.useState(j)},Se.useSyncExternalStore=function(j,te,le){return I.H.useSyncExternalStore(j,te,le)},Se.useTransition=function(){return I.H.useTransition()},Se.version="19.2.0",Se}var EE;function zp(){return EE||(EE=1,Vm.exports=z1()),Vm.exports}var M=zp();const cn=C0(M);var Lm={exports:{}},Wl={},Um={exports:{}},jm={};var TE;function B1(){return TE||(TE=1,(function(i){function e(X,oe){var ge=X.length;X.push(oe);e:for(;0<ge;){var Be=ge-1>>>1,Ke=X[Be];if(0<o(Ke,oe))X[Be]=oe,X[ge]=Ke,ge=Be;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var oe=X[0],ge=X.pop();if(ge!==oe){X[0]=ge;e:for(var Be=0,Ke=X.length,j=Ke>>>1;Be<j;){var te=2*(Be+1)-1,le=X[te],he=te+1,Te=X[he];if(0>o(le,ge))he<Ke&&0>o(Te,le)?(X[Be]=Te,X[he]=ge,Be=he):(X[Be]=le,X[te]=ge,Be=te);else if(he<Ke&&0>o(Te,ge))X[Be]=Te,X[he]=ge,Be=he;else break e}}return oe}function o(X,oe){var ge=X.sortIndex-oe.sortIndex;return ge!==0?ge:X.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],T=1,b=null,A=3,O=!1,z=!1,P=!1,L=!1,U=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ue(X){for(var oe=n(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=X)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(g)}}function se(X){if(P=!1,ue(X),!z)if(n(p)!==null)z=!0,re||(re=!0,B());else{var oe=n(g);oe!==null&&ze(se,oe.startTime-X)}}var re=!1,I=-1,R=5,C=-1;function k(){return L?!0:!(i.unstable_now()-C<R)}function D(){if(L=!1,re){var X=i.unstable_now();C=X;var oe=!0;try{e:{z=!1,P&&(P=!1,K(I),I=-1),O=!0;var ge=A;try{t:{for(ue(X),b=n(p);b!==null&&!(b.expirationTime>X&&k());){var Be=b.callback;if(typeof Be=="function"){b.callback=null,A=b.priorityLevel;var Ke=Be(b.expirationTime<=X);if(X=i.unstable_now(),typeof Ke=="function"){b.callback=Ke,ue(X),oe=!0;break t}b===n(p)&&s(p),ue(X)}else s(p);b=n(p)}if(b!==null)oe=!0;else{var j=n(g);j!==null&&ze(se,j.startTime-X),oe=!1}}break e}finally{b=null,A=ge,O=!1}oe=void 0}}finally{oe?B():re=!1}}}var B;if(typeof J=="function")B=function(){J(D)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ve=N.port2;N.port1.onmessage=D,B=function(){Ve.postMessage(null)}}else B=function(){U(D,0)};function ze(X,oe){I=U(function(){X(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(X){switch(A){case 1:case 2:case 3:var oe=3;break;default:oe=A}var ge=A;A=oe;try{return X()}finally{A=ge}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ge=A;A=X;try{return oe()}finally{A=ge}},i.unstable_scheduleCallback=function(X,oe,ge){var Be=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Be+ge:Be):ge=Be,X){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=ge+Ke,X={id:T++,callback:oe,priorityLevel:X,startTime:ge,expirationTime:Ke,sortIndex:-1},ge>Be?(X.sortIndex=ge,e(g,X),n(p)===null&&X===n(g)&&(P?(K(I),I=-1):P=!0,ze(se,ge-Be))):(X.sortIndex=Ke,e(p,X),z||O||(z=!0,re||(re=!0,B()))),X},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(X){var oe=A;return function(){var ge=A;A=oe;try{return X.apply(this,arguments)}finally{A=ge}}}})(jm)),jm}var bE;function q1(){return bE||(bE=1,Um.exports=B1()),Um.exports}var zm={exports:{}},Wt={};var SE;function F1(){if(SE)return Wt;SE=1;var i=zp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:T}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,T)},Wt.flushSync=function(p){var g=h.T,T=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=T,s.d.f()}},Wt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,b=m(T,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:O}):T==="script"&&s.d.X(p,{crossOrigin:b,integrity:A,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Wt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,b=m(T,g.crossOrigin);s.d.L(p,T,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,g){return p(g)},Wt.useFormState=function(p,g,T){return h.H.useFormState(p,g,T)},Wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Wt.version="19.2.0",Wt}var wE;function H1(){if(wE)return zm.exports;wE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),zm.exports=F1(),zm.exports}var AE;function G1(){if(AE)return Wl;AE=1;var i=q1(),e=zp(),n=H1();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function T(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=T(t),r!==null)return r;t=t.sibling}return null}var b=Object.assign,A=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case U:return"Profiler";case L:return"StrictMode";case se:return"Suspense";case re:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case J:return t.displayName||"Context";case K:return(t._context.displayName||"Context")+".Consumer";case ue:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return r=t.displayName||null,r!==null?r:Ve(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return Ve(t(r))}catch{}}return null}var ze=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Be=[],Ke=-1;function j(t){return{current:t}}function te(t){0>Ke||(t.current=Be[Ke],Be[Ke]=null,Ke--)}function le(t,r){Ke++,Be[Ke]=t.current,t.current=r}var he=j(null),Te=j(null),Ce=j(null),Ue=j(null);function Ot(t,r){switch(le(Ce,r),le(Te,t),le(he,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?zv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=zv(r),t=Bv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(he),le(he,t)}function at(){te(he),te(Te),te(Ce)}function Ms(t){t.memoizedState!==null&&le(Ue,t);var r=he.current,a=Bv(r,t.type);r!==a&&(le(Te,t),le(he,a))}function xa(t){Te.current===t&&(te(he),te(Te)),Ue.current===t&&(te(Ue),$l._currentValue=ge)}var Da,Oa;function vi(t){if(Da===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Da=r&&r[1]||"",Oa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Da+t+Oa}var $o=!1;function ks(t,r){if(!t||$o)return"";$o=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var $=Q}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Q){$=Q}t.call(ee.prototype)}}else{try{throw Error()}catch(Q){$=Q}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&$&&typeof Q.stack=="string")return[Q.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var x=_.split(`
`),G=S.split(`
`);for(f=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(l===x.length||f===G.length)for(l=x.length-1,f=G.length-1;1<=l&&0<=f&&x[l]!==G[f];)f--;for(;1<=l&&0<=f;l--,f--)if(x[l]!==G[f]){if(l!==1||f!==1)do if(l--,f--,0>f||x[l]!==G[f]){var W=`
`+x[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=f);break}}}finally{$o=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?vi(a):""}function Ko(t,r){switch(t.tag){case 26:case 27:case 5:return vi(t.type);case 16:return vi("Lazy");case 13:return t.child!==r&&r!==null?vi("Suspense Fallback"):vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return ks(t.type,!1);case 11:return ks(t.type.render,!1);case 1:return ks(t.type,!0);case 31:return vi("Activity");default:return""}}function Yo(t){try{var r="",a=null;do r+=Ko(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,Mt=i.unstable_scheduleCallback,Nr=i.unstable_cancelCallback,Lf=i.unstable_shouldYield,zu=i.unstable_requestPaint,an=i.unstable_now,Ps=i.unstable_getCurrentPriorityLevel,Qo=i.unstable_ImmediatePriority,Xo=i.unstable_UserBlockingPriority,xr=i.unstable_NormalPriority,Uf=i.unstable_LowPriority,Bu=i.unstable_IdlePriority,qu=i.log,Fu=i.unstable_setDisableYieldValue,Zn=null,qt=null;function kn(t){if(typeof qu=="function"&&Fu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Zn,t)}catch{}}var gt=Math.clz32?Math.clz32:Gu,Hu=Math.log,Ma=Math.LN2;function Gu(t){return t>>>=0,t===0?32:31-(Hu(t)/Ma|0)|0}var Ei=256,Vs=262144,bt=4194304;function Ti(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function bi(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=Ti(l):(_&=S,_!==0?f=Ti(_):a||(a=S&~t,a!==0&&(f=Ti(a))))):(S=l&~d,S!==0?f=Ti(S):_!==0?f=Ti(_):a||(a=l&~t,a!==0&&(f=Ti(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function ei(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function jf(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $u(){var t=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),t}function Si(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ls(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zf(t,r,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,x=t.expirationTimes,G=t.hiddenUpdates;for(a=_&~a;0<a;){var W=31-gt(a),ee=1<<W;S[W]=0,x[W]=-1;var $=G[W];if($!==null)for(G[W]=null,W=0;W<$.length;W++){var Q=$[W];Q!==null&&(Q.lane&=-536870913)}a&=~ee}l!==0&&Us(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function Us(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-gt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Wo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-gt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function Jo(t,r){var a=r&-r;return a=(a&42)!==0?1:js(a),(a&(t.suspendedLanes|r))!==0?0:a}function js(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Wi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ku(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:cE(t.type))}function ti(t,r){var a=oe.p;try{return oe.p=t,r()}finally{oe.p=a}}var ni=Math.random().toString(36).slice(2),St="__reactFiber$"+ni,Ut="__reactProps$"+ni,wi="__reactContainer$"+ni,ka="__reactEvents$"+ni,Bf="__reactListeners$"+ni,Yu="__reactHandles$"+ni,Qu="__reactResources$"+ni,Ai="__reactMarker$"+ni;function Pa(t){delete t[St],delete t[Ut],delete t[ka],delete t[Bf],delete t[Yu]}function Ri(t){var r=t[St];if(r)return r;for(var a=t.parentNode;a;){if(r=a[wi]||a[St]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Yv(t);t!==null;){if(a=t[St])return a;t=Yv(t)}return r}t=a,a=t.parentNode}return null}function Pn(t){if(t=t[St]||t[wi]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function bn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Ci(t){var r=t[Qu];return r||(r=t[Qu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function wt(t){t[Ai]=!0}var Zo=new Set,el={};function Ii(t,r){Ni(t,r),Ni(t+"Capture",r)}function Ni(t,r){for(el[t]=r,t=0;t<r.length;t++)Zo.add(r[t])}var tl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nl={},il={};function Xu(t){return Tt.call(il,t)?!0:Tt.call(nl,t)?!1:tl.test(t)?il[t]=!0:(nl[t]=!0,!1)}function Va(t,r,a){if(Xu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Sn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function At(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Dr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function rl(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ye(t){if(!t._valueTracker){var r=Dr(t)?"checked":"value";t._valueTracker=rl(t,r,""+t[r])}}function zs(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Dr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function xi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Bs=/[\n"\\]/g;function fn(t){return t.replace(Bs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function La(t,r,a,l,f,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+jt(r)):t.value!==""+jt(r)&&(t.value=""+jt(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?sl(t,_,jt(r)):a!=null?sl(t,_,jt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+jt(S):t.removeAttribute("name")}function Wu(t,r,a,l,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Ye(t);return}a=a!=null?""+jt(a):"",r=r!=null?""+jt(r):a,S||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ye(t)}function sl(t,r,a){r==="number"&&xi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Or(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Ju(t,r,a){if(r!=null&&(r=""+jt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+jt(a):""}function Mr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ze(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=jt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function dn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Zu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function al(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Zu.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function ol(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&al(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&al(t,d,r[d])}function Ua(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ec=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(t){return kr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ii(){}var ll=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pr=null,Di=null;function qs(t){var r=Pn(t);if(r&&(t=r.stateNode)){var a=t[Ut]||null;e:switch(t=r.stateNode,r.type){case"input":if(La(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[Ut]||null;if(!f)throw Error(s(90));La(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&zs(l)}break e;case"textarea":Ju(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Or(t,!!a.multiple,r,!1)}}}var za=!1;function Vr(t,r,a){if(za)return t(r,a);za=!0;try{var l=t(r);return l}finally{if(za=!1,(Pr!==null||Di!==null)&&(Kc(),Pr&&(r=Pr,t=Di,Di=Pr=null,qs(r),t)))for(r=0;r<t.length;r++)qs(t[r])}}function ri(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Ut]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fs=!1;if(Ln)try{var We={};Object.defineProperty(We,"passive",{get:function(){Fs=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Fs=!1}var Oi=null,ul=null,Hs=null;function cl(){if(Hs)return Hs;var t,r=ul,a=r.length,l,f="value"in Oi?Oi.value:Oi.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===f[d-l];l++);return Hs=f.slice(t,1<l?1-l:void 0)}function Gs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Ji(){return!0}function si(){return!1}function Ft(t){function r(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ji:si,this.isPropagationStopped=si,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),r}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=Ft(Zi),Lr=b({},Zi,{view:0,detail:0}),hl=Ft(Lr),Ur,Ba,ki,qa=b({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ki&&(ki&&t.type==="mousemove"?(Ur=t.screenX-ki.screenX,Ba=t.screenY-ki.screenY):Ba=Ur=0,ki=t),Ur)},movementY:function(t){return"movementY"in t?t.movementY:Ba}}),fl=Ft(qa),$s=b({},qa,{dataTransfer:0}),tc=Ft($s),nc=b({},Lr,{relatedTarget:0}),Ks=Ft(nc),dl=b({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),ic=Ft(dl),Fa=b({},Zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rc=Ft(Fa),sc=b({},Zi,{data:0}),Pi=Ft(sc),ac={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=lc[t])?!!r[t]:!1}function jr(){return uc}var on=b({},Lr,{key:function(t){if(t.key){var r=ac[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Gs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(t){return t.type==="keypress"?Gs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cc=Ft(on),hc=b({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),er=Ft(hc),c=b({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr}),y=Ft(c),E=b({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ft(E),F=b({},qa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Ft(F),ae=b({},Zi,{newState:0,oldState:0}),Ae=Ft(ae),yt=[9,13,27,32],He=Ln&&"CompositionEvent"in window,ot=null;Ln&&"documentMode"in document&&(ot=document.documentMode);var Un=Ln&&"TextEvent"in window&&!ot,Vi=Ln&&(!He||ot&&8<ot&&11>=ot),ai=" ",oi=!1;function Ys(t,r){switch(t){case"keyup":return yt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ha(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ga=!1;function lA(t,r){switch(t){case"compositionend":return Ha(r);case"keypress":return r.which!==32?null:(oi=!0,ai);case"textInput":return t=r.data,t===ai&&oi?null:t;default:return null}}function uA(t,r){if(Ga)return t==="compositionend"||!He&&Ys(t,r)?(t=cl(),Hs=ul=Oi=null,Ga=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Vi&&r.locale!=="ko"?null:r.data;default:return null}}var cA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!cA[t.type]:r==="textarea"}function Jg(t,r,a,l){Pr?Di?Di.push(l):Di=[l]:Pr=l,r=eh(r,"onChange"),0<r.length&&(a=new Mi("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var ml=null,pl=null;function hA(t){kv(t,0)}function fc(t){var r=bn(t);if(zs(r))return t}function Zg(t,r){if(t==="change")return r}var ey=!1;if(Ln){var qf;if(Ln){var Ff="oninput"in document;if(!Ff){var ty=document.createElement("div");ty.setAttribute("oninput","return;"),Ff=typeof ty.oninput=="function"}qf=Ff}else qf=!1;ey=qf&&(!document.documentMode||9<document.documentMode)}function ny(){ml&&(ml.detachEvent("onpropertychange",iy),pl=ml=null)}function iy(t){if(t.propertyName==="value"&&fc(pl)){var r=[];Jg(r,pl,t,Vn(t)),Vr(hA,r)}}function fA(t,r,a){t==="focusin"?(ny(),ml=r,pl=a,ml.attachEvent("onpropertychange",iy)):t==="focusout"&&ny()}function dA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fc(pl)}function mA(t,r){if(t==="click")return fc(r)}function pA(t,r){if(t==="input"||t==="change")return fc(r)}function gA(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var wn=typeof Object.is=="function"?Object.is:gA;function gl(t,r){if(wn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Tt.call(r,f)||!wn(t[f],r[f]))return!1}return!0}function ry(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sy(t,r){var a=ry(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ry(a)}}function ay(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ay(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function oy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=xi(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=xi(t.document)}return r}function Hf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var yA=Ln&&"documentMode"in document&&11>=document.documentMode,$a=null,Gf=null,yl=null,$f=!1;function ly(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$f||$a==null||$a!==xi(l)||(l=$a,"selectionStart"in l&&Hf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yl&&gl(yl,l)||(yl=l,l=eh(Gf,"onSelect"),0<l.length&&(r=new Mi("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=$a)))}function Qs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ka={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionrun:Qs("Transition","TransitionRun"),transitionstart:Qs("Transition","TransitionStart"),transitioncancel:Qs("Transition","TransitionCancel"),transitionend:Qs("Transition","TransitionEnd")},Kf={},uy={};Ln&&(uy=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function Xs(t){if(Kf[t])return Kf[t];if(!Ka[t])return t;var r=Ka[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in uy)return Kf[t]=r[a];return t}var cy=Xs("animationend"),hy=Xs("animationiteration"),fy=Xs("animationstart"),_A=Xs("transitionrun"),vA=Xs("transitionstart"),EA=Xs("transitioncancel"),dy=Xs("transitionend"),my=new Map,Yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yf.push("scrollEnd");function li(t,r){my.set(t,r),Ii(r,[t])}var dc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},jn=[],Ya=0,Qf=0;function mc(){for(var t=Ya,r=Qf=Ya=0;r<t;){var a=jn[r];jn[r++]=null;var l=jn[r];jn[r++]=null;var f=jn[r];jn[r++]=null;var d=jn[r];if(jn[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&py(a,f,d)}}function pc(t,r,a,l){jn[Ya++]=t,jn[Ya++]=r,jn[Ya++]=a,jn[Ya++]=l,Qf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Xf(t,r,a,l){return pc(t,r,a,l),gc(t)}function Ws(t,r){return pc(t,null,null,r),gc(t)}function py(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-gt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function gc(t){if(50<jl)throw jl=0,sm=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Qa={};function TA(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,r,a,l){return new TA(t,r,a,l)}function Wf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tr(t,r){var a=t.alternate;return a===null?(a=An(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function gy(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function yc(t,r,a,l,f,d){var _=0;if(l=t,typeof t=="function")Wf(t)&&(_=1);else if(typeof t=="string")_=R1(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=An(31,a,r,f),t.elementType=C,t.lanes=d,t;case P:return Js(a.children,f,d,r);case L:_=8,f|=24;break;case U:return t=An(12,a,r,f|2),t.elementType=U,t.lanes=d,t;case se:return t=An(13,a,r,f),t.elementType=se,t.lanes=d,t;case re:return t=An(19,a,r,f),t.elementType=re,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:_=10;break e;case K:_=9;break e;case ue:_=11;break e;case I:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=An(_,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function Js(t,r,a,l){return t=An(7,t,l,r),t.lanes=a,t}function Jf(t,r,a){return t=An(6,t,null,r),t.lanes=a,t}function yy(t){var r=An(18,null,null,0);return r.stateNode=t,r}function Zf(t,r,a){return r=An(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var _y=new WeakMap;function zn(t,r){if(typeof t=="object"&&t!==null){var a=_y.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Yo(r)},_y.set(t,r),r)}return{value:t,source:r,stack:Yo(r)}}var Xa=[],Wa=0,_c=null,_l=0,Bn=[],qn=0,zr=null,Li=1,Ui="";function nr(t,r){Xa[Wa++]=_l,Xa[Wa++]=_c,_c=t,_l=r}function vy(t,r,a){Bn[qn++]=Li,Bn[qn++]=Ui,Bn[qn++]=zr,zr=t;var l=Li;t=Ui;var f=32-gt(l)-1;l&=~(1<<f),a+=1;var d=32-gt(r)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Li=1<<32-gt(r)+f|a<<f|l,Ui=d+t}else Li=1<<d|a<<f|l,Ui=t}function ed(t){t.return!==null&&(nr(t,1),vy(t,1,0))}function td(t){for(;t===_c;)_c=Xa[--Wa],Xa[Wa]=null,_l=Xa[--Wa],Xa[Wa]=null;for(;t===zr;)zr=Bn[--qn],Bn[qn]=null,Ui=Bn[--qn],Bn[qn]=null,Li=Bn[--qn],Bn[qn]=null}function Ey(t,r){Bn[qn++]=Li,Bn[qn++]=Ui,Bn[qn++]=zr,Li=r.id,Ui=r.overflow,zr=t}var Ht=null,nt=null,Le=!1,Br=null,Fn=!1,nd=Error(s(519));function qr(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vl(zn(r,t)),nd}function Ty(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[St]=t,r[Ut]=l,a){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(a=0;a<Bl.length;a++)xe(Bl[a],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":xe("invalid",r),Wu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":xe("invalid",r);break;case"textarea":xe("invalid",r),Mr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Uv(r.textContent,a)?(l.popover!=null&&(xe("beforetoggle",r),xe("toggle",r)),l.onScroll!=null&&xe("scroll",r),l.onScrollEnd!=null&&xe("scrollend",r),l.onClick!=null&&(r.onclick=ii),r=!0):r=!1,r||qr(t,!0)}function by(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Ht=Ht.return}}function Ja(t){if(t!==Ht)return!1;if(!Le)return by(t),Le=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Em(t.type,t.memoizedProps)),a=!a),a&&nt&&qr(t),by(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=Kv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=Kv(t)}else r===27?(r=nt,ns(t.type)?(t=Am,Am=null,nt=t):nt=r):nt=Ht?Gn(t.stateNode.nextSibling):null;return!0}function Zs(){nt=Ht=null,Le=!1}function id(){var t=Br;return t!==null&&(yn===null?yn=t:yn.push.apply(yn,t),Br=null),t}function vl(t){Br===null?Br=[t]:Br.push(t)}var rd=j(null),ea=null,ir=null;function Fr(t,r,a){le(rd,r._currentValue),r._currentValue=a}function rr(t){t._currentValue=rd.current,te(rd)}function sd(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function ad(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var x=0;x<r.length;x++)if(S.context===r[x]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),sd(d.return,a,t),l||(_=null);break e}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),sd(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Za(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=f.type;wn(f.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(f===Ue.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push($l):t=[$l])}f=f.return}t!==null&&ad(r,t,a,l),r.flags|=262144}function vc(t){for(t=t.firstContext;t!==null;){if(!wn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ta(t){ea=t,ir=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return Sy(ea,t)}function Ec(t,r){return ea===null&&ta(t),Sy(t,r)}function Sy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ir===null){if(t===null)throw Error(s(308));ir=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ir=ir.next=r;return a}var bA=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},SA=i.unstable_scheduleCallback,wA=i.unstable_NormalPriority,Rt={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function od(){return{controller:new bA,data:new Map,refCount:0}}function El(t){t.refCount--,t.refCount===0&&SA(wA,function(){t.controller.abort()})}var Tl=null,ld=0,eo=0,to=null;function AA(t,r){if(Tl===null){var a=Tl=[];ld=0,eo=hm(),to={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ld++,r.then(wy,wy),r}function wy(){if(--ld===0&&Tl!==null){to!==null&&(to.status="fulfilled");var t=Tl;Tl=null,eo=0,to=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function RA(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ay=X.S;X.S=function(t,r){lv=an(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&AA(t,r),Ay!==null&&Ay(t,r)};var na=j(null);function ud(){var t=na.current;return t!==null?t:tt.pooledCache}function Tc(t,r){r===null?le(na,na.current):le(na,r.pool)}function Ry(){var t=ud();return t===null?null:{parent:Rt._currentValue,pool:t}}var no=Error(s(460)),cd=Error(s(474)),bc=Error(s(542)),Sc={then:function(){}};function Cy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Iy(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(ii,ii),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,xy(t),t;default:if(typeof r.status=="string")r.then(ii,ii);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,xy(t),t}throw ra=r,no}}function ia(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ra=a,no):a}}var ra=null;function Ny(){if(ra===null)throw Error(s(459));var t=ra;return ra=null,t}function xy(t){if(t===no||t===bc)throw Error(s(483))}var io=null,bl=0;function wc(t){var r=bl;return bl+=1,io===null&&(io=[]),Iy(io,t,r)}function Sl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Ac(t,r){throw r.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Dy(t){function r(q,V){if(t){var H=q.deletions;H===null?(q.deletions=[V],q.flags|=16):H.push(V)}}function a(q,V){if(!t)return null;for(;V!==null;)r(q,V),V=V.sibling;return null}function l(q){for(var V=new Map;q!==null;)q.key!==null?V.set(q.key,q):V.set(q.index,q),q=q.sibling;return V}function f(q,V){return q=tr(q,V),q.index=0,q.sibling=null,q}function d(q,V,H){return q.index=H,t?(H=q.alternate,H!==null?(H=H.index,H<V?(q.flags|=67108866,V):H):(q.flags|=67108866,V)):(q.flags|=1048576,V)}function _(q){return t&&q.alternate===null&&(q.flags|=67108866),q}function S(q,V,H,Z){return V===null||V.tag!==6?(V=Jf(H,q.mode,Z),V.return=q,V):(V=f(V,H),V.return=q,V)}function x(q,V,H,Z){var pe=H.type;return pe===P?W(q,V,H.props.children,Z,H.key):V!==null&&(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&ia(pe)===V.type)?(V=f(V,H.props),Sl(V,H),V.return=q,V):(V=yc(H.type,H.key,H.props,null,q.mode,Z),Sl(V,H),V.return=q,V)}function G(q,V,H,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=Zf(H,q.mode,Z),V.return=q,V):(V=f(V,H.children||[]),V.return=q,V)}function W(q,V,H,Z,pe){return V===null||V.tag!==7?(V=Js(H,q.mode,Z,pe),V.return=q,V):(V=f(V,H),V.return=q,V)}function ee(q,V,H){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Jf(""+V,q.mode,H),V.return=q,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case O:return H=yc(V.type,V.key,V.props,null,q.mode,H),Sl(H,V),H.return=q,H;case z:return V=Zf(V,q.mode,H),V.return=q,V;case R:return V=ia(V),ee(q,V,H)}if(ze(V)||B(V))return V=Js(V,q.mode,H,null),V.return=q,V;if(typeof V.then=="function")return ee(q,wc(V),H);if(V.$$typeof===J)return ee(q,Ec(q,V),H);Ac(q,V)}return null}function $(q,V,H,Z){var pe=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return pe!==null?null:S(q,V,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case O:return H.key===pe?x(q,V,H,Z):null;case z:return H.key===pe?G(q,V,H,Z):null;case R:return H=ia(H),$(q,V,H,Z)}if(ze(H)||B(H))return pe!==null?null:W(q,V,H,Z,null);if(typeof H.then=="function")return $(q,V,wc(H),Z);if(H.$$typeof===J)return $(q,V,Ec(q,H),Z);Ac(q,H)}return null}function Q(q,V,H,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return q=q.get(H)||null,S(V,q,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case O:return q=q.get(Z.key===null?H:Z.key)||null,x(V,q,Z,pe);case z:return q=q.get(Z.key===null?H:Z.key)||null,G(V,q,Z,pe);case R:return Z=ia(Z),Q(q,V,H,Z,pe)}if(ze(Z)||B(Z))return q=q.get(H)||null,W(V,q,Z,pe,null);if(typeof Z.then=="function")return Q(q,V,H,wc(Z),pe);if(Z.$$typeof===J)return Q(q,V,H,Ec(V,Z),pe);Ac(V,Z)}return null}function fe(q,V,H,Z){for(var pe=null,qe=null,de=V,Ie=V=0,Oe=null;de!==null&&Ie<H.length;Ie++){de.index>Ie?(Oe=de,de=null):Oe=de.sibling;var Fe=$(q,de,H[Ie],Z);if(Fe===null){de===null&&(de=Oe);break}t&&de&&Fe.alternate===null&&r(q,de),V=d(Fe,V,Ie),qe===null?pe=Fe:qe.sibling=Fe,qe=Fe,de=Oe}if(Ie===H.length)return a(q,de),Le&&nr(q,Ie),pe;if(de===null){for(;Ie<H.length;Ie++)de=ee(q,H[Ie],Z),de!==null&&(V=d(de,V,Ie),qe===null?pe=de:qe.sibling=de,qe=de);return Le&&nr(q,Ie),pe}for(de=l(de);Ie<H.length;Ie++)Oe=Q(de,q,Ie,H[Ie],Z),Oe!==null&&(t&&Oe.alternate!==null&&de.delete(Oe.key===null?Ie:Oe.key),V=d(Oe,V,Ie),qe===null?pe=Oe:qe.sibling=Oe,qe=Oe);return t&&de.forEach(function(os){return r(q,os)}),Le&&nr(q,Ie),pe}function _e(q,V,H,Z){if(H==null)throw Error(s(151));for(var pe=null,qe=null,de=V,Ie=V=0,Oe=null,Fe=H.next();de!==null&&!Fe.done;Ie++,Fe=H.next()){de.index>Ie?(Oe=de,de=null):Oe=de.sibling;var os=$(q,de,Fe.value,Z);if(os===null){de===null&&(de=Oe);break}t&&de&&os.alternate===null&&r(q,de),V=d(os,V,Ie),qe===null?pe=os:qe.sibling=os,qe=os,de=Oe}if(Fe.done)return a(q,de),Le&&nr(q,Ie),pe;if(de===null){for(;!Fe.done;Ie++,Fe=H.next())Fe=ee(q,Fe.value,Z),Fe!==null&&(V=d(Fe,V,Ie),qe===null?pe=Fe:qe.sibling=Fe,qe=Fe);return Le&&nr(q,Ie),pe}for(de=l(de);!Fe.done;Ie++,Fe=H.next())Fe=Q(de,q,Ie,Fe.value,Z),Fe!==null&&(t&&Fe.alternate!==null&&de.delete(Fe.key===null?Ie:Fe.key),V=d(Fe,V,Ie),qe===null?pe=Fe:qe.sibling=Fe,qe=Fe);return t&&de.forEach(function(L1){return r(q,L1)}),Le&&nr(q,Ie),pe}function et(q,V,H,Z){if(typeof H=="object"&&H!==null&&H.type===P&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case O:e:{for(var pe=H.key;V!==null;){if(V.key===pe){if(pe=H.type,pe===P){if(V.tag===7){a(q,V.sibling),Z=f(V,H.props.children),Z.return=q,q=Z;break e}}else if(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&ia(pe)===V.type){a(q,V.sibling),Z=f(V,H.props),Sl(Z,H),Z.return=q,q=Z;break e}a(q,V);break}else r(q,V);V=V.sibling}H.type===P?(Z=Js(H.props.children,q.mode,Z,H.key),Z.return=q,q=Z):(Z=yc(H.type,H.key,H.props,null,q.mode,Z),Sl(Z,H),Z.return=q,q=Z)}return _(q);case z:e:{for(pe=H.key;V!==null;){if(V.key===pe)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){a(q,V.sibling),Z=f(V,H.children||[]),Z.return=q,q=Z;break e}else{a(q,V);break}else r(q,V);V=V.sibling}Z=Zf(H,q.mode,Z),Z.return=q,q=Z}return _(q);case R:return H=ia(H),et(q,V,H,Z)}if(ze(H))return fe(q,V,H,Z);if(B(H)){if(pe=B(H),typeof pe!="function")throw Error(s(150));return H=pe.call(H),_e(q,V,H,Z)}if(typeof H.then=="function")return et(q,V,wc(H),Z);if(H.$$typeof===J)return et(q,V,Ec(q,H),Z);Ac(q,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,V!==null&&V.tag===6?(a(q,V.sibling),Z=f(V,H),Z.return=q,q=Z):(a(q,V),Z=Jf(H,q.mode,Z),Z.return=q,q=Z),_(q)):a(q,V)}return function(q,V,H,Z){try{bl=0;var pe=et(q,V,H,Z);return io=null,pe}catch(de){if(de===no||de===bc)throw de;var qe=An(29,de,null,q.mode);return qe.lanes=Z,qe.return=q,qe}finally{}}}var sa=Dy(!0),Oy=Dy(!1),Hr=!1;function hd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $r(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=gc(t),py(t,null,a),r}return pc(t,l,r,a),gc(t)}function wl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Wo(t,a)}}function dd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var md=!1;function Al(){if(md){var t=to;if(t!==null)throw t}}function Rl(t,r,a,l){md=!1;var f=t.updateQueue;Hr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var x=S,G=x.next;x.next=null,_===null?d=G:_.next=G,_=x;var W=t.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==_&&(S===null?W.firstBaseUpdate=G:S.next=G,W.lastBaseUpdate=x))}if(d!==null){var ee=f.baseState;_=0,W=G=x=null,S=d;do{var $=S.lane&-536870913,Q=$!==S.lane;if(Q?(De&$)===$:(l&$)===$){$!==0&&$===eo&&(md=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var fe=t,_e=S;$=r;var et=a;switch(_e.tag){case 1:if(fe=_e.payload,typeof fe=="function"){ee=fe.call(et,ee,$);break e}ee=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=_e.payload,$=typeof fe=="function"?fe.call(et,ee,$):fe,$==null)break e;ee=b({},ee,$);break e;case 2:Hr=!0}}$=S.callback,$!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[$]:Q.push($))}else Q={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?(G=W=Q,x=ee):W=W.next=Q,_|=$;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);W===null&&(x=ee),f.baseState=x,f.firstBaseUpdate=G,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),Wr|=_,t.lanes=_,t.memoizedState=ee}}function My(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function ky(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)My(a[t],r)}var ro=j(null),Rc=j(0);function Py(t,r){t=dr,le(Rc,t),le(ro,r),dr=t|r.baseLanes}function pd(){le(Rc,dr),le(ro,ro.current)}function gd(){dr=Rc.current,te(ro),te(Rc)}var Rn=j(null),Hn=null;function Kr(t){var r=t.alternate;le(_t,_t.current&1),le(Rn,t),Hn===null&&(r===null||ro.current!==null||r.memoizedState!==null)&&(Hn=t)}function yd(t){le(_t,_t.current),le(Rn,t),Hn===null&&(Hn=t)}function Vy(t){t.tag===22?(le(_t,_t.current),le(Rn,t),Hn===null&&(Hn=t)):Yr()}function Yr(){le(_t,_t.current),le(Rn,Rn.current)}function Cn(t){te(Rn),Hn===t&&(Hn=null),te(_t)}var _t=j(0);function Cc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Sm(a)||wm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var sr=0,Re=null,Je=null,Ct=null,Ic=!1,so=!1,aa=!1,Nc=0,Cl=0,ao=null,CA=0;function ft(){throw Error(s(321))}function _d(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!wn(t[a],r[a]))return!1;return!0}function vd(t,r,a,l,f,d){return sr=d,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=t===null||t.memoizedState===null?v_:kd,aa=!1,d=a(l,f),aa=!1,so&&(d=Uy(r,a,l,f)),Ly(t),d}function Ly(t){X.H=xl;var r=Je!==null&&Je.next!==null;if(sr=0,Ct=Je=Re=null,Ic=!1,Cl=0,ao=null,r)throw Error(s(300));t===null||It||(t=t.dependencies,t!==null&&vc(t)&&(It=!0))}function Uy(t,r,a,l){Re=t;var f=0;do{if(so&&(ao=null),Cl=0,so=!1,25<=f)throw Error(s(301));if(f+=1,Ct=Je=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=E_,d=r(a,l)}while(so);return d}function IA(){var t=X.H,r=t.useState()[0];return r=typeof r.then=="function"?Il(r):r,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Re.flags|=1024),r}function Ed(){var t=Nc!==0;return Nc=0,t}function Td(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function bd(t){if(Ic){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Ic=!1}sr=0,Ct=Je=Re=null,so=!1,Cl=Nc=0,ao=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Re.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function vt(){if(Je===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var r=Ct===null?Re.memoizedState:Ct.next;if(r!==null)Ct=r,Je=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Ct===null?Re.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function xc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(t){var r=Cl;return Cl+=1,ao===null&&(ao=[]),t=Iy(ao,t,r),r=Re,(Ct===null?r.memoizedState:Ct.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?v_:kd),t}function Dc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Il(t);if(t.$$typeof===J)return Gt(t)}throw Error(s(438,String(t)))}function Sd(t){var r=null,a=Re.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=xc(),Re.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=k;return r.index++,a}function ar(t,r){return typeof r=="function"?r(t):r}function Oc(t){var r=vt();return wd(r,Je,t)}function wd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var S=_=null,x=null,G=r,W=!1;do{var ee=G.lane&-536870913;if(ee!==G.lane?(De&ee)===ee:(sr&ee)===ee){var $=G.revertLane;if($===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ee===eo&&(W=!0);else if((sr&$)===$){G=G.next,$===eo&&(W=!0);continue}else ee={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},x===null?(S=x=ee,_=d):x=x.next=ee,Re.lanes|=$,Wr|=$;ee=G.action,aa&&a(d,ee),d=G.hasEagerState?G.eagerState:a(d,ee)}else $={lane:ee,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},x===null?(S=x=$,_=d):x=x.next=$,Re.lanes|=ee,Wr|=ee;G=G.next}while(G!==null&&G!==r);if(x===null?_=d:x.next=S,!wn(d,t.memoizedState)&&(It=!0,W&&(a=to,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=x,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ad(t){var r=vt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);wn(d,r.memoizedState)||(It=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function jy(t,r,a){var l=Re,f=vt(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!wn((Je||f).memoizedState,a);if(_&&(f.memoizedState=a,It=!0),f=f.queue,Id(qy.bind(null,l,f,t),[t]),f.getSnapshot!==r||_||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,oo(9,{destroy:void 0},By.bind(null,l,f,a,r),null),tt===null)throw Error(s(349));d||(sr&127)!==0||zy(l,r,a)}return a}function zy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Re.updateQueue,r===null?(r=xc(),Re.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function By(t,r,a,l){r.value=a,r.getSnapshot=l,Fy(r)&&Hy(t)}function qy(t,r,a){return a(function(){Fy(r)&&Hy(t)})}function Fy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!wn(t,a)}catch{return!0}}function Hy(t){var r=Ws(t,2);r!==null&&_n(r,t,2)}function Rd(t){var r=ln();if(typeof t=="function"){var a=t;if(t=a(),aa){kn(!0);try{a()}finally{kn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:t},r}function Gy(t,r,a,l){return t.baseState=a,wd(t,Je,typeof l=="function"?l:ar)}function NA(t,r,a,l,f){if(Pc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,$y(r,d)):(d.next=a.next,r.pending=a.next=d)}}function $y(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=X.T,_={};X.T=_;try{var S=a(f,l),x=X.S;x!==null&&x(_,S),Ky(t,r,S)}catch(G){Cd(t,r,G)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(f,l),Ky(t,r,d)}catch(G){Cd(t,r,G)}}function Ky(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Yy(t,r,l)},function(l){return Cd(t,r,l)}):Yy(t,r,a)}function Yy(t,r,a){r.status="fulfilled",r.value=a,Qy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,$y(t,a)))}function Cd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Qy(r),r=r.next;while(r!==l)}t.action=null}function Qy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Xy(t,r){return r}function Wy(t,r){if(Le){var a=tt.formState;if(a!==null){e:{var l=Re;if(Le){if(nt){t:{for(var f=nt,d=Fn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Gn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){nt=Gn(f.nextSibling),l=f.data==="F!";break e}}qr(l)}l=!1}l&&(r=a[0])}}return a=ln(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xy,lastRenderedState:r},a.queue=l,a=g_.bind(null,Re,l),l.dispatch=a,l=Rd(!1),d=Md.bind(null,Re,!1,l.queue),l=ln(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=NA.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function Jy(t){var r=vt();return Zy(r,Je,t)}function Zy(t,r,a){if(r=wd(t,r,Xy)[0],t=Oc(ar)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Il(r)}catch(_){throw _===no?bc:_}else l=r;r=vt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Re.flags|=2048,oo(9,{destroy:void 0},xA.bind(null,f,a),null)),[l,d,t]}function xA(t,r){t.action=r}function e_(t){var r=vt(),a=Je;if(a!==null)return Zy(r,a,t);vt(),r=r.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function oo(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Re.updateQueue,r===null&&(r=xc(),Re.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function t_(){return vt().memoizedState}function Mc(t,r,a,l){var f=ln();Re.flags|=t,f.memoizedState=oo(1|r,{destroy:void 0},a,l===void 0?null:l)}function kc(t,r,a,l){var f=vt();l=l===void 0?null:l;var d=f.memoizedState.inst;Je!==null&&l!==null&&_d(l,Je.memoizedState.deps)?f.memoizedState=oo(r,d,a,l):(Re.flags|=t,f.memoizedState=oo(1|r,d,a,l))}function n_(t,r){Mc(8390656,8,t,r)}function Id(t,r){kc(2048,8,t,r)}function DA(t){Re.flags|=4;var r=Re.updateQueue;if(r===null)r=xc(),Re.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function i_(t){var r=vt().memoizedState;return DA({ref:r,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function r_(t,r){return kc(4,2,t,r)}function s_(t,r){return kc(4,4,t,r)}function a_(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function o_(t,r,a){a=a!=null?a.concat([t]):null,kc(4,4,a_.bind(null,r,t),a)}function Nd(){}function l_(t,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&_d(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function u_(t,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&_d(r,l[1]))return l[0];if(l=t(),aa){kn(!0);try{t()}finally{kn(!1)}}return a.memoizedState=[l,r],l}function xd(t,r,a){return a===void 0||(sr&1073741824)!==0&&(De&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=cv(),Re.lanes|=t,Wr|=t,a)}function c_(t,r,a,l){return wn(a,r)?a:ro.current!==null?(t=xd(t,a,l),wn(t,r)||(It=!0),t):(sr&42)===0||(sr&1073741824)!==0&&(De&261930)===0?(It=!0,t.memoizedState=a):(t=cv(),Re.lanes|=t,Wr|=t,r)}function h_(t,r,a,l,f){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=X.T,S={};X.T=S,Md(t,!1,r,a);try{var x=f(),G=X.S;if(G!==null&&G(S,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var W=RA(x,l);Nl(t,r,W,xn(t))}else Nl(t,r,l,xn(t))}catch(ee){Nl(t,r,{then:function(){},status:"rejected",reason:ee},xn())}finally{oe.p=d,_!==null&&S.types!==null&&(_.types=S.types),X.T=_}}function OA(){}function Dd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=f_(t).queue;h_(t,f,r,ge,a===null?OA:function(){return d_(t),a(l)})}function f_(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:ge},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function d_(t){var r=f_(t);r.next===null&&(r=t.alternate.memoizedState),Nl(t,r.next.queue,{},xn())}function Od(){return Gt($l)}function m_(){return vt().memoizedState}function p_(){return vt().memoizedState}function MA(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=xn();t=Gr(a);var l=$r(r,t,a);l!==null&&(_n(l,r,a),wl(l,r,a)),r={cache:od()},t.payload=r;return}r=r.return}}function kA(t,r,a){var l=xn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Pc(t)?y_(r,a):(a=Xf(t,r,a,l),a!==null&&(_n(a,t,l),__(a,r,l)))}function g_(t,r,a){var l=xn();Nl(t,r,a,l)}function Nl(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Pc(t))y_(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,wn(S,_))return pc(t,r,f,0),tt===null&&mc(),!1}catch{}finally{}if(a=Xf(t,r,f,l),a!==null)return _n(a,t,l),__(a,r,l),!0}return!1}function Md(t,r,a,l){if(l={lane:2,revertLane:hm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Pc(t)){if(r)throw Error(s(479))}else r=Xf(t,a,l,2),r!==null&&_n(r,t,2)}function Pc(t){var r=t.alternate;return t===Re||r!==null&&r===Re}function y_(t,r){so=Ic=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function __(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Wo(t,a)}}var xl={readContext:Gt,use:Dc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};xl.useEffectEvent=ft;var v_={readContext:Gt,use:Dc,useCallback:function(t,r){return ln().memoizedState=[t,r===void 0?null:r],t},useContext:Gt,useEffect:n_,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Mc(4194308,4,a_.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Mc(4194308,4,t,r)},useInsertionEffect:function(t,r){Mc(4,2,t,r)},useMemo:function(t,r){var a=ln();r=r===void 0?null:r;var l=t();if(aa){kn(!0);try{t()}finally{kn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=ln();if(a!==void 0){var f=a(r);if(aa){kn(!0);try{a(r)}finally{kn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=kA.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var r=ln();return t={current:t},r.memoizedState=t},useState:function(t){t=Rd(t);var r=t.queue,a=g_.bind(null,Re,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Nd,useDeferredValue:function(t,r){var a=ln();return xd(a,t,r)},useTransition:function(){var t=Rd(!1);return t=h_.bind(null,Re,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Re,f=ln();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),tt===null)throw Error(s(349));(De&127)!==0||zy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,n_(qy.bind(null,l,d,t),[t]),l.flags|=2048,oo(9,{destroy:void 0},By.bind(null,l,d,a,r),null),a},useId:function(){var t=ln(),r=tt.identifierPrefix;if(Le){var a=Ui,l=Li;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Nc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=CA++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Od,useFormState:Wy,useActionState:Wy,useOptimistic:function(t){var r=ln();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Md.bind(null,Re,!0,a),a.dispatch=r,[t,r]},useMemoCache:Sd,useCacheRefresh:function(){return ln().memoizedState=MA.bind(null,Re)},useEffectEvent:function(t){var r=ln(),a={impl:t};return r.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},kd={readContext:Gt,use:Dc,useCallback:l_,useContext:Gt,useEffect:Id,useImperativeHandle:o_,useInsertionEffect:r_,useLayoutEffect:s_,useMemo:u_,useReducer:Oc,useRef:t_,useState:function(){return Oc(ar)},useDebugValue:Nd,useDeferredValue:function(t,r){var a=vt();return c_(a,Je.memoizedState,t,r)},useTransition:function(){var t=Oc(ar)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:Il(t),r]},useSyncExternalStore:jy,useId:m_,useHostTransitionStatus:Od,useFormState:Jy,useActionState:Jy,useOptimistic:function(t,r){var a=vt();return Gy(a,Je,t,r)},useMemoCache:Sd,useCacheRefresh:p_};kd.useEffectEvent=i_;var E_={readContext:Gt,use:Dc,useCallback:l_,useContext:Gt,useEffect:Id,useImperativeHandle:o_,useInsertionEffect:r_,useLayoutEffect:s_,useMemo:u_,useReducer:Ad,useRef:t_,useState:function(){return Ad(ar)},useDebugValue:Nd,useDeferredValue:function(t,r){var a=vt();return Je===null?xd(a,t,r):c_(a,Je.memoizedState,t,r)},useTransition:function(){var t=Ad(ar)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:Il(t),r]},useSyncExternalStore:jy,useId:m_,useHostTransitionStatus:Od,useFormState:e_,useActionState:e_,useOptimistic:function(t,r){var a=vt();return Je!==null?Gy(a,Je,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Sd,useCacheRefresh:p_};E_.useEffectEvent=i_;function Pd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:b({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Vd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=xn(),f=Gr(l);f.payload=r,a!=null&&(f.callback=a),r=$r(t,f,l),r!==null&&(_n(r,t,l),wl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=xn(),f=Gr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=$r(t,f,l),r!==null&&(_n(r,t,l),wl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=xn(),l=Gr(a);l.tag=2,r!=null&&(l.callback=r),r=$r(t,l,a),r!==null&&(_n(r,t,a),wl(r,t,a))}};function T_(t,r,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!gl(a,l)||!gl(f,d):!0}function b_(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Vd.enqueueReplaceState(r,r.state,null)}function oa(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=b({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function S_(t){dc(t)}function w_(t){console.error(t)}function A_(t){dc(t)}function Vc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function R_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ld(t,r,a){return a=Gr(a),a.tag=3,a.payload={element:null},a.callback=function(){Vc(t,r)},a}function C_(t){return t=Gr(t),t.tag=3,t}function I_(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){R_(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){R_(r,a,l),typeof f!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function PA(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Za(r,a,f,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return Hn===null?Yc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Sc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),lm(t,l,f)),!1;case 22:return a.flags|=65536,l===Sc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),lm(t,l,f)),!1}throw Error(s(435,a.tag))}return lm(t,l,f),Yc(),!1}if(Le)return r=Rn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==nd&&(t=Error(s(422),{cause:l}),vl(zn(t,a)))):(l!==nd&&(r=Error(s(423),{cause:l}),vl(zn(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=zn(l,a),f=Ld(t.stateNode,l,f),dd(t,f),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=zn(d,a),Ul===null?Ul=[d]:Ul.push(d),dt!==4&&(dt=2),r===null)return!0;l=zn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Ld(a.stateNode,l,t),dd(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Jr===null||!Jr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=C_(f),I_(f,t,a,l),dd(a,f),!1}a=a.return}while(a!==null);return!1}var Ud=Error(s(461)),It=!1;function $t(t,r,a,l){r.child=t===null?Oy(r,null,a,l):sa(r,t.child,a,l)}function N_(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return ta(r),l=vd(t,r,a,_,d,f),S=Ed(),t!==null&&!It?(Td(t,r,f),or(t,r,f)):(Le&&S&&ed(r),r.flags|=1,$t(t,r,l,f),r.child)}function x_(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Wf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,D_(t,r,d,l,f)):(t=yc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!$d(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:gl,a(_,l)&&t.ref===r.ref)return or(t,r,f)}return r.flags|=1,t=tr(d,l),t.ref=r.ref,t.return=r,r.child=t}function D_(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(gl(d,l)&&t.ref===r.ref)if(It=!1,r.pendingProps=l=d,$d(t,f))(t.flags&131072)!==0&&(It=!0);else return r.lanes=t.lanes,or(t,r,f)}return jd(t,r,a,l,f)}function O_(t,r,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return M_(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Tc(r,d!==null?d.cachePool:null),d!==null?Py(r,d):pd(),Vy(r);else return l=r.lanes=536870912,M_(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Tc(r,d.cachePool),Py(r,d),Yr(),r.memoizedState=null):(t!==null&&Tc(r,null),pd(),Yr());return $t(t,r,f,a),r.child}function Dl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function M_(t,r,a,l,f){var d=ud();return d=d===null?null:{parent:Rt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&Tc(r,null),pd(),Vy(r),t!==null&&Za(t,r,l,!0),r.childLanes=f,null}function Lc(t,r){return r=jc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function k_(t,r,a){return sa(r,t.child,null,a),t=Lc(r,r.pendingProps),t.flags|=2,Cn(r),r.memoizedState=null,t}function VA(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=Lc(r,l),r.lanes=536870912,Dl(null,t);if(yd(r),(t=nt)?(t=$v(t,Fn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:zr!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=yy(t),a.return=r,r.child=a,Ht=r,nt=null)):t=null,t===null)throw qr(r);return r.lanes=536870912,null}return Lc(r,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(yd(r),f)if(r.flags&256)r.flags&=-257,r=k_(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(It||Za(t,r,a,!1),f=(a&t.childLanes)!==0,It||f){if(l=tt,l!==null&&(_=Jo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ws(t,_),_n(l,t,_),Ud;Yc(),r=k_(t,r,a)}else t=d.treeContext,nt=Gn(_.nextSibling),Ht=r,Le=!0,Br=null,Fn=!1,t!==null&&Ey(r,t),r=Lc(r,l),r.flags|=4096;return r}return t=tr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Uc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function jd(t,r,a,l,f){return ta(r),a=vd(t,r,a,l,void 0,f),l=Ed(),t!==null&&!It?(Td(t,r,f),or(t,r,f)):(Le&&l&&ed(r),r.flags|=1,$t(t,r,a,f),r.child)}function P_(t,r,a,l,f,d){return ta(r),r.updateQueue=null,a=Uy(r,l,a,f),Ly(t),l=Ed(),t!==null&&!It?(Td(t,r,d),or(t,r,d)):(Le&&l&&ed(r),r.flags|=1,$t(t,r,a,d),r.child)}function V_(t,r,a,l,f){if(ta(r),r.stateNode===null){var d=Qa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Gt(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Vd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},hd(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Gt(_):Qa,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Pd(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Vd.enqueueReplaceState(d,d.state,null),Rl(r,l,d,f),Al(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var S=r.memoizedProps,x=oa(a,S);d.props=x;var G=d.context,W=a.contextType;_=Qa,typeof W=="object"&&W!==null&&(_=Gt(W));var ee=a.getDerivedStateFromProps;W=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||G!==_)&&b_(r,d,l,_),Hr=!1;var $=r.memoizedState;d.state=$,Rl(r,l,d,f),Al(),G=r.memoizedState,S||$!==G||Hr?(typeof ee=="function"&&(Pd(r,a,ee,l),G=r.memoizedState),(x=Hr||T_(r,a,x,l,$,G,_))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=_,l=x):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,fd(t,r),_=r.memoizedProps,W=oa(a,_),d.props=W,ee=r.pendingProps,$=d.context,G=a.contextType,x=Qa,typeof G=="object"&&G!==null&&(x=Gt(G)),S=a.getDerivedStateFromProps,(G=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||$!==x)&&b_(r,d,l,x),Hr=!1,$=r.memoizedState,d.state=$,Rl(r,l,d,f),Al();var Q=r.memoizedState;_!==ee||$!==Q||Hr||t!==null&&t.dependencies!==null&&vc(t.dependencies)?(typeof S=="function"&&(Pd(r,a,S,l),Q=r.memoizedState),(W=Hr||T_(r,a,W,l,$,Q,x)||t!==null&&t.dependencies!==null&&vc(t.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,x)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),d.props=l,d.state=Q,d.context=x,l=W):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Uc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=sa(r,t.child,null,f),r.child=sa(r,null,a,f)):$t(t,r,a,f),r.memoizedState=d.state,t=r.child):t=or(t,r,f),t}function L_(t,r,a,l){return Zs(),r.flags|=256,$t(t,r,a,l),r.child}var zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bd(t){return{baseLanes:t,cachePool:Ry()}}function qd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Nn),t}function U_(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Le){if(f?Kr(r):Yr(),(t=nt)?(t=$v(t,Fn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:zr!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=yy(t),a.return=r,r.child=a,Ht=r,nt=null)):t=null,t===null)throw qr(r);return wm(t)?r.lanes=32:r.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Yr(),f=r.mode,S=jc({mode:"hidden",children:S},f),l=Js(l,f,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,l=r.child,l.memoizedState=Bd(a),l.childLanes=qd(t,_,a),r.memoizedState=zd,Dl(null,l)):(Kr(r),Fd(r,S))}var x=t.memoizedState;if(x!==null&&(S=x.dehydrated,S!==null)){if(d)r.flags&256?(Kr(r),r.flags&=-257,r=Hd(t,r,a)):r.memoizedState!==null?(Yr(),r.child=t.child,r.flags|=128,r=null):(Yr(),S=l.fallback,f=r.mode,l=jc({mode:"visible",children:l.children},f),S=Js(S,f,a,null),S.flags|=2,l.return=r,S.return=r,l.sibling=S,r.child=l,sa(r,t.child,null,a),l=r.child,l.memoizedState=Bd(a),l.childLanes=qd(t,_,a),r.memoizedState=zd,r=Dl(null,l));else if(Kr(r),wm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var G=_.dgst;_=G,l=Error(s(419)),l.stack="",l.digest=_,vl({value:l,source:null,stack:null}),r=Hd(t,r,a)}else if(It||Za(t,r,a,!1),_=(a&t.childLanes)!==0,It||_){if(_=tt,_!==null&&(l=Jo(_,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,Ws(t,l),_n(_,t,l),Ud;Sm(S)||Yc(),r=Hd(t,r,a)}else Sm(S)?(r.flags|=192,r.child=t.child,r=null):(t=x.treeContext,nt=Gn(S.nextSibling),Ht=r,Le=!0,Br=null,Fn=!1,t!==null&&Ey(r,t),r=Fd(r,l.children),r.flags|=4096);return r}return f?(Yr(),S=l.fallback,f=r.mode,x=t.child,G=x.sibling,l=tr(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,G!==null?S=tr(G,S):(S=Js(S,f,a,null),S.flags|=2),S.return=r,l.return=r,l.sibling=S,r.child=l,Dl(null,l),l=r.child,S=t.child.memoizedState,S===null?S=Bd(a):(f=S.cachePool,f!==null?(x=Rt._currentValue,f=f.parent!==x?{parent:x,pool:x}:f):f=Ry(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=qd(t,_,a),r.memoizedState=zd,Dl(t.child,l)):(Kr(r),a=t.child,t=a.sibling,a=tr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function Fd(t,r){return r=jc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function jc(t,r){return t=An(22,t,null,r),t.lanes=0,t}function Hd(t,r,a){return sa(r,t.child,null,a),t=Fd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function j_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),sd(t.return,r,a)}function Gd(t,r,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function z_(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=_t.current,S=(_&2)!==0;if(S?(_=_&1|2,r.flags|=128):_&=1,le(_t,_),$t(t,r,l,a),l=Le?_l:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&j_(t,a,r);else if(t.tag===19)j_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Cc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Gd(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Cc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Gd(r,!0,a,null,d,l);break;case"together":Gd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function or(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Wr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Za(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=tr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=tr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function $d(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&vc(t)))}function LA(t,r,a){switch(r.tag){case 3:Ot(r,r.stateNode.containerInfo),Fr(r,Rt,t.memoizedState.cache),Zs();break;case 27:case 5:Ms(r);break;case 4:Ot(r,r.stateNode.containerInfo);break;case 10:Fr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,yd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Kr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?U_(t,r,a):(Kr(r),t=or(t,r,a),t!==null?t.sibling:null);Kr(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Za(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return z_(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(_t,_t.current),l)break;return null;case 22:return r.lanes=0,O_(t,r,a,r.pendingProps);case 24:Fr(r,Rt,t.memoizedState.cache)}return or(t,r,a)}function B_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)It=!0;else{if(!$d(t,a)&&(r.flags&128)===0)return It=!1,LA(t,r,a);It=(t.flags&131072)!==0}else It=!1,Le&&(r.flags&1048576)!==0&&vy(r,_l,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=ia(r.elementType),r.type=t,typeof t=="function")Wf(t)?(l=oa(t,l),r.tag=1,r=V_(null,r,t,l,a)):(r.tag=0,r=jd(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===ue){r.tag=11,r=N_(null,r,t,l,a);break e}else if(f===I){r.tag=14,r=x_(null,r,t,l,a);break e}}throw r=Ve(t)||t,Error(s(306,r,""))}}return r;case 0:return jd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=oa(l,r.pendingProps),V_(t,r,l,f,a);case 3:e:{if(Ot(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,fd(t,r),Rl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,Fr(r,Rt,l),l!==d.cache&&ad(r,[Rt],a,!0),Al(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=L_(t,r,l,a);break e}else if(l!==f){f=zn(Error(s(424)),r),vl(f),r=L_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=Gn(t.firstChild),Ht=r,Le=!0,Br=null,Fn=!0,a=Oy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Zs(),l===f){r=or(t,r,a);break e}$t(t,r,l,a)}r=r.child}return r;case 26:return Uc(t,r),t===null?(a=Jv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Le||(a=r.type,t=r.pendingProps,l=th(Ce.current).createElement(a),l[St]=r,l[Ut]=t,Kt(l,a,t),wt(l),r.stateNode=l):r.memoizedState=Jv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Ms(r),t===null&&Le&&(l=r.stateNode=Qv(r.type,r.pendingProps,Ce.current),Ht=r,Fn=!0,f=nt,ns(r.type)?(Am=f,nt=Gn(l.firstChild)):nt=f),$t(t,r,r.pendingProps.children,a),Uc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Le&&((f=l=nt)&&(l=d1(l,r.type,r.pendingProps,Fn),l!==null?(r.stateNode=l,Ht=r,nt=Gn(l.firstChild),Fn=!1,f=!0):f=!1),f||qr(r)),Ms(r),f=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Em(f,d)?l=null:_!==null&&Em(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=vd(t,r,IA,null,null,a),$l._currentValue=f),Uc(t,r),$t(t,r,l,a),r.child;case 6:return t===null&&Le&&((t=a=nt)&&(a=m1(a,r.pendingProps,Fn),a!==null?(r.stateNode=a,Ht=r,nt=null,t=!0):t=!1),t||qr(r)),null;case 13:return U_(t,r,a);case 4:return Ot(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=sa(r,null,l,a):$t(t,r,l,a),r.child;case 11:return N_(t,r,r.type,r.pendingProps,a);case 7:return $t(t,r,r.pendingProps,a),r.child;case 8:return $t(t,r,r.pendingProps.children,a),r.child;case 12:return $t(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Fr(r,r.type,l.value),$t(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,ta(r),f=Gt(f),l=l(f),r.flags|=1,$t(t,r,l,a),r.child;case 14:return x_(t,r,r.type,r.pendingProps,a);case 15:return D_(t,r,r.type,r.pendingProps,a);case 19:return z_(t,r,a);case 31:return VA(t,r,a);case 22:return O_(t,r,a,r.pendingProps);case 24:return ta(r),l=Gt(Rt),t===null?(f=ud(),f===null&&(f=tt,d=od(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},hd(r),Fr(r,Rt,f)):((t.lanes&a)!==0&&(fd(t,r),Rl(r,null,null,a),Al()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Fr(r,Rt,l)):(l=d.cache,Fr(r,Rt,l),l!==f.cache&&ad(r,[Rt],a,!0))),$t(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function lr(t){t.flags|=4}function Kd(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(mv())t.flags|=8192;else throw ra=Sc,cd}else t.flags&=-16777217}function q_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!iE(r))if(mv())t.flags|=8192;else throw ra=Sc,cd}function zc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?$u():536870912,t.lanes|=r,ho|=r)}function Ol(t,r){if(!Le)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function UA(t,r,a){var l=r.pendingProps;switch(td(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(r),null;case 1:return it(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),rr(Rt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ja(r)?lr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,id())),it(r),null;case 26:var f=r.type,d=r.memoizedState;return t===null?(lr(r),d!==null?(it(r),q_(r,d)):(it(r),Kd(r,f,null,l,a))):d?d!==t.memoizedState?(lr(r),it(r),q_(r,d)):(it(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&lr(r),it(r),Kd(r,f,t,l,a)),null;case 27:if(xa(r),a=Ce.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&lr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return it(r),null}t=he.current,Ja(r)?Ty(r):(t=Qv(f,l,a),r.stateNode=t,lr(r))}return it(r),null;case 5:if(xa(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&lr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return it(r),null}if(d=he.current,Ja(r))Ty(r);else{var _=th(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[St]=r,d[Ut]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;e:switch(Kt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&lr(r)}}return it(r),Kd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&lr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ce.current,Ja(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=Ht,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[St]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Uv(t.nodeValue,a)),t||qr(r,!0)}else t=th(t).createTextNode(l),t[St]=r,r.stateNode=t}return it(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Ja(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[St]=r}else Zs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;it(r),t=!1}else a=id(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Cn(r),r):(Cn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return it(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ja(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[St]=r}else Zs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;it(r),f=!1}else f=id(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Cn(r),r):(Cn(r),null)}return Cn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),zc(r,r.updateQueue),it(r),null);case 4:return at(),t===null&&pm(r.stateNode.containerInfo),it(r),null;case 10:return rr(r.type),it(r),null;case 19:if(te(_t),l=r.memoizedState,l===null)return it(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)Ol(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Cc(t),d!==null){for(r.flags|=128,Ol(l,!1),t=d.updateQueue,r.updateQueue=t,zc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)gy(a,t),a=a.sibling;return le(_t,_t.current&1|2),Le&&nr(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&an()>Gc&&(r.flags|=128,f=!0,Ol(l,!1),r.lanes=4194304)}else{if(!f)if(t=Cc(d),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,zc(r,t),Ol(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return it(r),null}else 2*an()-l.renderingStartTime>Gc&&a!==536870912&&(r.flags|=128,f=!0,Ol(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=an(),t.sibling=null,a=_t.current,le(_t,f?a&1|2:a&1),Le&&nr(r,l.treeForkCount),t):(it(r),null);case 22:case 23:return Cn(r),gd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(it(r),r.subtreeFlags&6&&(r.flags|=8192)):it(r),a=r.updateQueue,a!==null&&zc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&te(na),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),rr(Rt),it(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function jA(t,r){switch(td(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return rr(Rt),at(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return xa(r),null;case 31:if(r.memoizedState!==null){if(Cn(r),r.alternate===null)throw Error(s(340));Zs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Cn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Zs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return te(_t),null;case 4:return at(),null;case 10:return rr(r.type),null;case 22:case 23:return Cn(r),gd(),t!==null&&te(na),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return rr(Rt),null;case 25:return null;default:return null}}function F_(t,r){switch(td(r),r.tag){case 3:rr(Rt),at();break;case 26:case 27:case 5:xa(r);break;case 4:at();break;case 31:r.memoizedState!==null&&Cn(r);break;case 13:Cn(r);break;case 19:te(_t);break;case 10:rr(r.type);break;case 22:case 23:Cn(r),gd(),t!==null&&te(na);break;case 24:rr(Rt)}}function Ml(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){Xe(r,r.return,S)}}function Qr(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=r;var x=a,G=S;try{G()}catch(W){Xe(f,x,W)}}}l=l.next}while(l!==d)}}catch(W){Xe(r,r.return,W)}}function H_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{ky(r,a)}catch(l){Xe(t,t.return,l)}}}function G_(t,r,a){a.props=oa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,r,l)}}function kl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Xe(t,r,f)}}function ji(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xe(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xe(t,r,f)}else a.current=null}function $_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xe(t,t.return,f)}}function Yd(t,r,a){try{var l=t.stateNode;o1(l,t.type,a,r),l[Ut]=r}catch(f){Xe(t,t.return,f)}}function K_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ns(t.type)||t.tag===4}function Qd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||K_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ns(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ii));else if(l!==4&&(l===27&&ns(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Xd(t,r,a),t=t.sibling;t!==null;)Xd(t,r,a),t=t.sibling}function Bc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&ns(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Bc(t,r,a),t=t.sibling;t!==null;)Bc(t,r,a),t=t.sibling}function Y_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Kt(r,l,a),r[St]=t,r[Ut]=a}catch(d){Xe(t,t.return,d)}}var ur=!1,Nt=!1,Wd=!1,Q_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function zA(t,r){if(t=t.containerInfo,_m=lh,t=oy(t),Hf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,x=-1,G=0,W=0,ee=t,$=null;t:for(;;){for(var Q;ee!==a||f!==0&&ee.nodeType!==3||(S=_+f),ee!==d||l!==0&&ee.nodeType!==3||(x=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)$=ee,ee=Q;for(;;){if(ee===t)break t;if($===a&&++G===f&&(S=_),$===d&&++W===l&&(x=_),(Q=ee.nextSibling)!==null)break;ee=$,$=ee.parentNode}ee=Q}a=S===-1||x===-1?null:{start:S,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(vm={focusedElem:t,selectionRange:a},lh=!1,zt=r;zt!==null;)if(r=zt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,zt=t;else for(;zt!==null;){switch(r=zt,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=oa(a.type,f);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Xe(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)bm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,zt=t;break}zt=r.return}}function X_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:hr(t,a),l&4&&Ml(5,a);break;case 1:if(hr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var f=oa(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}l&64&&H_(a),l&512&&kl(a,a.return);break;case 3:if(hr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{ky(t,r)}catch(_){Xe(a,a.return,_)}}break;case 27:r===null&&l&4&&Y_(a);case 26:case 5:hr(t,a),r===null&&l&4&&$_(a),l&512&&kl(a,a.return);break;case 12:hr(t,a);break;case 31:hr(t,a),l&4&&Z_(t,a);break;case 13:hr(t,a),l&4&&ev(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=QA.bind(null,a),p1(t,a))));break;case 22:if(l=a.memoizedState!==null||ur,!l){r=r!==null&&r.memoizedState!==null||Nt,f=ur;var d=Nt;ur=l,(Nt=r)&&!d?fr(t,a,(a.subtreeFlags&8772)!==0):hr(t,a),ur=f,Nt=d}break;case 30:break;default:hr(t,a)}}function W_(t){var r=t.alternate;r!==null&&(t.alternate=null,W_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Pa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,mn=!1;function cr(t,r,a){for(a=a.child;a!==null;)J_(t,r,a),a=a.sibling}function J_(t,r,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Zn,a)}catch{}switch(a.tag){case 26:Nt||ji(a,r),cr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||ji(a,r);var l=lt,f=mn;ns(a.type)&&(lt=a.stateNode,mn=!1),cr(t,r,a),Fl(a.stateNode),lt=l,mn=f;break;case 5:Nt||ji(a,r);case 6:if(l=lt,f=mn,lt=null,cr(t,r,a),lt=l,mn=f,lt!==null)if(mn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){Xe(a,r,d)}else try{lt.removeChild(a.stateNode)}catch(d){Xe(a,r,d)}break;case 18:lt!==null&&(mn?(t=lt,Hv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Eo(t)):Hv(lt,a.stateNode));break;case 4:l=lt,f=mn,lt=a.stateNode.containerInfo,mn=!0,cr(t,r,a),lt=l,mn=f;break;case 0:case 11:case 14:case 15:Qr(2,a,r),Nt||Qr(4,a,r),cr(t,r,a);break;case 1:Nt||(ji(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&G_(a,r,l)),cr(t,r,a);break;case 21:cr(t,r,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,cr(t,r,a),Nt=l;break;default:cr(t,r,a)}}function Z_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Eo(t)}catch(a){Xe(r,r.return,a)}}}function ev(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Eo(t)}catch(a){Xe(r,r.return,a)}}function BA(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Q_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Q_),r;default:throw Error(s(435,t.tag))}}function qc(t,r){var a=BA(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=XA.bind(null,t,l);l.then(f,f)}})}function pn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(ns(S.type)){lt=S.stateNode,mn=!1;break e}break;case 5:lt=S.stateNode,mn=!1;break e;case 3:case 4:lt=S.stateNode.containerInfo,mn=!0;break e}S=S.return}if(lt===null)throw Error(s(160));J_(d,_,f),lt=null,mn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)tv(r,t),r=r.sibling}var ui=null;function tv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(r,t),gn(t),l&4&&(Qr(3,t,t.return),Ml(3,t),Qr(5,t,t.return));break;case 1:pn(r,t),gn(t),l&512&&(Nt||a===null||ji(a,a.return)),l&64&&ur&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ui;if(pn(r,t),gn(t),l&512&&(Nt||a===null||ji(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ai]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Kt(d,l,a),d[St]=t,wt(d),l=d;break e;case"link":var _=tE("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=f.createElement(l),Kt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=tE("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=f.createElement(l),Kt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,wt(d),l=d}t.stateNode=l}else nE(f,t.type,t.stateNode);else t.stateNode=eE(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?nE(f,t.type,t.stateNode):eE(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Yd(t,t.memoizedProps,a.memoizedProps)}break;case 27:pn(r,t),gn(t),l&512&&(Nt||a===null||ji(a,a.return)),a!==null&&l&4&&Yd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pn(r,t),gn(t),l&512&&(Nt||a===null||ji(a,a.return)),t.flags&32){f=t.stateNode;try{dn(f,"")}catch(fe){Xe(t,t.return,fe)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Yd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Wd=!0);break;case 6:if(pn(r,t),gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){Xe(t,t.return,fe)}}break;case 3:if(rh=null,f=ui,ui=nh(r.containerInfo),pn(r,t),ui=f,gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Eo(r.containerInfo)}catch(fe){Xe(t,t.return,fe)}Wd&&(Wd=!1,nv(t));break;case 4:l=ui,ui=nh(t.stateNode.containerInfo),pn(r,t),gn(t),ui=l;break;case 12:pn(r,t),gn(t);break;case 31:pn(r,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qc(t,l)));break;case 13:pn(r,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Hc=an()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qc(t,l)));break;case 22:f=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,G=ur,W=Nt;if(ur=G||f,Nt=W||x,pn(r,t),Nt=W,ur=G,gn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||x||ur||Nt||la(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){x=a=r;try{if(d=x.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=x.stateNode;var ee=x.memoizedProps.style,$=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(fe){Xe(x,x.return,fe)}}}else if(r.tag===6){if(a===null){x=r;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(fe){Xe(x,x.return,fe)}}}else if(r.tag===18){if(a===null){x=r;try{var Q=x.stateNode;f?Gv(Q,!0):Gv(x.stateNode,!1)}catch(fe){Xe(x,x.return,fe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,qc(t,a))));break;case 19:pn(r,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qc(t,l)));break;case 30:break;case 21:break;default:pn(r,t),gn(t)}}function gn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(K_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Qd(t);Bc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(dn(_,""),a.flags&=-33);var S=Qd(t);Bc(t,S,_);break;case 3:case 4:var x=a.stateNode.containerInfo,G=Qd(t);Xd(t,G,x);break;default:throw Error(s(161))}}catch(W){Xe(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function nv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;nv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function hr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)X_(t,r.alternate,r),r=r.sibling}function la(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Qr(4,r,r.return),la(r);break;case 1:ji(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&G_(r,r.return,a),la(r);break;case 27:Fl(r.stateNode);case 26:case 5:ji(r,r.return),la(r);break;case 22:r.memoizedState===null&&la(r);break;case 30:la(r);break;default:la(r)}t=t.sibling}}function fr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:fr(f,d,a),Ml(4,d);break;case 1:if(fr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){Xe(l,l.return,G)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)My(x[f],S)}catch(G){Xe(l,l.return,G)}}a&&_&64&&H_(d),kl(d,d.return);break;case 27:Y_(d);case 26:case 5:fr(f,d,a),a&&l===null&&_&4&&$_(d),kl(d,d.return);break;case 12:fr(f,d,a);break;case 31:fr(f,d,a),a&&_&4&&Z_(f,d);break;case 13:fr(f,d,a),a&&_&4&&ev(f,d);break;case 22:d.memoizedState===null&&fr(f,d,a),kl(d,d.return);break;case 30:break;default:fr(f,d,a)}r=r.sibling}}function Jd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&El(a))}function Zd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&El(t))}function ci(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)iv(t,r,a,l),r=r.sibling}function iv(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ci(t,r,a,l),f&2048&&Ml(9,r);break;case 1:ci(t,r,a,l);break;case 3:ci(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&El(t)));break;case 12:if(f&2048){ci(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Xe(r,r.return,x)}}else ci(t,r,a,l);break;case 31:ci(t,r,a,l);break;case 13:ci(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?ci(t,r,a,l):Pl(t,r):d._visibility&2?ci(t,r,a,l):(d._visibility|=2,lo(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Jd(_,r);break;case 24:ci(t,r,a,l),f&2048&&Zd(r.alternate,r);break;default:ci(t,r,a,l)}}function lo(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,_=r,S=a,x=l,G=_.flags;switch(_.tag){case 0:case 11:case 15:lo(d,_,S,x,f),Ml(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?lo(d,_,S,x,f):Pl(d,_):(W._visibility|=2,lo(d,_,S,x,f)),f&&G&2048&&Jd(_.alternate,_);break;case 24:lo(d,_,S,x,f),f&&G&2048&&Zd(_.alternate,_);break;default:lo(d,_,S,x,f)}r=r.sibling}}function Pl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:Pl(a,l),f&2048&&Jd(l.alternate,l);break;case 24:Pl(a,l),f&2048&&Zd(l.alternate,l);break;default:Pl(a,l)}r=r.sibling}}var Vl=8192;function uo(t,r,a){if(t.subtreeFlags&Vl)for(t=t.child;t!==null;)rv(t,r,a),t=t.sibling}function rv(t,r,a){switch(t.tag){case 26:uo(t,r,a),t.flags&Vl&&t.memoizedState!==null&&C1(a,ui,t.memoizedState,t.memoizedProps);break;case 5:uo(t,r,a);break;case 3:case 4:var l=ui;ui=nh(t.stateNode.containerInfo),uo(t,r,a),ui=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Vl,Vl=16777216,uo(t,r,a),Vl=l):uo(t,r,a));break;default:uo(t,r,a)}}function sv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Ll(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,ov(l,t)}sv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)av(t),t=t.sibling}function av(t){switch(t.tag){case 0:case 11:case 15:Ll(t),t.flags&2048&&Qr(9,t,t.return);break;case 3:Ll(t);break;case 12:Ll(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Fc(t)):Ll(t);break;default:Ll(t)}}function Fc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,ov(l,t)}sv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Qr(8,r,r.return),Fc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Fc(r));break;default:Fc(r)}t=t.sibling}}function ov(t,r){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Qr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var f=l.sibling,d=l.return;if(W_(l),l===a){zt=null;break e}if(f!==null){f.return=d,zt=f;break e}zt=d}}}var qA={getCacheForType:function(t){var r=Gt(Rt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Gt(Rt).controller.signal}},FA=typeof WeakMap=="function"?WeakMap:Map,Ge=0,tt=null,Ne=null,De=0,Qe=0,In=null,Xr=!1,co=!1,em=!1,dr=0,dt=0,Wr=0,ua=0,tm=0,Nn=0,ho=0,Ul=null,yn=null,nm=!1,Hc=0,lv=0,Gc=1/0,$c=null,Jr=null,kt=0,Zr=null,fo=null,mr=0,im=0,rm=null,uv=null,jl=0,sm=null;function xn(){return(Ge&2)!==0&&De!==0?De&-De:X.T!==null?hm():Ku()}function cv(){if(Nn===0)if((De&536870912)===0||Le){var t=Vs;Vs<<=1,(Vs&3932160)===0&&(Vs=262144),Nn=t}else Nn=536870912;return t=Rn.current,t!==null&&(t.flags|=32),Nn}function _n(t,r,a){(t===tt&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(mo(t,0),es(t,De,Nn,!1)),Ls(t,a),((Ge&2)===0||t!==tt)&&(t===tt&&((Ge&2)===0&&(ua|=a),dt===4&&es(t,De,Nn,!1)),zi(t))}function hv(t,r,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||ei(t,r),f=l?$A(t,r):om(t,r,!0),d=l;do{if(f===0){co&&!l&&es(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!HA(a)){f=om(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var S=t;f=Ul;var x=S.current.memoizedState.isDehydrated;if(x&&(mo(S,_).flags|=256),_=om(S,_,!1),_!==2){if(em&&!x){S.errorRecoveryDisabledLanes|=d,ua|=d,f=4;break e}d=yn,yn=f,d!==null&&(yn===null?yn=d:yn.push.apply(yn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){mo(t,0),es(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:es(l,r,Nn,!Xr);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Hc+300-an(),10<f)){if(es(l,r,Nn,!Xr),bi(l,0,!0)!==0)break e;mr=r,l.timeoutHandle=qv(fv.bind(null,l,a,yn,$c,nm,r,Nn,ua,ho,Xr,d,"Throttled",-0,0),f);break e}fv(l,a,yn,$c,nm,r,Nn,ua,ho,Xr,d,null,-0,0)}}break}while(!0);zi(t)}function fv(t,r,a,l,f,d,_,S,x,G,W,ee,$,Q){if(t.timeoutHandle=-1,ee=r.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},rv(r,d,ee);var fe=(d&62914560)===d?Hc-an():(d&4194048)===d?lv-an():0;if(fe=I1(ee,fe),fe!==null){mr=d,t.cancelPendingCommit=fe(Ev.bind(null,t,r,d,a,l,f,_,S,x,W,ee,null,$,Q)),es(t,d,_,!G);return}}Ev(t,r,d,a,l,f,_,S,x)}function HA(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!wn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function es(t,r,a,l){r&=~tm,r&=~ua,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-gt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Us(t,a,r)}function Kc(){return(Ge&6)===0?(zl(0),!1):!0}function am(){if(Ne!==null){if(Qe===0)var t=Ne.return;else t=Ne,ir=ea=null,bd(t),io=null,bl=0,t=Ne;for(;t!==null;)F_(t.alternate,t),t=t.return;Ne=null}}function mo(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,c1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),mr=0,am(),tt=t,Ne=a=tr(t.current,null),De=r,Qe=0,In=null,Xr=!1,co=ei(t,r),em=!1,ho=Nn=tm=ua=Wr=dt=0,yn=Ul=null,nm=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-gt(l),d=1<<f;r|=t[f],l&=~d}return dr=r,mc(),a}function dv(t,r){Re=null,X.H=xl,r===no||r===bc?(r=Ny(),Qe=3):r===cd?(r=Ny(),Qe=4):Qe=r===Ud?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,In=r,Ne===null&&(dt=1,Vc(t,zn(r,t.current)))}function mv(){var t=Rn.current;return t===null?!0:(De&4194048)===De?Hn===null:(De&62914560)===De||(De&536870912)!==0?t===Hn:!1}function pv(){var t=X.H;return X.H=xl,t===null?xl:t}function gv(){var t=X.A;return X.A=qA,t}function Yc(){dt=4,Xr||(De&4194048)!==De&&Rn.current!==null||(co=!0),(Wr&134217727)===0&&(ua&134217727)===0||tt===null||es(tt,De,Nn,!1)}function om(t,r,a){var l=Ge;Ge|=2;var f=pv(),d=gv();(tt!==t||De!==r)&&($c=null,mo(t,r)),r=!1;var _=dt;e:do try{if(Qe!==0&&Ne!==null){var S=Ne,x=In;switch(Qe){case 8:am(),_=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(r=!0);var G=Qe;if(Qe=0,In=null,po(t,S,x,G),a&&co){_=0;break e}break;default:G=Qe,Qe=0,In=null,po(t,S,x,G)}}GA(),_=dt;break}catch(W){dv(t,W)}while(!0);return r&&t.shellSuspendCounter++,ir=ea=null,Ge=l,X.H=f,X.A=d,Ne===null&&(tt=null,De=0,mc()),_}function GA(){for(;Ne!==null;)yv(Ne)}function $A(t,r){var a=Ge;Ge|=2;var l=pv(),f=gv();tt!==t||De!==r?($c=null,Gc=an()+500,mo(t,r)):co=ei(t,r);e:do try{if(Qe!==0&&Ne!==null){r=Ne;var d=In;t:switch(Qe){case 1:Qe=0,In=null,po(t,r,d,1);break;case 2:case 9:if(Cy(d)){Qe=0,In=null,_v(r);break}r=function(){Qe!==2&&Qe!==9||tt!==t||(Qe=7),zi(t)},d.then(r,r);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Cy(d)?(Qe=0,In=null,_v(r)):(Qe=0,In=null,po(t,r,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var S=Ne;if(_?iE(_):S.stateNode.complete){Qe=0,In=null;var x=S.sibling;if(x!==null)Ne=x;else{var G=S.return;G!==null?(Ne=G,Qc(G)):Ne=null}break t}}Qe=0,In=null,po(t,r,d,5);break;case 6:Qe=0,In=null,po(t,r,d,6);break;case 8:am(),dt=6;break e;default:throw Error(s(462))}}KA();break}catch(W){dv(t,W)}while(!0);return ir=ea=null,X.H=l,X.A=f,Ge=a,Ne!==null?0:(tt=null,De=0,mc(),dt)}function KA(){for(;Ne!==null&&!Lf();)yv(Ne)}function yv(t){var r=B_(t.alternate,t,dr);t.memoizedProps=t.pendingProps,r===null?Qc(t):Ne=r}function _v(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=P_(a,r,r.pendingProps,r.type,void 0,De);break;case 11:r=P_(a,r,r.pendingProps,r.type.render,r.ref,De);break;case 5:bd(r);default:F_(a,r),r=Ne=gy(r,dr),r=B_(a,r,dr)}t.memoizedProps=t.pendingProps,r===null?Qc(t):Ne=r}function po(t,r,a,l){ir=ea=null,bd(r),io=null,bl=0;var f=r.return;try{if(PA(t,f,r,a,De)){dt=1,Vc(t,zn(a,t.current)),Ne=null;return}}catch(d){if(f!==null)throw Ne=f,d;dt=1,Vc(t,zn(a,t.current)),Ne=null;return}r.flags&32768?(Le||l===1?t=!0:co||(De&536870912)!==0?t=!1:(Xr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),vv(r,t)):Qc(r)}function Qc(t){var r=t;do{if((r.flags&32768)!==0){vv(r,Xr);return}t=r.return;var a=UA(r.alternate,r,dr);if(a!==null){Ne=a;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=t}while(r!==null);dt===0&&(dt=5)}function vv(t,r){do{var a=jA(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);dt=6,Ne=null}function Ev(t,r,a,l,f,d,_,S,x){t.cancelPendingCommit=null;do Xc();while(kt!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Qf,zf(t,a,d,_,S,x),t===tt&&(Ne=tt=null,De=0),fo=r,Zr=t,mr=a,im=d,rm=f,uv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,WA(xr,function(){return Av(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=oe.p,oe.p=2,_=Ge,Ge|=4;try{zA(t,r,a)}finally{Ge=_,oe.p=f,X.T=l}}kt=1,Tv(),bv(),Sv()}}function Tv(){if(kt===1){kt=0;var t=Zr,r=fo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var f=Ge;Ge|=4;try{tv(r,t);var d=vm,_=oy(t.containerInfo),S=d.focusedElem,x=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&ay(S.ownerDocument.documentElement,S)){if(x!==null&&Hf(S)){var G=x.start,W=x.end;if(W===void 0&&(W=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min(W,S.value.length);else{var ee=S.ownerDocument||document,$=ee&&ee.defaultView||window;if($.getSelection){var Q=$.getSelection(),fe=S.textContent.length,_e=Math.min(x.start,fe),et=x.end===void 0?_e:Math.min(x.end,fe);!Q.extend&&_e>et&&(_=et,et=_e,_e=_);var q=sy(S,_e),V=sy(S,et);if(q&&V&&(Q.rangeCount!==1||Q.anchorNode!==q.node||Q.anchorOffset!==q.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var H=ee.createRange();H.setStart(q.node,q.offset),Q.removeAllRanges(),_e>et?(Q.addRange(H),Q.extend(V.node,V.offset)):(H.setEnd(V.node,V.offset),Q.addRange(H))}}}}for(ee=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var Z=ee[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}lh=!!_m,vm=_m=null}finally{Ge=f,oe.p=l,X.T=a}}t.current=r,kt=2}}function bv(){if(kt===2){kt=0;var t=Zr,r=fo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var f=Ge;Ge|=4;try{X_(t,r.alternate,r)}finally{Ge=f,oe.p=l,X.T=a}}kt=3}}function Sv(){if(kt===4||kt===3){kt=0,zu();var t=Zr,r=fo,a=mr,l=uv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?kt=5:(kt=0,fo=Zr=null,wv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Jr=null),Wi(a),r=r.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Zn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,f=oe.p,oe.p=2,X.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{X.T=r,oe.p=f}}(mr&3)!==0&&Xc(),zi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===sm?jl++:(jl=0,sm=t):jl=0,zl(0)}}function wv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,El(r)))}function Xc(){return Tv(),bv(),Sv(),Av()}function Av(){if(kt!==5)return!1;var t=Zr,r=im;im=0;var a=Wi(mr),l=X.T,f=oe.p;try{oe.p=32>a?32:a,X.T=null,a=rm,rm=null;var d=Zr,_=mr;if(kt=0,fo=Zr=null,mr=0,(Ge&6)!==0)throw Error(s(331));var S=Ge;if(Ge|=4,av(d.current),iv(d,d.current,_,a),Ge=S,zl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Zn,d)}catch{}return!0}finally{oe.p=f,X.T=l,wv(t,r)}}function Rv(t,r,a){r=zn(a,r),r=Ld(t.stateNode,r,2),t=$r(t,r,2),t!==null&&(Ls(t,2),zi(t))}function Xe(t,r,a){if(t.tag===3)Rv(t,t,a);else for(;r!==null;){if(r.tag===3){Rv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Jr===null||!Jr.has(l))){t=zn(a,t),a=C_(2),l=$r(r,a,2),l!==null&&(I_(a,l,r,t),Ls(l,2),zi(l));break}}r=r.return}}function lm(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new FA;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(em=!0,f.add(a),t=YA.bind(null,t,r,a),r.then(t,t))}function YA(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(De&a)===a&&(dt===4||dt===3&&(De&62914560)===De&&300>an()-Hc?(Ge&2)===0&&mo(t,0):tm|=a,ho===De&&(ho=0)),zi(t)}function Cv(t,r){r===0&&(r=$u()),t=Ws(t,r),t!==null&&(Ls(t,r),zi(t))}function QA(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Cv(t,a)}function XA(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Cv(t,a)}function WA(t,r){return Mt(t,r)}var Wc=null,go=null,um=!1,Jc=!1,cm=!1,ts=0;function zi(t){t!==go&&t.next===null&&(go===null?Wc=go=t:go=go.next=t),Jc=!0,um||(um=!0,ZA())}function zl(t,r){if(!cm&&Jc){cm=!0;do for(var a=!1,l=Wc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-gt(42|t)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Dv(l,d))}else d=De,d=bi(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ei(l,d)||(a=!0,Dv(l,d));l=l.next}while(a);cm=!1}}function JA(){Iv()}function Iv(){Jc=um=!1;var t=0;ts!==0&&u1()&&(t=ts);for(var r=an(),a=null,l=Wc;l!==null;){var f=l.next,d=Nv(l,r);d===0?(l.next=null,a===null?Wc=f:a.next=f,f===null&&(go=a)):(a=l,(t!==0||(d&3)!==0)&&(Jc=!0)),l=f}kt!==0&&kt!==5||zl(t),ts!==0&&(ts=0)}function Nv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-gt(d),S=1<<_,x=f[_];x===-1?((S&a)===0||(S&l)!==0)&&(f[_]=jf(S,r)):x<=r&&(t.expiredLanes|=S),d&=~S}if(r=tt,a=De,a=bi(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Nr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ei(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Nr(l),Wi(a)){case 2:case 8:a=Xo;break;case 32:a=xr;break;case 268435456:a=Bu;break;default:a=xr}return l=xv.bind(null,t),a=Mt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Nr(l),t.callbackPriority=2,t.callbackNode=null,2}function xv(t,r){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Xc()&&t.callbackNode!==a)return null;var l=De;return l=bi(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(hv(t,l,r),Nv(t,an()),t.callbackNode!=null&&t.callbackNode===a?xv.bind(null,t):null)}function Dv(t,r){if(Xc())return null;hv(t,r,!0)}function ZA(){h1(function(){(Ge&6)!==0?Mt(Qo,JA):Iv()})}function hm(){if(ts===0){var t=eo;t===0&&(t=Ei,Ei<<=1,(Ei&261888)===0&&(Ei=256)),ts=t}return ts}function Ov(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ja(""+t)}function Mv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function e1(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=Ov((f[Ut]||null).action),_=l.submitter;_&&(r=(r=_[Ut]||null)?Ov(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var S=new Mi("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ts!==0){var x=_?Mv(f,_):new FormData(f);Dd(a,{pending:!0,data:x,method:f.method,action:d},null,x)}}else typeof d=="function"&&(S.preventDefault(),x=_?Mv(f,_):new FormData(f),Dd(a,{pending:!0,data:x,method:f.method,action:d},d,x))},currentTarget:f}]})}}for(var fm=0;fm<Yf.length;fm++){var dm=Yf[fm],t1=dm.toLowerCase(),n1=dm[0].toUpperCase()+dm.slice(1);li(t1,"on"+n1)}li(cy,"onAnimationEnd"),li(hy,"onAnimationIteration"),li(fy,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(_A,"onTransitionRun"),li(vA,"onTransitionStart"),li(EA,"onTransitionCancel"),li(dy,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function kv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var S=l[_],x=S.instance,G=S.currentTarget;if(S=S.listener,x!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=G;try{d(f)}catch(W){dc(W)}f.currentTarget=null,d=x}else for(_=0;_<l.length;_++){if(S=l[_],x=S.instance,G=S.currentTarget,S=S.listener,x!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=G;try{d(f)}catch(W){dc(W)}f.currentTarget=null,d=x}}}}function xe(t,r){var a=r[ka];a===void 0&&(a=r[ka]=new Set);var l=t+"__bubble";a.has(l)||(Pv(r,t,2,!1),a.add(l))}function mm(t,r,a){var l=0;r&&(l|=4),Pv(a,t,l,r)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function pm(t){if(!t[Zc]){t[Zc]=!0,Zo.forEach(function(a){a!=="selectionchange"&&(i1.has(a)||mm(a,!1,t),mm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Zc]||(r[Zc]=!0,mm("selectionchange",!1,r))}}function Pv(t,r,a,l){switch(cE(r)){case 2:var f=D1;break;case 8:f=O1;break;default:f=xm}a=f.bind(null,r,a,t),f=void 0,!Fs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function gm(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=Ri(S),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=d=_;continue e}S=S.parentNode}}l=l.return}Vr(function(){var G=d,W=Vn(a),ee=[];e:{var $=my.get(t);if($!==void 0){var Q=Mi,fe=t;switch(t){case"keypress":if(Gs(a)===0)break e;case"keydown":case"keyup":Q=cc;break;case"focusin":fe="focus",Q=Ks;break;case"focusout":fe="blur",Q=Ks;break;case"beforeblur":case"afterblur":Q=Ks;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case cy:case hy:case fy:Q=ic;break;case dy:Q=w;break;case"scroll":case"scrollend":Q=hl;break;case"wheel":Q=Y;break;case"copy":case"cut":case"paste":Q=rc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=er;break;case"toggle":case"beforetoggle":Q=Ae}var _e=(r&4)!==0,et=!_e&&(t==="scroll"||t==="scrollend"),q=_e?$!==null?$+"Capture":null:$;_e=[];for(var V=G,H;V!==null;){var Z=V;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||q===null||(Z=ri(V,q),Z!=null&&_e.push(ql(V,Z,H))),et)break;V=V.return}0<_e.length&&($=new Q($,fe,null,a,W),ee.push({event:$,listeners:_e}))}}if((r&7)===0){e:{if($=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",$&&a!==ll&&(fe=a.relatedTarget||a.fromElement)&&(Ri(fe)||fe[wi]))break e;if((Q||$)&&($=W.window===W?W:($=W.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(fe=a.relatedTarget||a.toElement,Q=G,fe=fe?Ri(fe):null,fe!==null&&(et=u(fe),_e=fe.tag,fe!==et||_e!==5&&_e!==27&&_e!==6)&&(fe=null)):(Q=null,fe=G),Q!==fe)){if(_e=fl,Z="onMouseLeave",q="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(_e=er,Z="onPointerLeave",q="onPointerEnter",V="pointer"),et=Q==null?$:bn(Q),H=fe==null?$:bn(fe),$=new _e(Z,V+"leave",Q,a,W),$.target=et,$.relatedTarget=H,Z=null,Ri(W)===G&&(_e=new _e(q,V+"enter",fe,a,W),_e.target=H,_e.relatedTarget=et,Z=_e),et=Z,Q&&fe)t:{for(_e=r1,q=Q,V=fe,H=0,Z=q;Z;Z=_e(Z))H++;Z=0;for(var pe=V;pe;pe=_e(pe))Z++;for(;0<H-Z;)q=_e(q),H--;for(;0<Z-H;)V=_e(V),Z--;for(;H--;){if(q===V||V!==null&&q===V.alternate){_e=q;break t}q=_e(q),V=_e(V)}_e=null}else _e=null;Q!==null&&Vv(ee,$,Q,_e,!1),fe!==null&&et!==null&&Vv(ee,et,fe,_e,!0)}}e:{if($=G?bn(G):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var qe=Zg;else if(Wg($))if(ey)qe=pA;else{qe=dA;var de=fA}else Q=$.nodeName,!Q||Q.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&Ua(G.elementType)&&(qe=Zg):qe=mA;if(qe&&(qe=qe(t,G))){Jg(ee,qe,a,W);break e}de&&de(t,$,G),t==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&sl($,"number",$.value)}switch(de=G?bn(G):window,t){case"focusin":(Wg(de)||de.contentEditable==="true")&&($a=de,Gf=G,yl=null);break;case"focusout":yl=Gf=$a=null;break;case"mousedown":$f=!0;break;case"contextmenu":case"mouseup":case"dragend":$f=!1,ly(ee,a,W);break;case"selectionchange":if(yA)break;case"keydown":case"keyup":ly(ee,a,W)}var Ie;if(He)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ga?Ys(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Vi&&a.locale!=="ko"&&(Ga||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ga&&(Ie=cl()):(Oi=W,ul="value"in Oi?Oi.value:Oi.textContent,Ga=!0)),de=eh(G,Oe),0<de.length&&(Oe=new Pi(Oe,t,null,a,W),ee.push({event:Oe,listeners:de}),Ie?Oe.data=Ie:(Ie=Ha(a),Ie!==null&&(Oe.data=Ie)))),(Ie=Un?lA(t,a):uA(t,a))&&(Oe=eh(G,"onBeforeInput"),0<Oe.length&&(de=new Pi("onBeforeInput","beforeinput",null,a,W),ee.push({event:de,listeners:Oe}),de.data=Ie)),e1(ee,t,G,a,W)}kv(ee,r)})}function ql(t,r,a){return{instance:t,listener:r,currentTarget:a}}function eh(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ri(t,a),f!=null&&l.unshift(ql(t,f,d)),f=ri(t,r),f!=null&&l.push(ql(t,f,d))),t.tag===3)return l;t=t.return}return[]}function r1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Vv(t,r,a,l,f){for(var d=r._reactName,_=[];a!==null&&a!==l;){var S=a,x=S.alternate,G=S.stateNode;if(S=S.tag,x!==null&&x===l)break;S!==5&&S!==26&&S!==27||G===null||(x=G,f?(G=ri(a,d),G!=null&&_.unshift(ql(a,G,x))):f||(G=ri(a,d),G!=null&&_.push(ql(a,G,x)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var s1=/\r\n?/g,a1=/\u0000|\uFFFD/g;function Lv(t){return(typeof t=="string"?t:""+t).replace(s1,`
`).replace(a1,"")}function Uv(t,r){return r=Lv(r),Lv(t)===r}function Ze(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&dn(t,""+l);break;case"className":Sn(t,"class",l);break;case"tabIndex":Sn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(t,a,l);break;case"style":ol(t,l,d);break;case"data":if(r!=="object"){Sn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ja(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Ze(t,r,"name",f.name,f,null),Ze(t,r,"formEncType",f.formEncType,f,null),Ze(t,r,"formMethod",f.formMethod,f,null),Ze(t,r,"formTarget",f.formTarget,f,null)):(Ze(t,r,"encType",f.encType,f,null),Ze(t,r,"method",f.method,f,null),Ze(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ja(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ii);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ja(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),Va(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Va(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ec.get(a)||a,Va(t,a,l))}}function ym(t,r,a,l,f,d){switch(a){case"style":ol(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!el.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[Ut]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Va(t,a,l)}}}function Kt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(t,r,d,_,a,null)}}f&&Ze(t,r,"srcSet",a.srcSet,a,null),l&&Ze(t,r,"src",a.src,a,null);return;case"input":xe("invalid",t);var S=d=_=f=null,x=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":_=W;break;case"checked":x=W;break;case"defaultChecked":G=W;break;case"value":d=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Ze(t,r,l,W,a,null)}}Wu(t,d,S,x,G,_,f,!1);return;case"select":xe("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Ze(t,r,f,S,a,null)}r=d,a=_,t.multiple=!!l,r!=null?Or(t,!!l,r,!1):a!=null&&Or(t,!!l,a,!0);return;case"textarea":xe("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Ze(t,r,_,S,a,null)}Mr(t,l,f,d);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,r,x,l,a,null)}return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<Bl.length;l++)xe(Bl[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(t,r,G,l,a,null)}return;default:if(Ua(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&ym(t,r,W,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Ze(t,r,S,l,a,null))}function o1(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,x=null,G=null,W=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":x=ee;default:l.hasOwnProperty(Q)||Ze(t,r,Q,null,l,ee)}}for(var $ in l){var Q=l[$];if(ee=a[$],l.hasOwnProperty($)&&(Q!=null||ee!=null))switch($){case"type":d=Q;break;case"name":f=Q;break;case"checked":G=Q;break;case"defaultChecked":W=Q;break;case"value":_=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==ee&&Ze(t,r,$,Q,l,ee)}}La(t,_,S,x,G,W,d,f);return;case"select":Q=_=S=$=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":Q=x;default:l.hasOwnProperty(d)||Ze(t,r,d,null,l,x)}for(f in l)if(d=l[f],x=a[f],l.hasOwnProperty(f)&&(d!=null||x!=null))switch(f){case"value":$=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==x&&Ze(t,r,f,d,l,x)}r=S,a=_,l=Q,$!=null?Or(t,!!a,$,!1):!!l!=!!a&&(r!=null?Or(t,!!a,r,!0):Or(t,!!a,a?[]:"",!1));return;case"textarea":Q=$=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ze(t,r,S,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":$=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Ze(t,r,_,f,l,d)}Ju(t,$,Q);return;case"option":for(var fe in a)if($=a[fe],a.hasOwnProperty(fe)&&$!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:Ze(t,r,fe,null,l,$)}for(x in l)if($=l[x],Q=a[x],l.hasOwnProperty(x)&&$!==Q&&($!=null||Q!=null))switch(x){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Ze(t,r,x,$,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)$=a[_e],a.hasOwnProperty(_e)&&$!=null&&!l.hasOwnProperty(_e)&&Ze(t,r,_e,null,l,$);for(G in l)if($=l[G],Q=a[G],l.hasOwnProperty(G)&&$!==Q&&($!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:Ze(t,r,G,$,l,Q)}return;default:if(Ua(r)){for(var et in a)$=a[et],a.hasOwnProperty(et)&&$!==void 0&&!l.hasOwnProperty(et)&&ym(t,r,et,void 0,l,$);for(W in l)$=l[W],Q=a[W],!l.hasOwnProperty(W)||$===Q||$===void 0&&Q===void 0||ym(t,r,W,$,l,Q);return}}for(var q in a)$=a[q],a.hasOwnProperty(q)&&$!=null&&!l.hasOwnProperty(q)&&Ze(t,r,q,null,l,$);for(ee in l)$=l[ee],Q=a[ee],!l.hasOwnProperty(ee)||$===Q||$==null&&Q==null||Ze(t,r,ee,$,l,Q)}function jv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function l1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&jv(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var x=a[l],G=x.startTime;if(G>S)break;var W=x.transferSize,ee=x.initiatorType;W&&jv(ee)&&(x=x.responseEnd,_+=W*(x<S?1:(S-G)/(x-G)))}if(--l,r+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var _m=null,vm=null;function th(t){return t.nodeType===9?t:t.ownerDocument}function zv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Em(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Tm=null;function u1(){var t=window.event;return t&&t.type==="popstate"?t===Tm?!1:(Tm=t,!0):(Tm=null,!1)}var qv=typeof setTimeout=="function"?setTimeout:void 0,c1=typeof clearTimeout=="function"?clearTimeout:void 0,Fv=typeof Promise=="function"?Promise:void 0,h1=typeof queueMicrotask=="function"?queueMicrotask:typeof Fv<"u"?function(t){return Fv.resolve(null).then(t).catch(f1)}:qv;function f1(t){setTimeout(function(){throw t})}function ns(t){return t==="head"}function Hv(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),Eo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Fl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Fl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[Ai]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Fl(t.ownerDocument.body);a=f}while(a);Eo(r)}function Gv(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function bm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bm(a),Pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function d1(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ai])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Gn(t.nextSibling),t===null)break}return null}function m1(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Gn(t.nextSibling),t===null))return null;return t}function $v(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Gn(t.nextSibling),t===null))return null;return t}function Sm(t){return t.data==="$?"||t.data==="$~"}function wm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function p1(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Gn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Am=null;function Kv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Gn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function Yv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Qv(t,r,a){switch(r=th(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Fl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Pa(t)}var $n=new Map,Xv=new Set;function nh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var pr=oe.d;oe.d={f:g1,r:y1,D:_1,C:v1,L:E1,m:T1,X:S1,S:b1,M:w1};function g1(){var t=pr.f(),r=Kc();return t||r}function y1(t){var r=Pn(t);r!==null&&r.tag===5&&r.type==="form"?d_(r):pr.r(t)}var yo=typeof document>"u"?null:document;function Wv(t,r,a){var l=yo;if(l&&typeof r=="string"&&r){var f=fn(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Xv.has(f)||(Xv.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Kt(r,"link",t),wt(r),l.head.appendChild(r)))}}function _1(t){pr.D(t),Wv("dns-prefetch",t,null)}function v1(t,r){pr.C(t,r),Wv("preconnect",t,r)}function E1(t,r,a){pr.L(t,r,a);var l=yo;if(l&&t&&r){var f='link[rel="preload"][as="'+fn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+fn(a.imageSizes)+'"]')):f+='[href="'+fn(t)+'"]';var d=f;switch(r){case"style":d=_o(t);break;case"script":d=vo(t)}$n.has(d)||(t=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),$n.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Hl(d))||r==="script"&&l.querySelector(Gl(d))||(r=l.createElement("link"),Kt(r,"link",t),wt(r),l.head.appendChild(r)))}}function T1(t,r){pr.m(t,r);var a=yo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=vo(t)}if(!$n.has(d)&&(t=b({rel:"modulepreload",href:t},r),$n.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Gl(d)))return}l=a.createElement("link"),Kt(l,"link",t),wt(l),a.head.appendChild(l)}}}function b1(t,r,a){pr.S(t,r,a);var l=yo;if(l&&t){var f=Ci(l).hoistableStyles,d=_o(t);r=r||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Hl(d)))S.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":r},a),(a=$n.get(d))&&Rm(t,a);var x=_=l.createElement("link");wt(x),Kt(x,"link",t),x._p=new Promise(function(G,W){x.onload=G,x.onerror=W}),x.addEventListener("load",function(){S.loading|=1}),x.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ih(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function S1(t,r){pr.X(t,r);var a=yo;if(a&&t){var l=Ci(a).hoistableScripts,f=vo(t),d=l.get(f);d||(d=a.querySelector(Gl(f)),d||(t=b({src:t,async:!0},r),(r=$n.get(f))&&Cm(t,r),d=a.createElement("script"),wt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function w1(t,r){pr.M(t,r);var a=yo;if(a&&t){var l=Ci(a).hoistableScripts,f=vo(t),d=l.get(f);d||(d=a.querySelector(Gl(f)),d||(t=b({src:t,async:!0,type:"module"},r),(r=$n.get(f))&&Cm(t,r),d=a.createElement("script"),wt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Jv(t,r,a,l){var f=(f=Ce.current)?nh(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=_o(a.href),a=Ci(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=_o(a.href);var d=Ci(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Hl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),$n.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(t,a),d||A1(f,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=vo(a),a=Ci(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function _o(t){return'href="'+fn(t)+'"'}function Hl(t){return'link[rel="stylesheet"]['+t+"]"}function Zv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function A1(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Kt(r,"link",a),wt(r),t.head.appendChild(r))}function vo(t){return'[src="'+fn(t)+'"]'}function Gl(t){return"script[async]"+t}function eE(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+fn(a.href)+'"]');if(l)return r.instance=l,wt(l),l;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),wt(l),Kt(l,"style",f),ih(l,a.precedence,t),r.instance=l;case"stylesheet":f=_o(a.href);var d=t.querySelector(Hl(f));if(d)return r.state.loading|=4,r.instance=d,wt(d),d;l=Zv(a),(f=$n.get(f))&&Rm(l,f),d=(t.ownerDocument||t).createElement("link"),wt(d);var _=d;return _._p=new Promise(function(S,x){_.onload=S,_.onerror=x}),Kt(d,"link",l),r.state.loading|=4,ih(d,a.precedence,t),r.instance=d;case"script":return d=vo(a.src),(f=t.querySelector(Gl(d)))?(r.instance=f,wt(f),f):(l=a,(f=$n.get(d))&&(l=b({},a),Cm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),wt(f),Kt(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,ih(l,a.precedence,t));return r.instance}function ih(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===r)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Rm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Cm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var rh=null;function tE(t,r,a){if(rh===null){var l=new Map,f=rh=new Map;f.set(a,l)}else f=rh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[Ai]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function nE(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function R1(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function iE(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function C1(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=_o(l.href),d=r.querySelector(Hl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=sh.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,wt(d);return}d=r.ownerDocument||r,l=Zv(l),(f=$n.get(f))&&Rm(l,f),d=d.createElement("link"),wt(d);var _=d;_._p=new Promise(function(S,x){_.onload=S,_.onerror=x}),Kt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=sh.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var Im=0;function I1(t,r){return t.stylesheets&&t.count===0&&oh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&oh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&Im===0&&(Im=62500*l1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&oh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Im?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function sh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ah=null;function oh(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ah=new Map,r.forEach(N1,t),ah=null,sh.call(t))}function N1(t,r){if(!(r.state.loading&4)){var a=ah.get(t);if(a)var l=a.get(null);else{a=new Map,ah.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=sh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var $l={$$typeof:J,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function x1(t,r,a,l,f,d,_,S,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function rE(t,r,a,l,f,d,_,S,x,G,W,ee){return t=new x1(t,r,a,_,x,G,W,ee,S),r=1,d===!0&&(r|=24),d=An(3,null,null,r),t.current=d,d.stateNode=t,r=od(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},hd(d),t}function sE(t){return t?(t=Qa,t):Qa}function aE(t,r,a,l,f,d){f=sE(f),l.context===null?l.context=f:l.pendingContext=f,l=Gr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=$r(t,l,r),a!==null&&(_n(a,t,r),wl(a,t,r))}function oE(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Nm(t,r){oE(t,r),(t=t.alternate)&&oE(t,r)}function lE(t){if(t.tag===13||t.tag===31){var r=Ws(t,67108864);r!==null&&_n(r,t,67108864),Nm(t,67108864)}}function uE(t){if(t.tag===13||t.tag===31){var r=xn();r=js(r);var a=Ws(t,r);a!==null&&_n(a,t,r),Nm(t,r)}}var lh=!0;function D1(t,r,a,l){var f=X.T;X.T=null;var d=oe.p;try{oe.p=2,xm(t,r,a,l)}finally{oe.p=d,X.T=f}}function O1(t,r,a,l){var f=X.T;X.T=null;var d=oe.p;try{oe.p=8,xm(t,r,a,l)}finally{oe.p=d,X.T=f}}function xm(t,r,a,l){if(lh){var f=Dm(l);if(f===null)gm(t,r,l,uh,a),hE(t,l);else if(k1(f,t,r,a,l))l.stopPropagation();else if(hE(t,l),r&4&&-1<M1.indexOf(t)){for(;f!==null;){var d=Pn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Ti(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var x=1<<31-gt(_);S.entanglements[1]|=x,_&=~x}zi(d),(Ge&6)===0&&(Gc=an()+500,zl(0))}}break;case 31:case 13:S=Ws(d,2),S!==null&&_n(S,d,2),Kc(),Nm(d,2)}if(d=Dm(l),d===null&&gm(t,r,l,uh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else gm(t,r,l,null,a)}}function Dm(t){return t=Vn(t),Om(t)}var uh=null;function Om(t){if(uh=null,t=Ri(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return uh=t,null}function cE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ps()){case Qo:return 2;case Xo:return 8;case xr:case Uf:return 32;case Bu:return 268435456;default:return 32}default:return 32}}var Mm=!1,is=null,rs=null,ss=null,Kl=new Map,Yl=new Map,as=[],M1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hE(t,r){switch(t){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":Kl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(r.pointerId)}}function Ql(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Pn(r),r!==null&&lE(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function k1(t,r,a,l,f){switch(r){case"focusin":return is=Ql(is,t,r,a,l,f),!0;case"dragenter":return rs=Ql(rs,t,r,a,l,f),!0;case"mouseover":return ss=Ql(ss,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Kl.set(d,Ql(Kl.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Yl.set(d,Ql(Yl.get(d)||null,t,r,a,l,f)),!0}return!1}function fE(t){var r=Ri(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,ti(t.priority,function(){uE(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,ti(t.priority,function(){uE(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ch(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Dm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ll=l,a.target.dispatchEvent(l),ll=null}else return r=Pn(a),r!==null&&lE(r),t.blockedOn=a,!1;r.shift()}return!0}function dE(t,r,a){ch(t)&&a.delete(r)}function P1(){Mm=!1,is!==null&&ch(is)&&(is=null),rs!==null&&ch(rs)&&(rs=null),ss!==null&&ch(ss)&&(ss=null),Kl.forEach(dE),Yl.forEach(dE)}function hh(t,r){t.blockedOn===r&&(t.blockedOn=null,Mm||(Mm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,P1)))}var fh=null;function mE(t){fh!==t&&(fh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){fh===t&&(fh=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Om(l||a)===null)continue;break}var d=Pn(a);d!==null&&(t.splice(r,3),r-=3,Dd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Eo(t){function r(x){return hh(x,t)}is!==null&&hh(is,t),rs!==null&&hh(rs,t),ss!==null&&hh(ss,t),Kl.forEach(r),Yl.forEach(r);for(var a=0;a<as.length;a++){var l=as[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<as.length&&(a=as[0],a.blockedOn===null);)fE(a),a.blockedOn===null&&as.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Ut]||null;if(typeof d=="function")_||mE(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Ut]||null)S=_.formAction;else if(Om(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),mE(a)}}}function pE(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function km(t){this._internalRoot=t}dh.prototype.render=km.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=xn();aE(a,l,t,r,null,null)},dh.prototype.unmount=km.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;aE(t.current,2,null,t,null,null),Kc(),r[wi]=null}};function dh(t){this._internalRoot=t}dh.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ku();t={blockedOn:null,target:t,priority:r};for(var a=0;a<as.length&&r!==0&&r<as[a].priority;a++);as.splice(a,0,t),a===0&&fE(t)}};var gE=e.version;if(gE!=="19.2.0")throw Error(s(527,gE,"19.2.0"));oe.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var V1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{Zn=mh.inject(V1),qt=mh}catch{}}return Wl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=S_,d=w_,_=A_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=rE(t,1,!1,null,null,a,l,null,f,d,_,pE),t[wi]=r.current,pm(t),new km(r)},Wl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=S_,_=w_,S=A_,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),r=rE(t,1,!0,r,a??null,l,f,x,d,_,S,pE),r.context=sE(null),a=r.current,l=xn(),l=js(l),f=Gr(l),f.callback=null,$r(a,f,l),a=l,r.current.lanes=a,Ls(r,a),zi(r),t[wi]=r.current,pm(t),new dh(r)},Wl.version="19.2.0",Wl}var RE;function $1(){if(RE)return Lm.exports;RE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Lm.exports=G1(),Lm.exports}var K1=$1();const Y1=C0(K1);var CE="popstate";function Q1(i={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return up("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:yu(o)}return W1(e,n,null,i)}function ut(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function mi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function X1(){return Math.random().toString(36).substring(2,10)}function IE(i,e){return{usr:i.state,key:i.key,idx:e}}function up(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Uo(e):e,state:n,key:e&&e.key||s||X1()}}function yu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Uo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function W1(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=T();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function T(){return(h.state||{idx:null}).idx}function b(){m="POP";let L=T(),U=L==null?null:L-g;g=L,p&&p({action:m,location:P.location,delta:U})}function A(L,U){m="PUSH";let K=up(P.location,L,U);g=T()+1;let J=IE(K,g),ue=P.createHref(K);try{h.pushState(J,"",ue)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(ue)}u&&p&&p({action:m,location:P.location,delta:1})}function O(L,U){m="REPLACE";let K=up(P.location,L,U);g=T();let J=IE(K,g),ue=P.createHref(K);h.replaceState(J,"",ue),u&&p&&p({action:m,location:P.location,delta:0})}function z(L){return J1(L)}let P={get action(){return m},get location(){return i(o,h)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(CE,b),p=L,()=>{o.removeEventListener(CE,b),p=null}},createHref(L){return e(o,L)},createURL:z,encodeLocation(L){let U=z(L);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:A,replace:O,go(L){return h.go(L)}};return P}function J1(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:yu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function I0(i,e,n="/"){return Z1(i,e,n,!1)}function Z1(i,e,n,s){let o=typeof e=="string"?Uo(e):e,u=br(o.pathname||"/",n);if(u==null)return null;let h=N0(i);eR(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=hR(u);m=uR(h[p],g,s)}return m}function N0(i,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let T={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&p)return;ut(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let b=Er([s,T.relativePath]),A=n.concat(T);h.children&&h.children.length>0&&(ut(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),N0(h.children,e,A,b,p)),!(h.path==null&&!h.index)&&e.push({path:b,score:oR(b,h.index),routesMeta:A})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of x0(h.path))u(h,m,!0,p)}),e}function x0(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=x0(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function eR(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:lR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var tR=/^:[\w-]+$/,nR=3,iR=2,rR=1,sR=10,aR=-2,NE=i=>i==="*";function oR(i,e){let n=i.split("/"),s=n.length;return n.some(NE)&&(s+=aR),e&&(s+=iR),n.filter(o=>!NE(o)).reduce((o,u)=>o+(tR.test(u)?nR:u===""?rR:sR),s)}function lR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function uR(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",b=Vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},T),A=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=Vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:Er([u,b.pathname]),pathnameBase:pR(Er([u,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(u=Er([u,b.pathnameBase]))}return h}function Vh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=cR(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:T,isOptional:b},A)=>{if(T==="*"){let z=m[A]||"";h=u.slice(0,u.length-z.length).replace(/(.)\/+$/,"$1")}const O=m[A];return b&&!O?g[T]=void 0:g[T]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function cR(i,e=!1,n=!0){mi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function hR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function br(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function fR(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Uo(i):i;return{pathname:n?n.startsWith("/")?n:dR(n,e):e,search:gR(s),hash:yR(o)}}function dR(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Bm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mR(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Bp(i){let e=mR(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function qp(i,e,n,s=!1){let o;typeof i=="string"?o=Uo(i):(o={...i},ut(!o.pathname||!o.pathname.includes("?"),Bm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Bm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Bm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let b=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),b-=1;o.pathname=A.join("/")}m=b>=0?e[b]:"/"}let p=fR(o,m),g=h&&h!=="/"&&h.endsWith("/"),T=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||T)&&(p.pathname+="/"),p}var Er=i=>i.join("/").replace(/\/\/+/g,"/"),pR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),gR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,yR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function _R(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var D0=["POST","PUT","PATCH","DELETE"];new Set(D0);var vR=["GET",...D0];new Set(vR);var jo=M.createContext(null);jo.displayName="DataRouter";var uf=M.createContext(null);uf.displayName="DataRouterState";M.createContext(!1);var O0=M.createContext({isTransitioning:!1});O0.displayName="ViewTransition";var ER=M.createContext(new Map);ER.displayName="Fetchers";var TR=M.createContext(null);TR.displayName="Await";var gi=M.createContext(null);gi.displayName="Navigation";var Cu=M.createContext(null);Cu.displayName="Location";var yi=M.createContext({outlet:null,matches:[],isDataRoute:!1});yi.displayName="Route";var Fp=M.createContext(null);Fp.displayName="RouteError";function bR(i,{relative:e}={}){ut(zo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=M.useContext(gi),{hash:o,pathname:u,search:h}=Iu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Er([n,u])),s.createHref({pathname:m,search:h,hash:o})}function zo(){return M.useContext(Cu)!=null}function Wn(){return ut(zo(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Cu).location}var M0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function k0(i){M.useContext(gi).static||M.useLayoutEffect(i)}function _i(){let{isDataRoute:i}=M.useContext(yi);return i?PR():SR()}function SR(){ut(zo(),"useNavigate() may be used only in the context of a <Router> component.");let i=M.useContext(jo),{basename:e,navigator:n}=M.useContext(gi),{matches:s}=M.useContext(yi),{pathname:o}=Wn(),u=JSON.stringify(Bp(s)),h=M.useRef(!1);return k0(()=>{h.current=!0}),M.useCallback((p,g={})=>{if(mi(h.current,M0),!h.current)return;if(typeof p=="number"){n.go(p);return}let T=qp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Er([e,T.pathname])),(g.replace?n.replace:n.push)(T,g.state,g)},[e,n,u,o,i])}M.createContext(null);function P0(){let{matches:i}=M.useContext(yi),e=i[i.length-1];return e?e.params:{}}function Iu(i,{relative:e}={}){let{matches:n}=M.useContext(yi),{pathname:s}=Wn(),o=JSON.stringify(Bp(n));return M.useMemo(()=>qp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function wR(i,e){return V0(i,e)}function V0(i,e,n,s,o){ut(zo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=M.useContext(gi),{matches:h}=M.useContext(yi),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",T=m?m.pathnameBase:"/",b=m&&m.route;{let K=b&&b.path||"";L0(g,!b||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let A=Wn(),O;if(e){let K=typeof e=="string"?Uo(e):e;ut(T==="/"||K.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${K.pathname}" was given in the \`location\` prop.`),O=K}else O=A;let z=O.pathname||"/",P=z;if(T!=="/"){let K=T.replace(/^\//,"").split("/");P="/"+z.replace(/^\//,"").split("/").slice(K.length).join("/")}let L=I0(i,{pathname:P});mi(b||L!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),mi(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=NR(L&&L.map(K=>Object.assign({},K,{params:Object.assign({},p,K.params),pathname:Er([T,u.encodeLocation?u.encodeLocation(K.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?T:Er([T,u.encodeLocation?u.encodeLocation(K.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathnameBase])})),h,n,s,o);return e&&U?M.createElement(Cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},U):U}function AR(){let i=kR(),e=_R(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:u},"ErrorBoundary")," or"," ",M.createElement("code",{style:u},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:o},n):null,h)}var RR=M.createElement(AR,null),CR=class extends M.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?M.createElement(yi.Provider,{value:this.props.routeContext},M.createElement(Fp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IR({routeContext:i,match:e,children:n}){let s=M.useContext(jo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(yi.Provider,{value:i},n)}function NR(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n?.errors;if(h!=null){let g=u.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);ut(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let T=u[g];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=g),T.route.id){let{loaderData:b,errors:A}=n,O=T.route.loader&&!b.hasOwnProperty(T.route.id)&&(!A||A[T.route.id]===void 0);if(T.route.lazy||O){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,T,b)=>{let A,O=!1,z=null,P=null;n&&(A=h&&T.route.id?h[T.route.id]:void 0,z=T.route.errorElement||RR,m&&(p<0&&b===0?(L0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,P=null):p===b&&(O=!0,P=T.route.hydrateFallbackElement||null)));let L=e.concat(u.slice(0,b+1)),U=()=>{let K;return A?K=z:O?K=P:T.route.Component?K=M.createElement(T.route.Component,null):T.route.element?K=T.route.element:K=g,M.createElement(IR,{match:T,routeContext:{outlet:g,matches:L,isDataRoute:n!=null},children:K})};return n&&(T.route.ErrorBoundary||T.route.errorElement||b===0)?M.createElement(CR,{location:n.location,revalidation:n.revalidation,component:z,error:A,children:U(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:s}):U()},null)}function Hp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xR(i){let e=M.useContext(jo);return ut(e,Hp(i)),e}function DR(i){let e=M.useContext(uf);return ut(e,Hp(i)),e}function OR(i){let e=M.useContext(yi);return ut(e,Hp(i)),e}function Gp(i){let e=OR(i),n=e.matches[e.matches.length-1];return ut(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function MR(){return Gp("useRouteId")}function kR(){let i=M.useContext(Fp),e=DR("useRouteError"),n=Gp("useRouteError");return i!==void 0?i:e.errors?.[n]}function PR(){let{router:i}=xR("useNavigate"),e=Gp("useNavigate"),n=M.useRef(!1);return k0(()=>{n.current=!0}),M.useCallback(async(o,u={})=>{mi(n.current,M0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var xE={};function L0(i,e,n){!e&&!xE[i]&&(xE[i]=!0,mi(!1,n))}M.memo(VR);function VR({routes:i,future:e,state:n,unstable_onError:s}){return V0(i,void 0,n,s,e)}function DE({to:i,replace:e,state:n,relative:s}){ut(zo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=M.useContext(gi);mi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=M.useContext(yi),{pathname:h}=Wn(),m=_i(),p=qp(i,Bp(u),h,s==="path"),g=JSON.stringify(p);return M.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function gr(i){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LR({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ut(!zo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=M.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Uo(n));let{pathname:p="/",search:g="",hash:T="",state:b=null,key:A="default"}=n,O=M.useMemo(()=>{let z=br(p,h);return z==null?null:{location:{pathname:z,search:g,hash:T,state:b,key:A},navigationType:s}},[h,p,g,T,b,A,s]);return mi(O!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:M.createElement(gi.Provider,{value:m},M.createElement(Cu.Provider,{children:e,value:O}))}function UR({children:i,location:e}){return wR(cp(i),e)}function cp(i,e=[]){let n=[];return M.Children.forEach(i,(s,o)=>{if(!M.isValidElement(s))return;let u=[...e,o];if(s.type===M.Fragment){n.push.apply(n,cp(s.props.children,u));return}ut(s.type===gr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=cp(s.props.children,u)),n.push(h)}),n}var wh="get",Ah="application/x-www-form-urlencoded";function cf(i){return i!=null&&typeof i.tagName=="string"}function jR(i){return cf(i)&&i.tagName.toLowerCase()==="button"}function zR(i){return cf(i)&&i.tagName.toLowerCase()==="form"}function BR(i){return cf(i)&&i.tagName.toLowerCase()==="input"}function qR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function FR(i,e){return i.button===0&&(!e||e==="_self")&&!qR(i)}var ph=null;function HR(){if(ph===null)try{new FormData(document.createElement("form"),0),ph=!1}catch{ph=!0}return ph}var GR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qm(i){return i!=null&&!GR.has(i)?(mi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ah}"`),null):i}function $R(i,e){let n,s,o,u,h;if(zR(i)){let m=i.getAttribute("action");s=m?br(m,e):null,n=i.getAttribute("method")||wh,o=qm(i.getAttribute("enctype"))||Ah,u=new FormData(i)}else if(jR(i)||BR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?br(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||wh,o=qm(i.getAttribute("formenctype"))||qm(m.getAttribute("enctype"))||Ah,u=new FormData(m,i),!HR()){let{name:g,type:T,value:b}=i;if(T==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,b)}}else{if(cf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wh,s=null,o=Ah,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $p(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function KR(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&br(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function YR(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function XR(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await YR(u,n);return h.links?h.links():[]}return[]}));return eC(s.flat(1).filter(QR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function OE(i,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function WR(i,e,{includeHydrateFallback:n}={}){return JR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function JR(i){return[...new Set(i)]}function ZR(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function eC(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(ZR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function U0(){let i=M.useContext(jo);return $p(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function tC(){let i=M.useContext(uf);return $p(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Kp=M.createContext(void 0);Kp.displayName="FrameworkContext";function j0(){let i=M.useContext(Kp);return $p(i,"You must render this element inside a <HydratedRouter> element"),i}function nC(i,e){let n=M.useContext(Kp),[s,o]=M.useState(!1),[u,h]=M.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:T,onTouchStart:b}=e,A=M.useRef(null);M.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let P=U=>{U.forEach(K=>{h(K.isIntersecting)})},L=new IntersectionObserver(P,{threshold:.5});return A.current&&L.observe(A.current),()=>{L.disconnect()}}},[i]),M.useEffect(()=>{if(s){let P=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(P)}}},[s]);let O=()=>{o(!0)},z=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:Jl(m,O),onBlur:Jl(p,z),onMouseEnter:Jl(g,O),onMouseLeave:Jl(T,z),onTouchStart:Jl(b,O)}]:[!1,A,{}]}function Jl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function iC({page:i,...e}){let{router:n}=U0(),s=M.useMemo(()=>I0(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?M.createElement(sC,{page:i,matches:s,...e}):null}function rC(i){let{manifest:e,routeModules:n}=j0(),[s,o]=M.useState([]);return M.useEffect(()=>{let u=!1;return XR(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function sC({page:i,matches:e,...n}){let s=Wn(),{manifest:o,routeModules:u}=j0(),{basename:h}=U0(),{loaderData:m,matches:p}=tC(),g=M.useMemo(()=>OE(i,e,p,o,s,"data"),[i,e,p,o,s]),T=M.useMemo(()=>OE(i,e,p,o,s,"assets"),[i,e,p,o,s]),b=M.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let z=new Set,P=!1;if(e.forEach(U=>{let K=o.routes[U.route.id];!K||!K.hasLoader||(!g.some(J=>J.route.id===U.route.id)&&U.route.id in m&&u[U.route.id]?.shouldRevalidate||K.hasClientLoader?P=!0:z.add(U.route.id))}),z.size===0)return[];let L=KR(i,h,"data");return P&&z.size>0&&L.searchParams.set("_routes",e.filter(U=>z.has(U.route.id)).map(U=>U.route.id).join(",")),[L.pathname+L.search]},[h,m,s,o,g,e,i,u]),A=M.useMemo(()=>WR(T,o),[T,o]),O=rC(T);return M.createElement(M.Fragment,null,b.map(z=>M.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),A.map(z=>M.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),O.map(({key:z,link:P})=>M.createElement("link",{key:z,nonce:n.nonce,...P})))}function aC(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var z0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{z0&&(window.__reactRouterVersion="7.9.5")}catch{}function oC({basename:i,children:e,window:n}){let s=M.useRef();s.current==null&&(s.current=Q1({window:n,v5Compat:!0}));let o=s.current,[u,h]=M.useState({action:o.action,location:o.location}),m=M.useCallback(p=>{M.startTransition(()=>h(p))},[h]);return M.useLayoutEffect(()=>o.listen(m),[o,m]),M.createElement(LR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var B0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,us=M.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:T,viewTransition:b,...A},O){let{basename:z}=M.useContext(gi),P=typeof g=="string"&&B0.test(g),L,U=!1;if(typeof g=="string"&&P&&(L=g,z0))try{let C=new URL(window.location.href),k=g.startsWith("//")?new URL(C.protocol+g):new URL(g),D=br(k.pathname,z);k.origin===C.origin&&D!=null?g=D+k.search+k.hash:U=!0}catch{mi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=bR(g,{relative:o}),[J,ue,se]=nC(s,A),re=hC(g,{replace:h,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:b});function I(C){e&&e(C),C.defaultPrevented||re(C)}let R=M.createElement("a",{...A,...se,href:L||K,onClick:U||u?e:I,ref:aC(O,ue),target:p,"data-discover":!P&&n==="render"?"true":void 0});return J&&!P?M.createElement(M.Fragment,null,R,M.createElement(iC,{page:K})):R});us.displayName="Link";var lC=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},T){let b=Iu(h,{relative:g.relative}),A=Wn(),O=M.useContext(uf),{navigator:z,basename:P}=M.useContext(gi),L=O!=null&&gC(b)&&m===!0,U=z.encodeLocation?z.encodeLocation(b).pathname:b.pathname,K=A.pathname,J=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(K=K.toLowerCase(),J=J?J.toLowerCase():null,U=U.toLowerCase()),J&&P&&(J=br(J,P)||J);const ue=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let se=K===U||!o&&K.startsWith(U)&&K.charAt(ue)==="/",re=J!=null&&(J===U||!o&&J.startsWith(U)&&J.charAt(U.length)==="/"),I={isActive:se,isPending:re,isTransitioning:L},R=se?e:void 0,C;typeof s=="function"?C=s(I):C=[s,se?"active":null,re?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(I):u;return M.createElement(us,{...g,"aria-current":R,className:C,ref:T,style:k,to:h,viewTransition:m},typeof p=="function"?p(I):p)});lC.displayName="NavLink";var uC=M.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=wh,action:m,onSubmit:p,relative:g,preventScrollReset:T,viewTransition:b,...A},O)=>{let z=mC(),P=pC(m,{relative:g}),L=h.toLowerCase()==="get"?"get":"post",U=typeof m=="string"&&B0.test(m),K=J=>{if(p&&p(J),J.defaultPrevented)return;J.preventDefault();let ue=J.nativeEvent.submitter,se=ue?.getAttribute("formmethod")||h;z(ue||J.currentTarget,{fetcherKey:e,method:se,navigate:n,replace:o,state:u,relative:g,preventScrollReset:T,viewTransition:b})};return M.createElement("form",{ref:O,method:L,action:P,onSubmit:s?p:K,...A,"data-discover":!U&&i==="render"?"true":void 0})});uC.displayName="Form";function cC(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q0(i){let e=M.useContext(jo);return ut(e,cC(i)),e}function hC(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=_i(),p=Wn(),g=Iu(i,{relative:u});return M.useCallback(T=>{if(FR(T,e)){T.preventDefault();let b=n!==void 0?n:yu(p)===yu(g);m(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,i,o,u,h])}var fC=0,dC=()=>`__${String(++fC)}__`;function mC(){let{router:i}=q0("useSubmit"),{basename:e}=M.useContext(gi),n=MR();return M.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=$R(s,e);if(o.navigate===!1){let T=o.fetcherKey||dC();await i.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function pC(i,{relative:e}={}){let{basename:n}=M.useContext(gi),s=M.useContext(yi);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Iu(i||".",{relative:e})},h=Wn();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let T=m.toString();u.search=T?`?${T}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Er([n,u.pathname])),yu(u)}function gC(i,{relative:e}={}){let n=M.useContext(O0);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=q0("useViewTransitionState"),o=Iu(i,{relative:e});if(!n.isTransitioning)return!1;let u=br(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=br(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Vh(o.pathname,h)!=null||Vh(o.pathname,u)!=null}const F0=M.createContext(null);function Cr(){const i=M.useContext(F0);if(!i)throw new Error("useAuth must be used within <AuthProvider>");return i}const rn=i=>`/urbanfrill/${String(i||"").replace(/^\/+/,"")}`,Lh=i=>{if(!i)return"images/logo.png";let e=String(i).trim();if(/^(https?:)?\/\//i.test(e)||e.startsWith("data:"))return e;const n="/urbanfrill/";return e.startsWith(n)&&(e=e.slice(n.length)),e=e.replace(/^\.\/+/,"").replace(/^public\/+/,"").replace(/^\/+/,""),e=e.replace(/^urbanfrill\/+/,""),e.startsWith("images/")||(e=`images/${e}`),e=e.replace(/\.(jpe?g)$/i,".webp"),e},ga=i=>i&&(/^(https?:)?\/\//i.test(i)||String(i).startsWith("data:"))?i:rn(Lh(i)),yC=()=>{};var ME={};const H0=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},_C=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},G0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,O=g&63;p||(O=64,h||(A=64)),s.push(n[T],n[b],n[A],n[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(H0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):_C(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new vC;const A=u<<2|m>>4;if(s.push(A),g!==64){const O=m<<4&240|g>>2;if(s.push(O),b!==64){const z=g<<6&192|b;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class vC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EC=function(i){const e=H0(i);return G0.encodeByteArray(e,!0)},Uh=function(i){return EC(i).replace(/\./g,"")},$0=function(i){try{return G0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function TC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const bC=()=>TC().__FIREBASE_DEFAULTS__,SC=()=>{if(typeof process>"u"||typeof ME>"u")return;const i=ME.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},wC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&$0(i[1]);return e&&JSON.parse(e)},hf=()=>{try{return yC()||bC()||SC()||wC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},K0=i=>hf()?.emulatorHosts?.[i],Y0=i=>{const e=K0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Q0=()=>hf()?.config,X0=i=>hf()?.[`_${i}`];class AC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ns(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Yp(i){return(await fetch(i,{credentials:"include"})).ok}function W0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Uh(JSON.stringify(n)),Uh(JSON.stringify(h)),""].join(".")}const ou={};function RC(){const i={prod:[],emulator:[]};for(const e of Object.keys(ou))ou[e]?i.emulator.push(e):i.prod.push(e);return i}function CC(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let kE=!1;function Qp(i,e){if(typeof window>"u"||typeof document>"u"||!Ns(window.location.host)||ou[i]===e||ou[i]||kE)return;ou[i]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=RC().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,O){A.setAttribute("width","24"),A.setAttribute("id",O),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{kE=!0,h()},A}function T(A,O){A.setAttribute("id",O),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function b(){const A=CC(s),O=n("text"),z=document.getElementById(O)||document.createElement("span"),P=n("learnmore"),L=document.getElementById(P)||document.createElement("a"),U=n("preprendIcon"),K=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const J=A.element;m(J),T(L,P);const ue=g();p(K,U),J.append(K,z,L,ue),document.body.appendChild(J)}u?(z.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function NC(){const i=hf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Xp(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function DC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OC(){const i=sn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function MC(){return!NC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wp(){try{return typeof indexedDB=="object"}catch{return!1}}function Jp(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function J0(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const kC="FirebaseError";class Jn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=kC,Object.setPrototypeOf(this,Jn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wa.prototype.create)}}class wa{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?PC(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Jn(o,m,s)}}function PC(i,e){return i.replace(VC,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const VC=/\{\$([^}]+)}/g;function LC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function bs(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(PE(u)&&PE(h)){if(!bs(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function PE(i){return i!==null&&typeof i=="object"}function Nu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function eu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function tu(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function UC(i,e){const n=new jC(i,e);return n.subscribe.bind(n)}class jC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");zC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Fm),o.error===void 0&&(o.error=Fm),o.complete===void 0&&(o.complete=Fm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zC(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Fm(){}const BC=1e3,qC=2,FC=14400*1e3,HC=.5;function VE(i,e=BC,n=qC){const s=e*Math.pow(n,i),o=Math.round(HC*s*(Math.random()-.5)*2);return Math.min(FC,s+o)}function ct(i){return i&&i._delegate?i._delegate:i}class Qn{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ca="[DEFAULT]";class GC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new AC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KC(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:$C(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $C(i){return i===ca?void 0:i}function KC(i){return i.instantiationMode==="EAGER"}class YC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const QC={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},XC=Me.INFO,WC={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},JC=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=WC[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ff{constructor(e){this.name=e,this._logLevel=XC,this._logHandler=JC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const ZC=(i,e)=>e.some(n=>i instanceof n);let LE,UE;function eI(){return LE||(LE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tI(){return UE||(UE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z0=new WeakMap,hp=new WeakMap,eb=new WeakMap,Hm=new WeakMap,Zp=new WeakMap;function nI(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(ps(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Z0.set(n,i)}).catch(()=>{}),Zp.set(e,i),e}function iI(i){if(hp.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});hp.set(i,e)}let fp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return hp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||eb.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ps(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function rI(i){fp=i(fp)}function sI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Gm(this),e,...n);return eb.set(s,e.sort?e.sort():[e]),ps(s)}:tI().includes(i)?function(...e){return i.apply(Gm(this),e),ps(Z0.get(this))}:function(...e){return ps(i.apply(Gm(this),e))}}function aI(i){return typeof i=="function"?sI(i):(i instanceof IDBTransaction&&iI(i),ZC(i,eI())?new Proxy(i,fp):i)}function ps(i){if(i instanceof IDBRequest)return nI(i);if(Hm.has(i))return Hm.get(i);const e=aI(i);return e!==i&&(Hm.set(i,e),Zp.set(e,i)),e}const Gm=i=>Zp.get(i);function tb(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=ps(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ps(h.result),p.oldVersion,p.newVersion,ps(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const oI=["get","getKey","getAll","getAllKeys","count"],lI=["put","add","delete","clear"],$m=new Map;function jE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if($m.get(e))return $m.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=lI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||oI.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return $m.set(e,u),u}rI(i=>({...i,get:(e,n,s)=>jE(e,n)||i.get(e,n,s),has:(e,n)=>!!jE(e,n)||i.has(e,n)}));class uI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function cI(i){return i.getComponent()?.type==="VERSION"}const dp="@firebase/app",zE="0.14.5";const Sr=new ff("@firebase/app"),hI="@firebase/app-compat",fI="@firebase/analytics-compat",dI="@firebase/analytics",mI="@firebase/app-check-compat",pI="@firebase/app-check",gI="@firebase/auth",yI="@firebase/auth-compat",_I="@firebase/database",vI="@firebase/data-connect",EI="@firebase/database-compat",TI="@firebase/functions",bI="@firebase/functions-compat",SI="@firebase/installations",wI="@firebase/installations-compat",AI="@firebase/messaging",RI="@firebase/messaging-compat",CI="@firebase/performance",II="@firebase/performance-compat",NI="@firebase/remote-config",xI="@firebase/remote-config-compat",DI="@firebase/storage",OI="@firebase/storage-compat",MI="@firebase/firestore",kI="@firebase/ai",PI="@firebase/firestore-compat",VI="firebase",LI="12.5.0";const mp="[DEFAULT]",UI={[dp]:"fire-core",[hI]:"fire-core-compat",[dI]:"fire-analytics",[fI]:"fire-analytics-compat",[pI]:"fire-app-check",[mI]:"fire-app-check-compat",[gI]:"fire-auth",[yI]:"fire-auth-compat",[_I]:"fire-rtdb",[vI]:"fire-data-connect",[EI]:"fire-rtdb-compat",[TI]:"fire-fn",[bI]:"fire-fn-compat",[SI]:"fire-iid",[wI]:"fire-iid-compat",[AI]:"fire-fcm",[RI]:"fire-fcm-compat",[CI]:"fire-perf",[II]:"fire-perf-compat",[NI]:"fire-rc",[xI]:"fire-rc-compat",[DI]:"fire-gcs",[OI]:"fire-gcs-compat",[MI]:"fire-fst",[PI]:"fire-fst-compat",[kI]:"fire-vertex","fire-js":"fire-js",[VI]:"fire-js-all"};const _u=new Map,jI=new Map,pp=new Map;function BE(i,e){try{i.container.addComponent(e)}catch(n){Sr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function pi(i){const e=i.name;if(pp.has(e))return Sr.debug(`There were multiple attempts to register component ${e}.`),!1;pp.set(e,i);for(const n of _u.values())BE(n,i);for(const n of jI.values())BE(n,i);return!0}function xs(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function En(i){return i==null?!1:i.settings!==void 0}const zI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gs=new wa("app","Firebase",zI);class BI{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Qn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}const Aa=LI;function nb(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:mp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw gs.create("bad-app-name",{appName:String(o)});if(n||(n=Q0()),!n)throw gs.create("no-options");const u=_u.get(o);if(u){if(bs(n,u.options)&&bs(s,u.config))return u;throw gs.create("duplicate-app",{appName:o})}const h=new YC(o);for(const p of pp.values())h.addComponent(p);const m=new BI(n,s,h);return _u.set(o,m),m}function df(i=mp){const e=_u.get(i);if(!e&&i===mp&&Q0())return nb();if(!e)throw gs.create("no-app",{appName:i});return e}function qE(){return Array.from(_u.values())}function Tn(i,e,n){let s=UI[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sr.warn(h.join(" "));return}pi(new Qn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const qI="firebase-heartbeat-database",FI=1,vu="firebase-heartbeat-store";let Km=null;function ib(){return Km||(Km=tb(qI,FI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(vu)}catch(n){console.warn(n)}}}}).catch(i=>{throw gs.create("idb-open",{originalErrorMessage:i.message})})),Km}async function HI(i){try{const n=(await ib()).transaction(vu),s=await n.objectStore(vu).get(rb(i));return await n.done,s}catch(e){if(e instanceof Jn)Sr.warn(e.message);else{const n=gs.create("idb-get",{originalErrorMessage:e?.message});Sr.warn(n.message)}}}async function FE(i,e){try{const s=(await ib()).transaction(vu,"readwrite");await s.objectStore(vu).put(e,rb(i)),await s.done}catch(n){if(n instanceof Jn)Sr.warn(n.message);else{const s=gs.create("idb-set",{originalErrorMessage:n?.message});Sr.warn(s.message)}}}function rb(i){return`${i.name}!${i.options.appId}`}const GI=1024,$I=30;class KI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=HE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>$I){const o=XI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Sr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=HE(),{heartbeatsToSend:n,unsentEntries:s}=YI(this._heartbeatsCache.heartbeats),o=Uh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Sr.warn(e),""}}}function HE(){return new Date().toISOString().substring(0,10)}function YI(i,e=GI){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),GE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),GE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class QI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wp()?Jp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await HI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return FE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return FE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function GE(i){return Uh(JSON.stringify({version:2,heartbeats:i})).length}function XI(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function WI(i){pi(new Qn("platform-logger",e=>new uI(e),"PRIVATE")),pi(new Qn("heartbeat",e=>new KI(e),"PRIVATE")),Tn(dp,zE,i),Tn(dp,zE,"esm2020"),Tn("fire-js","")}WI("");var JI="firebase",ZI="12.5.0";Tn(JI,ZI,"app");function sb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eN=sb,ab=new wa("auth","Firebase",sb());const jh=new ff("@firebase/auth");function tN(i,...e){jh.logLevel<=Me.WARN&&jh.warn(`Auth (${Aa}): ${i}`,...e)}function Rh(i,...e){jh.logLevel<=Me.ERROR&&jh.error(`Auth (${Aa}): ${i}`,...e)}function Xn(i,...e){throw tg(i,...e)}function di(i,...e){return tg(i,...e)}function eg(i,e,n){const s={...eN(),[e]:n};return new wa("auth","Firebase",s).create(e,{appName:i.name})}function Tr(i){return eg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nN(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Xn(i,"argument-error"),eg(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tg(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return ab.create(i,...e)}function ve(i,e,...n){if(!i)throw tg(e,...n)}function _r(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Rh(e),new Error(e)}function wr(i,e){i||_r(e)}function gp(){return typeof self<"u"&&self.location?.href||""}function iN(){return $E()==="http:"||$E()==="https:"}function $E(){return typeof self<"u"&&self.location?.protocol||null}function rN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iN()||Xp()||"connection"in navigator)?navigator.onLine:!0}function sN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class xu{constructor(e,n){this.shortDelay=e,this.longDelay=n,wr(n>e,"Short delay should be less than long delay!"),this.isMobile=IC()||DC()}get(){return rN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ng(i,e){wr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class ob{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const aN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const oN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lN=new xu(3e4,6e4);function Ds(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Ir(i,e,n,s,o={}){return lb(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Nu({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return xC()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Ns(i.emulatorConfig.host)&&(g.credentials="include"),ob.fetch()(await ub(i,i.config.apiHost,n,m),g)})}async function lb(i,e,n){i._canInitEmulator=!1;const s={...aN,...e};try{const o=new cN(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw gh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw gh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw gh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw gh(i,"user-disabled",h);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw eg(i,T,g);Xn(i,T)}}catch(o){if(o instanceof Jn)throw o;Xn(i,"network-request-failed",{message:String(o)})}}async function Du(i,e,n,s,o={}){const u=await Ir(i,e,n,s,o);return"mfaPendingCredential"in u&&Xn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function ub(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?ng(i.config,o):`${i.config.apiScheme}://${o}`;return oN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function uN(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(di(this.auth,"network-request-failed")),lN.get())})}}function gh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=di(i,e,s);return o.customData._tokenResponse=n,o}function KE(i){return i!==void 0&&i.enterprise!==void 0}class hN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return uN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fN(i,e){return Ir(i,"GET","/v2/recaptchaConfig",Ds(i,e))}async function dN(i,e){return Ir(i,"POST","/v1/accounts:delete",e)}async function zh(i,e){return Ir(i,"POST","/v1/accounts:lookup",e)}function lu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mN(i,e=!1){const n=ct(i),s=await n.getIdToken(e),o=ig(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:lu(Ym(o.auth_time)),issuedAtTime:lu(Ym(o.iat)),expirationTime:lu(Ym(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Ym(i){return Number(i)*1e3}function ig(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Rh("JWT malformed, contained fewer than 3 sections"),null;try{const o=$0(n);return o?JSON.parse(o):(Rh("Failed to decode base64 JWT payload"),null)}catch(o){return Rh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function YE(i){const e=ig(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function xo(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Jn&&pN(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function pN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class gN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class yp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lu(this.lastLoginAt),this.creationTime=lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bh(i){const e=i.auth,n=await i.getIdToken(),s=await xo(i,zh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?cb(o.providerUserInfo):[],h=_N(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!h?.length,g=m?p:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new yp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,T)}async function yN(i){const e=ct(i);await Bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _N(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function cb(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function vN(i,e){const n=await lb(i,{},async()=>{const s=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await ub(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Ns(i.emulatorConfig.host)&&(p.credentials="include"),ob.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EN(i,e){return Ir(i,"POST","/v2/accounts:revokeToken",Ds(i,e))}class Ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=YE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await vN(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Ao;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ao,this.toJSON())}_performRefresh(){return _r("not implemented")}}function ls(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class hi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new gN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new yp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await xo(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mN(this,e)}reload(){return yN(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(En(this.auth.app))return Promise.reject(Tr(this.auth));const e=await this.getIdToken();return await xo(this,dN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:b,emailVerified:A,isAnonymous:O,providerData:z,stsTokenManager:P}=n;ve(b&&P,e,"internal-error");const L=Ao.fromJSON(this.name,P);ve(typeof b=="string",e,"internal-error"),ls(s,e.name),ls(o,e.name),ve(typeof A=="boolean",e,"internal-error"),ve(typeof O=="boolean",e,"internal-error"),ls(u,e.name),ls(h,e.name),ls(m,e.name),ls(p,e.name),ls(g,e.name),ls(T,e.name);const U=new hi({uid:b,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:O,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:L,createdAt:g,lastLoginAt:T});return z&&Array.isArray(z)&&(U.providerData=z.map(K=>({...K}))),p&&(U._redirectEventId=p),U}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ao;o.updateFromServerResponse(n);const u=new hi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Bh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?cb(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new Ao;m.updateFromIdToken(s);const p=new hi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new yp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const QE=new Map;function vr(i){wr(i instanceof Function,"Expected a class definition");let e=QE.get(i);return e?(wr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,QE.set(i,e),e)}class hb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hb.type="NONE";const XE=hb;function Ch(i,e,n){return`firebase:${i}:${e}:${n}`}class Ro{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Ch(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ch("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zh(this.auth,{idToken:e}).catch(()=>{});return n?hi._fromGetAccountInfoResponse(this.auth,n,e):null}return hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ro(vr(XE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||vr(XE);const h=Ch(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const T=await g._get(h);if(T){let b;if(typeof T=="string"){const A=await zh(e,{idToken:T}).catch(()=>{});if(!A)break;b=await hi._fromGetAccountInfoResponse(e,A,T)}else b=hi._fromJSON(e,T);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ro(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Ro(u,e,s))}}function WE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yb(e))return"Blackberry";if(_b(e))return"Webos";if(db(e))return"Safari";if((e.includes("chrome/")||mb(e))&&!e.includes("edge/"))return"Chrome";if(gb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function fb(i=sn()){return/firefox\//i.test(i)}function db(i=sn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mb(i=sn()){return/crios\//i.test(i)}function pb(i=sn()){return/iemobile/i.test(i)}function gb(i=sn()){return/android/i.test(i)}function yb(i=sn()){return/blackberry/i.test(i)}function _b(i=sn()){return/webos/i.test(i)}function rg(i=sn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function TN(i=sn()){return rg(i)&&!!window.navigator?.standalone}function bN(){return OC()&&document.documentMode===10}function vb(i=sn()){return rg(i)||gb(i)||_b(i)||yb(i)||/windows phone/i.test(i)||pb(i)}function Eb(i,e=[]){let n;switch(i){case"Browser":n=WE(sn());break;case"Worker":n=`${WE(sn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Aa}/${s}`}class SN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function wN(i,e={}){return Ir(i,"GET","/v2/passwordPolicy",Ds(i,e))}const AN=6;class RN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??AN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class CN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JE(this),this.idTokenSubscription=new JE(this),this.beforeStateQueue=new SN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ab,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ro.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zh(this,{idToken:e}),s=await hi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(En(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(En(this.app))return Promise.reject(Tr(this));const n=e?ct(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return En(this.app)?Promise.reject(Tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return En(this.app)?Promise.reject(Tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wN(this),n=new RN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wa("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await EN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Ro.create(this,[vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Eb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&tN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Os(i){return ct(i)}class JE{constructor(e){this.auth=e,this.observer=null,this.addObserver=UC(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IN(i){mf=i}function Tb(i){return mf.loadJS(i)}function NN(){return mf.recaptchaEnterpriseScript}function xN(){return mf.gapiScript}function DN(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class ON{constructor(){this.enterprise=new MN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class MN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const kN="recaptcha-enterprise",bb="NO_RECAPTCHA";class PN{constructor(e){this.type=kN,this.auth=Os(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{fN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new hN(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;KE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(bb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ON().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&KE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=NN();p.length!==0&&(p+=m),Tb(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function ZE(i,e,n,s=!1,o=!1){const u=new PN(i);let h;if(o)h=bb;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function _p(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await ZE(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await ZE(i,e,n,n==="getOobCode");return s(i,h)}else return Promise.reject(u)})}function VN(i,e){const n=xs(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(bs(u,e??{}))return o;Xn(o,"already-initialized")}return n.initialize({options:e})}function LN(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(vr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function UN(i,e,n){const s=Os(i);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Sb(e),{host:h,port:m}=jN(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},T=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(bs(g,s.config.emulator)&&bs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Ns(h)?(Yp(`${u}//${h}${p}`),Qp("Auth",!0)):zN()}function Sb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function jN(i){const e=Sb(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:eT(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:eT(h)}}}function eT(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function zN(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class sg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _r("not implemented")}_getIdTokenResponse(e){return _r("not implemented")}_linkToIdToken(e,n){return _r("not implemented")}_getReauthenticationResolver(e){return _r("not implemented")}}async function BN(i,e){return Ir(i,"POST","/v1/accounts:signUp",e)}async function qN(i,e){return Du(i,"POST","/v1/accounts:signInWithPassword",Ds(i,e))}async function FN(i,e){return Du(i,"POST","/v1/accounts:signInWithEmailLink",Ds(i,e))}async function HN(i,e){return Du(i,"POST","/v1/accounts:signInWithEmailLink",Ds(i,e))}class Eu extends sg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Eu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Eu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _p(e,n,"signInWithPassword",qN);case"emailLink":return FN(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _p(e,s,"signUpPassword",BN);case"emailLink":return HN(e,{idToken:n,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Co(i,e){return Du(i,"POST","/v1/accounts:signInWithIdp",Ds(i,e))}const GN="http://localhost";class ya extends sg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ya(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Co(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Co(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Co(e,n)}buildRequest(){const e={requestUri:GN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nu(n)}return e}}function $N(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KN(i){const e=eu(tu(i)).link,n=e?eu(tu(e)).deep_link_id:null,s=eu(tu(i)).deep_link_id;return(s?eu(tu(s)).link:null)||s||n||e||i}class ag{constructor(e){const n=eu(tu(e)),s=n.apiKey??null,o=n.oobCode??null,u=$N(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=KN(e);try{return new ag(n)}catch{return null}}}class Bo{constructor(){this.providerId=Bo.PROVIDER_ID}static credential(e,n){return Eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=ag.parseLink(n);return ve(s,"argument-error"),Eu._fromEmailAndCode(e,s.code,s.tenantId)}}Bo.PROVIDER_ID="password";Bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class og{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ou extends og{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class cs extends Ou{constructor(){super("facebook.com")}static credential(e){return ya._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";cs.PROVIDER_ID="facebook.com";class yr extends Ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ya._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return yr.credential(n,s)}catch{return null}}}yr.GOOGLE_SIGN_IN_METHOD="google.com";yr.PROVIDER_ID="google.com";class hs extends Ou{constructor(){super("github.com")}static credential(e){return ya._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com";hs.PROVIDER_ID="github.com";class fs extends Ou{constructor(){super("twitter.com")}static credential(e,n){return ya._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return fs.credential(n,s)}catch{return null}}}fs.TWITTER_SIGN_IN_METHOD="twitter.com";fs.PROVIDER_ID="twitter.com";async function YN(i,e){return Du(i,"POST","/v1/accounts:signUp",Ds(i,e))}class _a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await hi._fromIdTokenResponse(e,s,o),h=tT(s);return new _a({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=tT(s);return new _a({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function tT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class qh extends Jn{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,qh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new qh(e,n,s,o)}}function wb(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?qh._fromErrorAndOperation(i,u,e,s):u})}async function QN(i,e,n=!1){const s=await xo(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return _a._forOperation(i,"link",s)}async function XN(i,e,n=!1){const{auth:s}=i;if(En(s.app))return Promise.reject(Tr(s));const o="reauthenticate";try{const u=await xo(i,wb(s,o,e,i),n);ve(u.idToken,s,"internal-error");const h=ig(u.idToken);ve(h,s,"internal-error");const{sub:m}=h;return ve(i.uid===m,s,"user-mismatch"),_a._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Xn(s,"user-mismatch"),u}}async function Ab(i,e,n=!1){if(En(i.app))return Promise.reject(Tr(i));const s="signIn",o=await wb(i,s,e),u=await _a._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function WN(i,e){return Ab(Os(i),e)}async function Rb(i){const e=Os(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JN(i,e,n){if(En(i.app))return Promise.reject(Tr(i));const s=Os(i),h=await _p(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Rb(i),p}),m=await _a._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function ZN(i,e,n){return En(i.app)?Promise.reject(Tr(i)):WN(ct(i),Bo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Rb(i),s})}async function e2(i,e){return Ir(i,"POST","/v1/accounts:update",e)}async function vp(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=ct(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},h=await xo(s,e2(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function t2(i,e){return ct(i).setPersistence(e)}function n2(i,e,n,s){return ct(i).onIdTokenChanged(e,n,s)}function i2(i,e,n){return ct(i).beforeAuthStateChanged(e,n)}function r2(i,e,n,s){return ct(i).onAuthStateChanged(e,n,s)}function s2(i){return ct(i).signOut()}const Fh="__sak";class Cb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const a2=1e3,o2=10;class Ib extends Cb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);bN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,o2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},a2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ib.type="LOCAL";const Nb=Ib;class xb extends Cb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xb.type="SESSION";const Db=xb;function l2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new pf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await l2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pf.receivers=[];function lg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class u2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=lg("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const A=b;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Fi(){return window}function c2(i){Fi().location.href=i}function Ob(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function h2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function f2(){return navigator?.serviceWorker?.controller||null}function d2(){return Ob()?self:null}const Mb="firebaseLocalStorageDb",m2=1,Hh="firebaseLocalStorage",kb="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gf(i,e){return i.transaction([Hh],e?"readwrite":"readonly").objectStore(Hh)}function p2(){const i=indexedDB.deleteDatabase(Mb);return new Mu(i).toPromise()}function Ep(){const i=indexedDB.open(Mb,m2);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Hh,{keyPath:kb})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Hh)?e(s):(s.close(),await p2(),e(await Ep()))})})}async function nT(i,e,n){const s=gf(i,!0).put({[kb]:e,value:n});return new Mu(s).toPromise()}async function g2(i,e){const n=gf(i,!1).get(e),s=await new Mu(n).toPromise();return s===void 0?null:s.value}function iT(i,e){const n=gf(i,!0).delete(e);return new Mu(n).toPromise()}const y2=800,_2=3;class Pb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ep(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>_2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ob()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pf._getInstance(d2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await h2(),!this.activeServiceWorker)return;this.sender=new u2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||f2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ep();return await nT(e,Fh,"1"),await iT(e,Fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>nT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>g2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>iT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=gf(o,!1).getAll();return new Mu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Pb.type="LOCAL";const v2=Pb;new xu(3e4,6e4);function Vb(i,e){return e?vr(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class ug extends sg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function E2(i){return Ab(i.auth,new ug(i),i.bypassAuthState)}function T2(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),XN(n,new ug(i),i.bypassAuthState)}async function b2(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),QN(n,new ug(i),i.bypassAuthState)}class Lb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return E2;case"linkViaPopup":case"linkViaRedirect":return b2;case"reauthViaPopup":case"reauthViaRedirect":return T2;default:Xn(this.auth,"internal-error")}}resolve(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const S2=new xu(2e3,1e4);async function w2(i,e,n){if(En(i.app))return Promise.reject(di(i,"operation-not-supported-in-this-environment"));const s=Os(i);nN(i,e,og);const o=Vb(s,n);return new ha(s,"signInViaPopup",e,o).executeNotNull()}class ha extends Lb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ha.currentPopupAction&&ha.currentPopupAction.cancel(),ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){wr(this.filter.length===1,"Popup operations only handle one event");const e=lg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,S2.get())};e()}}ha.currentPopupAction=null;const A2="pendingRedirect",Ih=new Map;class R2 extends Lb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ih.get(this.auth._key());if(!e){try{const s=await C2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ih.set(this.auth._key(),e)}return this.bypassAuthState||Ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function C2(i,e){const n=x2(e),s=N2(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function I2(i,e){Ih.set(i._key(),e)}function N2(i){return vr(i._redirectPersistence)}function x2(i){return Ch(A2,i.config.apiKey,i.name)}async function D2(i,e,n=!1){if(En(i.app))return Promise.reject(Tr(i));const s=Os(i),o=Vb(s,e),h=await new R2(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const O2=600*1e3;class M2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!k2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Ub(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(di(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=O2&&this.cachedEventUids.clear(),this.cachedEventUids.has(rT(e))}saveEventToCache(e){this.cachedEventUids.add(rT(e)),this.lastProcessedEventTime=Date.now()}}function rT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Ub({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function k2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ub(i);default:return!1}}async function P2(i,e={}){return Ir(i,"GET","/v1/projects",e)}const V2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,L2=/^https?/;async function U2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await P2(i);for(const n of e)try{if(j2(n))return}catch{}Xn(i,"unauthorized-domain")}function j2(i){const e=gp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!L2.test(n))return!1;if(V2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const z2=new xu(3e4,6e4);function sT(){const i=Fi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function B2(i){return new Promise((e,n)=>{function s(){sT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sT(),n(di(i,"network-request-failed"))},timeout:z2.get()})}if(Fi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fi().gapi?.load)s();else{const o=DN("iframefcb");return Fi()[o]=()=>{gapi.load?s():n(di(i,"network-request-failed"))},Tb(`${xN()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Nh=null,e})}let Nh=null;function q2(i){return Nh=Nh||B2(i),Nh}const F2=new xu(5e3,15e3),H2="__/auth/iframe",G2="emulator/auth/iframe",$2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},K2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y2(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?ng(e,G2):`https://${i.config.authDomain}/${H2}`,s={apiKey:e.apiKey,appName:i.name,v:Aa},o=K2.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Nu(s).slice(1)}`}async function Q2(i){const e=await q2(i),n=Fi().gapi;return ve(n,i,"internal-error"),e.open({where:document.body,url:Y2(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=di(i,"network-request-failed"),m=Fi().setTimeout(()=>{u(h)},F2.get());function p(){Fi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const X2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},W2=500,J2=600,Z2="_blank",ex="http://localhost";class aT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tx(i,e,n,s=W2,o=J2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...X2,width:s.toString(),height:o.toString(),top:u,left:h},g=sn().toLowerCase();n&&(m=mb(g)?Z2:n),fb(g)&&(e=e||ex,p.scrollbars="yes");const T=Object.entries(p).reduce((A,[O,z])=>`${A}${O}=${z},`,"");if(TN(g)&&m!=="_self")return nx(e||"",m),new aT(null);const b=window.open(e||"",m,T);ve(b,i,"popup-blocked");try{b.focus()}catch{}return new aT(b)}function nx(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const ix="__/auth/handler",rx="emulator/auth/handler",sx=encodeURIComponent("fac");async function oT(i,e,n,s,o,u){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Aa,eventId:o};if(e instanceof og){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",LC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))h[T]=b}if(e instanceof Ou){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(h.scopes=T.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await i._getAppCheckToken(),g=p?`#${sx}=${encodeURIComponent(p)}`:"";return`${ax(i)}?${Nu(m).slice(1)}${g}`}function ax({config:i}){return i.emulator?ng(i,rx):`https://${i.authDomain}/${ix}`}const Qm="webStorageSupport";class ox{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Db,this._completeRedirectFn=D2,this._overrideRedirectResult=I2}async _openPopup(e,n,s,o){wr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await oT(e,n,s,gp(),o);return tx(e,u,lg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await oT(e,n,s,gp(),o);return c2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(wr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Q2(e),s=new M2(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qm,{type:Qm},o=>{const u=o?.[0]?.[Qm];u!==void 0&&n(!!u),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=U2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vb()||db()||rg()}}const lx=ox;var lT="@firebase/auth",uT="1.11.1";class ux{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cx(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hx(i){pi(new Qn("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Eb(i)},g=new CN(s,o,u,p);return LN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),pi(new Qn("auth-internal",e=>{const n=Os(e.getProvider("auth").getImmediate());return(s=>new ux(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tn(lT,uT,cx(i)),Tn(lT,uT,"esm2020")}const fx=300,dx=X0("authIdTokenMaxAge")||fx;let cT=null;const mx=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>dx)return;const o=n?.token;cT!==o&&(cT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function px(i=df()){const e=xs(i,"auth");if(e.isInitialized())return e.getImmediate();const n=VN(i,{popupRedirectResolver:lx,persistence:[v2,Nb,Db]}),s=X0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=mx(u.toString());i2(n,h,()=>h(n.currentUser)),n2(n,m=>h(m))}}const o=K0("auth");return o&&UN(n,`http://${o}`),n}function gx(){return document.getElementsByTagName("head")?.[0]??document}IN({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=di("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",gx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hx("Browser");var hT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ys,jb;(function(){var i;function e(I,R){function C(){}C.prototype=R.prototype,I.F=R.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(k,D,B){for(var N=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)N[Ve-2]=arguments[Ve];return R.prototype[D].apply(k,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,C){C||(C=0);const k=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)k[D]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(D=0;D<16;++D)k[D]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=I.g[0],C=I.g[1],D=I.g[2];let B=I.g[3],N;N=R+(B^C&(D^B))+k[0]+3614090360&4294967295,R=C+(N<<7&4294967295|N>>>25),N=B+(D^R&(C^D))+k[1]+3905402710&4294967295,B=R+(N<<12&4294967295|N>>>20),N=D+(C^B&(R^C))+k[2]+606105819&4294967295,D=B+(N<<17&4294967295|N>>>15),N=C+(R^D&(B^R))+k[3]+3250441966&4294967295,C=D+(N<<22&4294967295|N>>>10),N=R+(B^C&(D^B))+k[4]+4118548399&4294967295,R=C+(N<<7&4294967295|N>>>25),N=B+(D^R&(C^D))+k[5]+1200080426&4294967295,B=R+(N<<12&4294967295|N>>>20),N=D+(C^B&(R^C))+k[6]+2821735955&4294967295,D=B+(N<<17&4294967295|N>>>15),N=C+(R^D&(B^R))+k[7]+4249261313&4294967295,C=D+(N<<22&4294967295|N>>>10),N=R+(B^C&(D^B))+k[8]+1770035416&4294967295,R=C+(N<<7&4294967295|N>>>25),N=B+(D^R&(C^D))+k[9]+2336552879&4294967295,B=R+(N<<12&4294967295|N>>>20),N=D+(C^B&(R^C))+k[10]+4294925233&4294967295,D=B+(N<<17&4294967295|N>>>15),N=C+(R^D&(B^R))+k[11]+2304563134&4294967295,C=D+(N<<22&4294967295|N>>>10),N=R+(B^C&(D^B))+k[12]+1804603682&4294967295,R=C+(N<<7&4294967295|N>>>25),N=B+(D^R&(C^D))+k[13]+4254626195&4294967295,B=R+(N<<12&4294967295|N>>>20),N=D+(C^B&(R^C))+k[14]+2792965006&4294967295,D=B+(N<<17&4294967295|N>>>15),N=C+(R^D&(B^R))+k[15]+1236535329&4294967295,C=D+(N<<22&4294967295|N>>>10),N=R+(D^B&(C^D))+k[1]+4129170786&4294967295,R=C+(N<<5&4294967295|N>>>27),N=B+(C^D&(R^C))+k[6]+3225465664&4294967295,B=R+(N<<9&4294967295|N>>>23),N=D+(R^C&(B^R))+k[11]+643717713&4294967295,D=B+(N<<14&4294967295|N>>>18),N=C+(B^R&(D^B))+k[0]+3921069994&4294967295,C=D+(N<<20&4294967295|N>>>12),N=R+(D^B&(C^D))+k[5]+3593408605&4294967295,R=C+(N<<5&4294967295|N>>>27),N=B+(C^D&(R^C))+k[10]+38016083&4294967295,B=R+(N<<9&4294967295|N>>>23),N=D+(R^C&(B^R))+k[15]+3634488961&4294967295,D=B+(N<<14&4294967295|N>>>18),N=C+(B^R&(D^B))+k[4]+3889429448&4294967295,C=D+(N<<20&4294967295|N>>>12),N=R+(D^B&(C^D))+k[9]+568446438&4294967295,R=C+(N<<5&4294967295|N>>>27),N=B+(C^D&(R^C))+k[14]+3275163606&4294967295,B=R+(N<<9&4294967295|N>>>23),N=D+(R^C&(B^R))+k[3]+4107603335&4294967295,D=B+(N<<14&4294967295|N>>>18),N=C+(B^R&(D^B))+k[8]+1163531501&4294967295,C=D+(N<<20&4294967295|N>>>12),N=R+(D^B&(C^D))+k[13]+2850285829&4294967295,R=C+(N<<5&4294967295|N>>>27),N=B+(C^D&(R^C))+k[2]+4243563512&4294967295,B=R+(N<<9&4294967295|N>>>23),N=D+(R^C&(B^R))+k[7]+1735328473&4294967295,D=B+(N<<14&4294967295|N>>>18),N=C+(B^R&(D^B))+k[12]+2368359562&4294967295,C=D+(N<<20&4294967295|N>>>12),N=R+(C^D^B)+k[5]+4294588738&4294967295,R=C+(N<<4&4294967295|N>>>28),N=B+(R^C^D)+k[8]+2272392833&4294967295,B=R+(N<<11&4294967295|N>>>21),N=D+(B^R^C)+k[11]+1839030562&4294967295,D=B+(N<<16&4294967295|N>>>16),N=C+(D^B^R)+k[14]+4259657740&4294967295,C=D+(N<<23&4294967295|N>>>9),N=R+(C^D^B)+k[1]+2763975236&4294967295,R=C+(N<<4&4294967295|N>>>28),N=B+(R^C^D)+k[4]+1272893353&4294967295,B=R+(N<<11&4294967295|N>>>21),N=D+(B^R^C)+k[7]+4139469664&4294967295,D=B+(N<<16&4294967295|N>>>16),N=C+(D^B^R)+k[10]+3200236656&4294967295,C=D+(N<<23&4294967295|N>>>9),N=R+(C^D^B)+k[13]+681279174&4294967295,R=C+(N<<4&4294967295|N>>>28),N=B+(R^C^D)+k[0]+3936430074&4294967295,B=R+(N<<11&4294967295|N>>>21),N=D+(B^R^C)+k[3]+3572445317&4294967295,D=B+(N<<16&4294967295|N>>>16),N=C+(D^B^R)+k[6]+76029189&4294967295,C=D+(N<<23&4294967295|N>>>9),N=R+(C^D^B)+k[9]+3654602809&4294967295,R=C+(N<<4&4294967295|N>>>28),N=B+(R^C^D)+k[12]+3873151461&4294967295,B=R+(N<<11&4294967295|N>>>21),N=D+(B^R^C)+k[15]+530742520&4294967295,D=B+(N<<16&4294967295|N>>>16),N=C+(D^B^R)+k[2]+3299628645&4294967295,C=D+(N<<23&4294967295|N>>>9),N=R+(D^(C|~B))+k[0]+4096336452&4294967295,R=C+(N<<6&4294967295|N>>>26),N=B+(C^(R|~D))+k[7]+1126891415&4294967295,B=R+(N<<10&4294967295|N>>>22),N=D+(R^(B|~C))+k[14]+2878612391&4294967295,D=B+(N<<15&4294967295|N>>>17),N=C+(B^(D|~R))+k[5]+4237533241&4294967295,C=D+(N<<21&4294967295|N>>>11),N=R+(D^(C|~B))+k[12]+1700485571&4294967295,R=C+(N<<6&4294967295|N>>>26),N=B+(C^(R|~D))+k[3]+2399980690&4294967295,B=R+(N<<10&4294967295|N>>>22),N=D+(R^(B|~C))+k[10]+4293915773&4294967295,D=B+(N<<15&4294967295|N>>>17),N=C+(B^(D|~R))+k[1]+2240044497&4294967295,C=D+(N<<21&4294967295|N>>>11),N=R+(D^(C|~B))+k[8]+1873313359&4294967295,R=C+(N<<6&4294967295|N>>>26),N=B+(C^(R|~D))+k[15]+4264355552&4294967295,B=R+(N<<10&4294967295|N>>>22),N=D+(R^(B|~C))+k[6]+2734768916&4294967295,D=B+(N<<15&4294967295|N>>>17),N=C+(B^(D|~R))+k[13]+1309151649&4294967295,C=D+(N<<21&4294967295|N>>>11),N=R+(D^(C|~B))+k[4]+4149444226&4294967295,R=C+(N<<6&4294967295|N>>>26),N=B+(C^(R|~D))+k[11]+3174756917&4294967295,B=R+(N<<10&4294967295|N>>>22),N=D+(R^(B|~C))+k[2]+718787259&4294967295,D=B+(N<<15&4294967295|N>>>17),N=C+(B^(D|~R))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+B&4294967295}s.prototype.v=function(I,R){R===void 0&&(R=I.length);const C=R-this.blockSize,k=this.C;let D=this.h,B=0;for(;B<R;){if(D==0)for(;B<=C;)o(this,I,B),B+=this.blockSize;if(typeof I=="string"){for(;B<R;)if(k[D++]=I.charCodeAt(B++),D==this.blockSize){o(this,k),D=0;break}}else for(;B<R;)if(k[D++]=I[B++],D==this.blockSize){o(this,k),D=0;break}}this.h=D,this.o+=R},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)I[R++]=this.g[C]>>>k&255;return I};function u(I,R){var C=m;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=R(I)}function h(I,R){this.h=R;const C=[];let k=!0;for(let D=I.length-1;D>=0;D--){const B=I[D]|0;k&&B==R||(C[D]=B,k=!1)}this.g=C}var m={};function p(I){return-128<=I&&I<128?u(I,function(R){return new h([R|0],R<0?-1:0)}):new h([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return L(g(-I));const R=[];let C=1;for(let k=0;I>=C;k++)R[k]=I/C|0,C*=4294967296;return new h(R,0)}function T(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return L(T(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(R,8));let k=b;for(let B=0;B<I.length;B+=8){var D=Math.min(8,I.length-B);const N=parseInt(I.substring(B,B+D),R);D<8?(D=g(Math.pow(R,D)),k=k.j(D).add(g(N))):(k=k.j(C),k=k.add(g(N)))}return k}var b=p(0),A=p(1),O=p(16777216);i=h.prototype,i.m=function(){if(P(this))return-L(this).m();let I=0,R=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);I+=(k>=0?k:4294967296+k)*R,R*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(z(this))return"0";if(P(this))return"-"+L(this).toString(I);const R=g(Math.pow(I,6));var C=this;let k="";for(;;){const D=ue(C,R).g;C=U(C,D.j(R));let B=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,z(C))return B+k;for(;B.length<6;)B="0"+B;k=B+k}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function z(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function P(I){return I.h==-1}i.l=function(I){return I=U(this,I),P(I)?-1:z(I)?0:1};function L(I){const R=I.g.length,C=[];for(let k=0;k<R;k++)C[k]=~I.g[k];return new h(C,~I.h).add(A)}i.abs=function(){return P(this)?L(this):this},i.add=function(I){const R=Math.max(this.g.length,I.g.length),C=[];let k=0;for(let D=0;D<=R;D++){let B=k+(this.i(D)&65535)+(I.i(D)&65535),N=(B>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);k=N>>>16,B&=65535,N&=65535,C[D]=N<<16|B}return new h(C,C[C.length-1]&-2147483648?-1:0)};function U(I,R){return I.add(L(R))}i.j=function(I){if(z(this)||z(I))return b;if(P(this))return P(I)?L(this).j(L(I)):L(L(this).j(I));if(P(I))return L(this.j(L(I)));if(this.l(O)<0&&I.l(O)<0)return g(this.m()*I.m());const R=this.g.length+I.g.length,C=[];for(var k=0;k<2*R;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let D=0;D<I.g.length;D++){const B=this.i(k)>>>16,N=this.i(k)&65535,Ve=I.i(D)>>>16,ze=I.i(D)&65535;C[2*k+2*D]+=N*ze,K(C,2*k+2*D),C[2*k+2*D+1]+=B*ze,K(C,2*k+2*D+1),C[2*k+2*D+1]+=N*Ve,K(C,2*k+2*D+1),C[2*k+2*D+2]+=B*Ve,K(C,2*k+2*D+2)}for(I=0;I<R;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=R;I<2*R;I++)C[I]=0;return new h(C,0)};function K(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function J(I,R){this.g=I,this.h=R}function ue(I,R){if(z(R))throw Error("division by zero");if(z(I))return new J(b,b);if(P(I))return R=ue(L(I),R),new J(L(R.g),L(R.h));if(P(R))return R=ue(I,L(R)),new J(L(R.g),R.h);if(I.g.length>30){if(P(I)||P(R))throw Error("slowDivide_ only works with positive integers.");for(var C=A,k=R;k.l(I)<=0;)C=se(C),k=se(k);var D=re(C,1),B=re(k,1);for(k=re(k,2),C=re(C,2);!z(k);){var N=B.add(k);N.l(I)<=0&&(D=D.add(C),B=N),k=re(k,1),C=re(C,1)}return R=U(I,D.j(R)),new J(D,R)}for(D=b;I.l(R)>=0;){for(C=Math.max(1,Math.floor(I.m()/R.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),B=g(C),N=B.j(R);P(N)||N.l(I)>0;)C-=k,B=g(C),N=B.j(R);z(B)&&(B=A),D=D.add(B),I=U(I,N)}return new J(D,I)}i.B=function(I){return ue(this,I).h},i.and=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<R;k++)C[k]=this.i(k)&I.i(k);return new h(C,this.h&I.h)},i.or=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<R;k++)C[k]=this.i(k)|I.i(k);return new h(C,this.h|I.h)},i.xor=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<R;k++)C[k]=this.i(k)^I.i(k);return new h(C,this.h^I.h)};function se(I){const R=I.g.length+1,C=[];for(let k=0;k<R;k++)C[k]=I.i(k)<<1|I.i(k-1)>>>31;return new h(C,I.h)}function re(I,R){const C=R>>5;R%=32;const k=I.g.length-C,D=[];for(let B=0;B<k;B++)D[B]=R>0?I.i(B+C)>>>R|I.i(B+C+1)<<32-R:I.i(B+C);return new h(D,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,jb=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=T,ys=h}).apply(typeof hT<"u"?hT:typeof self<"u"?self:typeof window<"u"?window:{});var yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zb,nu,Bb,xh,Tp,qb,Fb,Hb;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof yh=="object"&&yh];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var F=c[w];if(!(F in E))break e;E=E[F]}c=c[c.length-1],w=E[c],y=y(w),y!=w&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&E.push([w,y[w]]);return E}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,E){return c.call.apply(c.bind,arguments)}function g(c,y,E){return g=p,g.apply(null,arguments)}function T(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function b(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(w,F,Y){for(var ae=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)ae[Ae-2]=arguments[Ae];return y.prototype[F].apply(w,ae)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function O(c){const y=c.length;if(y>0){const E=Array(y);for(let w=0;w<y;w++)E[w]=c[w];return E}return[]}function z(c,y){for(let w=1;w<arguments.length;w++){const F=arguments[w];var E=typeof F;if(E=E!="object"?E:F?Array.isArray(F)?"array":E:"null",E=="array"||E=="object"&&typeof F.length=="number"){E=c.length||0;const Y=F.length||0;c.length=E+Y;for(let ae=0;ae<Y;ae++)c[E+ae]=F[ae]}else c.push(F)}}class P{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(c){h.setTimeout(()=>{throw c},0)}function U(){var c=I;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class K{constructor(){this.h=this.g=null}add(y,E){const w=J.get();w.set(y,E),this.h?this.h.next=w:this.g=w,this.h=w}}var J=new P(()=>new ue,c=>c.reset());class ue{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let se,re=!1,I=new K,R=()=>{const c=Promise.resolve(void 0);se=()=>{c.then(C)}};function C(){for(var c;c=U();){try{c.h.call(c.g)}catch(E){L(E)}var y=J;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}re=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function Ve(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(Ve,D),Ve.prototype.init=function(c,y){const E=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ve.Z.h.call(this)},Ve.prototype.h=function(){Ve.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ze="closure_listenable_"+(Math.random()*1e6|0),X=0;function oe(c,y,E,w,F){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!w,this.ha=F,this.key=++X,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Be(c,y,E){for(const w in c)y.call(E,c[w],w,c)}function Ke(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function j(c){const y={};for(const E in c)y[E]=c[E];return y}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,y){let E,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(E in w)c[E]=w[E];for(let Y=0;Y<te.length;Y++)E=te[Y],Object.prototype.hasOwnProperty.call(w,E)&&(c[E]=w[E])}}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,y,E,w,F){const Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);const ae=Ce(c,y,w,F);return ae>-1?(y=c[ae],E||(y.fa=!1)):(y=new oe(y,this.src,Y,!!w,F),y.fa=E,c.push(y)),y};function Te(c,y){const E=y.type;if(E in c.g){var w=c.g[E],F=Array.prototype.indexOf.call(w,y,void 0),Y;(Y=F>=0)&&Array.prototype.splice.call(w,F,1),Y&&(ge(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ce(c,y,E,w){for(let F=0;F<c.length;++F){const Y=c[F];if(!Y.da&&Y.listener==y&&Y.capture==!!E&&Y.ha==w)return F}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Ot={};function at(c,y,E,w,F){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)at(c,y[Y],E,w,F);return null}return E=Yo(E),c&&c[ze]?c.J(y,E,m(w)?!!w.capture:!1,F):Ms(c,y,E,!1,w,F)}function Ms(c,y,E,w,F,Y){if(!y)throw Error("Invalid event type");const ae=m(F)?!!F.capture:!!F;let Ae=ks(c);if(Ae||(c[Ue]=Ae=new he(c)),E=Ae.add(y,E,w,ae,Y),E.proxy)return E;if(w=xa(),E.proxy=w,w.src=c,w.listener=E,c.addEventListener)B||(F=ae),F===void 0&&(F=!1),c.addEventListener(y.toString(),w,F);else if(c.attachEvent)c.attachEvent(vi(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function xa(){function c(E){return y.call(c.src,c.listener,E)}const y=$o;return c}function Da(c,y,E,w,F){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Da(c,y[Y],E,w,F);else w=m(w)?!!w.capture:!!w,E=Yo(E),c&&c[ze]?(c=c.i,Y=String(y).toString(),Y in c.g&&(y=c.g[Y],E=Ce(y,E,w,F),E>-1&&(ge(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[Y],c.h--)))):c&&(c=ks(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ce(y,E,w,F)),(E=c>-1?y[c]:null)&&Oa(E))}function Oa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ze])Te(y.i,c);else{var E=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(E,w,c.capture):y.detachEvent?y.detachEvent(vi(E),w):y.addListener&&y.removeListener&&y.removeListener(w),(E=ks(y))?(Te(E,c),E.h==0&&(E.src=null,y[Ue]=null)):ge(c)}}}function vi(c){return c in Ot?Ot[c]:Ot[c]="on"+c}function $o(c,y){if(c.da)c=!0;else{y=new Ve(y,this);const E=c.listener,w=c.ha||c.src;c.fa&&Oa(c),c=E.call(w,y)}return c}function ks(c){return c=c[Ue],c instanceof he?c:null}var Ko="__closure_events_fn_"+(Math.random()*1e9>>>0);function Yo(c){return typeof c=="function"?c:(c[Ko]||(c[Ko]=function(y){return c.handleEvent(y)}),c[Ko])}function Tt(){k.call(this),this.i=new he(this),this.M=this,this.G=null}b(Tt,k),Tt.prototype[ze]=!0,Tt.prototype.removeEventListener=function(c,y,E,w){Da(this,c,y,E,w)};function Mt(c,y){var E,w=c.G;if(w)for(E=[];w;w=w.G)E.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var F=y;y=new D(w,c),le(y,F)}F=!0;let Y,ae;if(E)for(ae=E.length-1;ae>=0;ae--)Y=y.g=E[ae],F=Nr(Y,w,!0,y)&&F;if(Y=y.g=c,F=Nr(Y,w,!0,y)&&F,F=Nr(Y,w,!1,y)&&F,E)for(ae=0;ae<E.length;ae++)Y=y.g=E[ae],F=Nr(Y,w,!1,y)&&F}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let w=0;w<E.length;w++)ge(E[w]);delete c.g[y],c.h--}}this.G=null},Tt.prototype.J=function(c,y,E,w){return this.i.add(String(c),y,!1,E,w)},Tt.prototype.K=function(c,y,E,w){return this.i.add(String(c),y,!0,E,w)};function Nr(c,y,E,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let F=!0;for(let Y=0;Y<y.length;++Y){const ae=y[Y];if(ae&&!ae.da&&ae.capture==E){const Ae=ae.listener,yt=ae.ha||ae.src;ae.fa&&Te(c.i,ae),F=Ae.call(yt,w)!==!1&&F}}return F&&!w.defaultPrevented}function Lf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function zu(c){c.g=Lf(()=>{c.g=null,c.i&&(c.i=!1,zu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class an extends k{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:zu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ps(c){k.call(this),this.h=c,this.g={}}b(Ps,k);var Qo=[];function Xo(c){Be(c.g,function(y,E){this.g.hasOwnProperty(E)&&Oa(y)},c),c.g={}}Ps.prototype.N=function(){Ps.Z.N.call(this),Xo(this)},Ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xr=h.JSON.stringify,Uf=h.JSON.parse,Bu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function qu(){}function Fu(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){D.call(this,"d")}b(qt,D);function kn(){D.call(this,"c")}b(kn,D);var gt={},Hu=null;function Ma(){return Hu=Hu||new Tt}gt.Ia="serverreachability";function Gu(c){D.call(this,gt.Ia,c)}b(Gu,D);function Ei(c){const y=Ma();Mt(y,new Gu(y))}gt.STAT_EVENT="statevent";function Vs(c,y){D.call(this,gt.STAT_EVENT,c),this.stat=y}b(Vs,D);function bt(c){const y=Ma();Mt(y,new Vs(y,c))}gt.Ja="timingevent";function Ti(c,y){D.call(this,gt.Ja,c),this.size=y}b(Ti,D);function bi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function ei(){this.g=!0}ei.prototype.ua=function(){this.g=!1};function jf(c,y,E,w,F,Y){c.info(function(){if(c.g)if(Y){var ae="",Ae=Y.split("&");for(let He=0;He<Ae.length;He++){var yt=Ae[He].split("=");if(yt.length>1){const ot=yt[0];yt=yt[1];const Un=ot.split("_");ae=Un.length>=2&&Un[1]=="type"?ae+(ot+"="+yt+"&"):ae+(ot+"=redacted&")}}}else ae=null;else ae=Y;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+y+`
`+E+`
`+ae})}function $u(c,y,E,w,F,Y,ae){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+y+`
`+E+`
`+Y+" "+ae})}function Si(c,y,E,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+zf(c,E)+(w?" "+w:"")})}function Ls(c,y){c.info(function(){return"TIMEOUT: "+y})}ei.prototype.info=function(){};function zf(c,y){if(!c.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(c=0;c<Y.length;c++)if(Array.isArray(Y[c])){var E=Y[c];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var F=w[0];if(F!="noop"&&F!="stop"&&F!="close")for(let ae=1;ae<w.length;ae++)w[ae]=""}}}}return xr(Y)}catch{return y}}var Us={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Wo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jo;function js(){}b(js,qu),js.prototype.g=function(){return new XMLHttpRequest},Jo=new js;function Wi(c){return encodeURIComponent(String(c))}function Ku(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function ti(c,y,E,w){this.j=c,this.i=y,this.l=E,this.S=w||1,this.V=new Ps(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var St={},Ut={};function wi(c,y,E){c.M=1,c.A=zs(At(y)),c.u=E,c.R=!0,ka(c,null)}function ka(c,y){c.F=Date.now(),Ai(c),c.B=At(c.A);var E=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),Ua(E.i,"t",w),c.C=0,E=c.j.L,c.h=new ni,c.g=lc(c.j,E?y:null,!c.u),c.P>0&&(c.O=new an(g(c.Y,c,c.g),c.P)),y=c.V,E=c.g,w=c.ba;var F="readystatechange";Array.isArray(F)||(F&&(Qo[0]=F.toString()),F=Qo);for(let Y=0;Y<F.length;Y++){const ae=at(E,F[Y],w||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.J?j(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),Ei(),jf(c.i,c.v,c.B,c.l,c.S,c.u)}ti.prototype.ba=function(c){c=c.target;const y=this.O;y&&si(c)==3?y.j():this.Y(c)},ti.prototype.Y=function(c){try{if(c==this.g)e:{const Ae=si(this.g),yt=this.g.ya(),He=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||Ae!=4||yt==7||(yt==8||He<=0?Ei(3):Ei(2)),Ri(this);var y=this.g.ca();this.X=y;var E=Bf(this);if(this.o=y==200,$u(this.i,this.v,this.B,this.l,this.S,Ae,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,F=this.g;if((w=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(w)){var Y=w;break t}}Y=null}if(c=Y)Si(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,c);else{this.o=!1,this.m=3,bt(12),bn(this),Pn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<E.length;)if(ot=Qu(this,E),ot==Ut){Ae==4&&(this.m=4,bt(14),c=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==St){this.m=4,bt(15),Si(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else Si(this.i,this.l,ot,null),Ci(this,ot);if(Yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||E.length!=0||this.h.h||(this.m=1,bt(16),c=!1),this.o=this.o&&c,!c)Si(this.i,this.l,E,"[Invalid Chunked Response]"),bn(this),Pn(this);else if(E.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),dl(ae),ae.P=!0,bt(11))}}else Si(this.i,this.l,E,null),Ci(this,E);Ae==4&&bn(this),this.o&&!this.K&&(Ae==4?rc(this.j,this):(this.o=!1,Ai(this)))}else Zi(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),bn(this),Pn(this)}}}catch{}finally{}};function Bf(c){if(!Yu(c))return c.g.la();const y=Ft(c.g);if(y==="")return"";let E="";const w=y.length,F=si(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return bn(c),Pn(c),"";c.h.i=new h.TextDecoder}for(let Y=0;Y<w;Y++)c.h.h=!0,E+=c.h.i.decode(y[Y],{stream:!(F&&Y==w-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function Yu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Qu(c,y){var E=c.C,w=y.indexOf(`
`,E);return w==-1?Ut:(E=Number(y.substring(E,w)),isNaN(E)?St:(w+=1,w+E>y.length?Ut:(y=y.slice(w,w+E),c.C=w+E,y)))}ti.prototype.cancel=function(){this.K=!0,bn(this)};function Ai(c){c.T=Date.now()+c.H,Pa(c,c.H)}function Pa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=bi(g(c.aa,c),y)}function Ri(c){c.D&&(h.clearTimeout(c.D),c.D=null)}ti.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ls(this.i,this.B),this.M!=2&&(Ei(),bt(17)),bn(this),this.m=2,Pn(this)):Pa(this,this.T-c)};function Pn(c){c.j.I==0||c.K||rc(c.j,c)}function bn(c){Ri(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Xo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Ci(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||Ni(E.h,c))){if(!c.L&&Ni(E.h,c)&&E.I==3){try{var w=E.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Fa(E),Ur(E);else break e;Ks(E),bt(18)}}else E.xa=F[1],0<E.xa-E.K&&F[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=bi(g(E.Va,E),6e3));Ii(E.h)<=1&&E.ta&&(E.ta=void 0)}else Pi(E,11)}else if((c.L||E.g==c)&&Fa(E),!N(y))for(F=E.Ba.g.parse(y),y=0;y<F.length;y++){let He=F[y];const ot=He[0];if(!(ot<=E.K))if(E.K=ot,He=He[1],E.I==2)if(He[0]=="c"){E.M=He[1],E.ba=He[2];const Un=He[3];Un!=null&&(E.ka=Un,E.j.info("VER="+E.ka));const Vi=He[4];Vi!=null&&(E.za=Vi,E.j.info("SVER="+E.za));const ai=He[5];ai!=null&&typeof ai=="number"&&ai>0&&(w=1.5*ai,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const oi=c.g;if(oi){const Ys=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ys){var Y=w.h;Y.g||Ys.indexOf("spdy")==-1&&Ys.indexOf("quic")==-1&&Ys.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(tl(Y,Y.h),Y.h=null))}if(w.G){const Ha=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ha&&(w.wa=Ha,Ye(w.J,w.G,Ha))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var ae=c;if(w.na=oc(w,w.L?w.ba:null,w.W),ae.L){nl(w.h,ae);var Ae=ae,yt=w.O;yt&&(Ae.H=yt),Ae.D&&(Ri(Ae),Ai(Ae)),w.g=ae}else nc(w);E.i.length>0&&ki(E)}else He[0]!="stop"&&He[0]!="close"||Pi(E,7);else E.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Pi(E,7):hl(E):He[0]!="noop"&&E.l&&E.l.qa(He),E.A=0)}}Ei(4)}catch{}}var wt=class{constructor(c,y){this.g=c,this.map=y}};function Zo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function el(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ii(c){return c.h?1:c.g?c.g.size:0}function Ni(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function tl(c,y){c.g?c.g.add(y):c.h=y}function nl(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Zo.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function il(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return O(c.i)}var Xu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Va(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const w=c[E].indexOf("=");let F,Y=null;w>=0?(F=c[E].substring(0,w),Y=c[E].substring(w+1)):F=c[E],y(F,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Sn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Sn?(this.l=c.l,jt(this,c.j),this.o=c.o,this.g=c.g,Dr(this,c.u),this.h=c.h,rl(this,ec(c.i)),this.m=c.m):c&&(y=String(c).match(Xu))?(this.l=!1,jt(this,y[1]||"",!0),this.o=xi(y[2]||""),this.g=xi(y[3]||"",!0),Dr(this,y[4]),this.h=xi(y[5]||"",!0),rl(this,y[6]||"",!0),this.m=xi(y[7]||"")):(this.l=!1,this.i=new Mr(null,this.l))}Sn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Bs(y,La,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Bs(y,La,!0),"@"),c.push(Wi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Bs(E,E.charAt(0)=="/"?sl:Wu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Bs(E,Ju)),c.join("")},Sn.prototype.resolve=function(c){const y=At(this);let E=!!c.j;E?jt(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var w=c.h;if(E)Dr(y,c.u);else if(E=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var F=y.h.lastIndexOf("/");F!=-1&&(w=y.h.slice(0,F+1)+w)}if(F=w,F==".."||F==".")w="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){w=F.lastIndexOf("/",0)==0,F=F.split("/");const Y=[];for(let ae=0;ae<F.length;){const Ae=F[ae++];Ae=="."?w&&ae==F.length&&Y.push(""):Ae==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),w&&ae==F.length&&Y.push("")):(Y.push(Ae),w=!0)}w=Y.join("/")}else w=F}return E?y.h=w:E=c.i.toString()!=="",E?rl(y,ec(c.i)):E=!!c.m,E&&(y.m=c.m),y};function At(c){return new Sn(c)}function jt(c,y,E){c.j=E?xi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Dr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function rl(c,y,E){y instanceof Mr?(c.i=y,ja(c.i,c.l)):(E||(y=Bs(y,Or)),c.i=new Mr(y,c.l))}function Ye(c,y,E){c.i.set(y,E)}function zs(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function xi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Bs(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,fn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function fn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var La=/[#\/\?@]/g,Wu=/[#\?:]/g,sl=/[#\?]/g,Or=/[#\?@]/g,Ju=/#/g;function Mr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function dn(c){c.g||(c.g=new Map,c.h=0,c.i&&Va(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=Mr.prototype,i.add=function(c,y){dn(this),this.i=null,c=kr(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Zu(c,y){dn(c),y=kr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function al(c,y){return dn(c),y=kr(c,y),c.g.has(y)}i.forEach=function(c,y){dn(this),this.g.forEach(function(E,w){E.forEach(function(F){c.call(y,F,w,this)},this)},this)};function ol(c,y){dn(c);let E=[];if(typeof y=="string")al(c,y)&&(E=E.concat(c.g.get(kr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}i.set=function(c,y){return dn(this),this.i=null,c=kr(this,c),al(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=ol(this,c),c.length>0?String(c[0]):y):y};function Ua(c,y,E){Zu(c,y),E.length>0&&(c.i=null,c.g.set(kr(c,y),O(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var E=y[w];const F=Wi(E);E=ol(this,E);for(let Y=0;Y<E.length;Y++){let ae=F;E[Y]!==""&&(ae+="="+Wi(E[Y])),c.push(ae)}}return this.i=c.join("&")};function ec(c){const y=new Mr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function kr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ja(c,y){y&&!c.j&&(dn(c),c.i=null,c.g.forEach(function(E,w){const F=w.toLowerCase();w!=F&&(Zu(this,w),Ua(this,F,E))},c)),c.j=y}function ii(c,y){const E=new ei;if(h.Image){const w=new Image;w.onload=T(Vn,E,"TestLoadImage: loaded",!0,y,w),w.onerror=T(Vn,E,"TestLoadImage: error",!1,y,w),w.onabort=T(Vn,E,"TestLoadImage: abort",!1,y,w),w.ontimeout=T(Vn,E,"TestLoadImage: timeout",!1,y,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function ll(c,y){const E=new ei,w=new AbortController,F=setTimeout(()=>{w.abort(),Vn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(Y=>{clearTimeout(F),Y.ok?Vn(E,"TestPingServer: ok",!0,y):Vn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Vn(E,"TestPingServer: error",!1,y)})}function Vn(c,y,E,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(E)}catch{}}function Pr(){this.g=new Bu}function Di(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Di,qu),Di.prototype.g=function(){return new qs(this.i,this.h)};function qs(c,y){Tt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(qs,Tt),i=qs.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,ri(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vr(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;za(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function za(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Vr(this):ri(this),this.readyState==3&&za(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Vr(this))},i.Na=function(c){this.g&&(this.response=c,Vr(this))},i.ga=function(){this.g&&Vr(this)};function Vr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ri(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(qs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ln(c){let y="";return Be(c,function(E,w){y+=w,y+=":",y+=E,y+=`\r
`}),y}function Fs(c,y,E){e:{for(w in E){var w=!1;break e}w=!0}w||(E=Ln(E),typeof c=="string"?E!=null&&Wi(E):Ye(c,y,E))}function We(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(We,Tt);var Oi=/^https?$/i,ul=["POST","PUT"];i=We.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jo.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Hs(this,Y);return}if(c=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)E.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Y of w.keys())E.set(Y,w.get(Y));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),F=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(ul,y,void 0)>=0)||w||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ae]of E)this.g.setRequestHeader(Y,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Y){Hs(this,Y)}};function Hs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,cl(c),Ji(c)}function cl(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),Ji(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),We.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Gs(this):this.Xa())},i.Xa=function(){Gs(this)};function Gs(c){if(c.h&&typeof u<"u"){if(c.v&&si(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),si(c)==4){c.h=!1;try{const Y=c.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var w;if(w=Y===0){let ae=String(c.D).match(Xu)[1]||null;!ae&&h.self&&h.self.location&&(ae=h.self.location.protocol.slice(0,-1)),w=!Oi.test(ae?ae.toLowerCase():"")}E=w}if(E)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var F=si(c)>2?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.ca()+"]",cl(c)}}finally{Ji(c)}}}}function Ji(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||Mt(c,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function si(c){return c.g?c.g.readyState:0}i.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Uf(y)}};function Ft(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(c){const y={};c=(c.g&&si(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(N(c[w]))continue;var E=Ku(c[w]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=y[F]||[];y[F]=Y,Y.push(E)}Ke(y,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mi(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Lr(c){this.za=0,this.i=[],this.j=new ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mi("baseRetryDelayMs",5e3,c),this.Za=Mi("retryDelaySeedMs",1e4,c),this.Ta=Mi("forwardChannelMaxRetries",2,c),this.va=Mi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Zo(c&&c.concurrentRequestLimit),this.Ba=new Pr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Lr.prototype,i.ka=8,i.I=1,i.connect=function(c,y,E,w){bt(0),this.W=c,this.H=y||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=oc(this,null,this.W),ki(this)};function hl(c){if(Ba(c),c.I==3){var y=c.V++,E=At(c.J);if(Ye(E,"SID",c.M),Ye(E,"RID",y),Ye(E,"TYPE","terminate"),$s(c,E),y=new ti(c,c.j,y),y.M=2,y.A=zs(At(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.A,E=!0),E||(y.g=lc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ai(y)}ac(c)}function Ur(c){c.g&&(dl(c),c.g.cancel(),c.g=null)}function Ba(c){Ur(c),c.v&&(h.clearTimeout(c.v),c.v=null),Fa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function ki(c){if(!el(c.h)&&!c.m){c.m=!0;var y=c.Ea;se||R(),re||(se(),re=!0),I.add(y,c),c.D=0}}function qa(c,y){return Ii(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=bi(g(c.Ea,c,y),sc(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const F=new ti(this,this.j,c);let Y=this.o;if(this.U&&(Y?(Y=j(Y),le(Y,this.U)):Y=this.U),this.u!==null||this.R||(F.J=Y,Y=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=tc(this,F,y),E=At(this.J),Ye(E,"RID",c),Ye(E,"CVER",22),this.G&&Ye(E,"X-HTTP-Session-Id",this.G),$s(this,E),Y&&(this.R?y="headers="+Wi(Ln(Y))+"&"+y:this.u&&Fs(E,this.u,Y)),tl(this.h,F),this.Ra&&Ye(E,"TYPE","init"),this.S?(Ye(E,"$req",y),Ye(E,"SID","null"),F.U=!0,wi(F,E,null)):wi(F,E,y),this.I=2}}else this.I==3&&(c?fl(this,c):this.i.length==0||el(this.h)||fl(this))};function fl(c,y){var E;y?E=y.l:E=c.V++;const w=At(c.J);Ye(w,"SID",c.M),Ye(w,"RID",E),Ye(w,"AID",c.K),$s(c,w),c.u&&c.o&&Fs(w,c.u,c.o),E=new ti(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=tc(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),tl(c.h,E),wi(E,w,y)}function $s(c,y){c.H&&Be(c.H,function(E,w){Ye(y,w,E)}),c.l&&Be({},function(E,w){Ye(y,w,E)})}function tc(c,y,E){E=Math.min(c.i.length,E);const w=c.l?g(c.l.Ka,c.l,c):null;e:{var F=c.i;let Ae=-1;for(;;){const yt=["count="+E];Ae==-1?E>0?(Ae=F[0].g,yt.push("ofs="+Ae)):Ae=0:yt.push("ofs="+Ae);let He=!0;for(let ot=0;ot<E;ot++){var Y=F[ot].g;const Un=F[ot].map;if(Y-=Ae,Y<0)Ae=Math.max(0,F[ot].g-100),He=!1;else try{Y="req"+Y+"_"||"";try{var ae=Un instanceof Map?Un:Object.entries(Un);for(const[Vi,ai]of ae){let oi=ai;m(ai)&&(oi=xr(ai)),yt.push(Y+Vi+"="+encodeURIComponent(oi))}}catch(Vi){throw yt.push(Y+"type="+encodeURIComponent("_badmap")),Vi}}catch{w&&w(Un)}}if(He){ae=yt.join("&");break e}}ae=void 0}return c=c.i.splice(0,E),y.G=c,ae}function nc(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;se||R(),re||(se(),re=!0),I.add(y,c),c.A=0}}function Ks(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=bi(g(c.Da,c),sc(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,ic(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=bi(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),Ur(this),ic(this))};function dl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function ic(c){c.g=new ti(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=At(c.na);Ye(y,"RID","rpc"),Ye(y,"SID",c.M),Ye(y,"AID",c.K),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(y,"TO",c.ia),Ye(y,"TYPE","xmlhttp"),$s(c,y),c.u&&c.o&&Fs(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=zs(At(y)),E.u=null,E.R=!0,ka(E,c)}i.Va=function(){this.C!=null&&(this.C=null,Ur(this),Ks(this),bt(19))};function Fa(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function rc(c,y){var E=null;if(c.g==y){Fa(c),dl(c),c.g=null;var w=2}else if(Ni(c.h,y))E=y.G,nl(c.h,y),w=1;else return;if(c.I!=0){if(y.o)if(w==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var F=c.D;w=Ma(),Mt(w,new Ti(w,E)),ki(c)}else nc(c);else if(F=y.m,F==3||F==0&&y.X>0||!(w==1&&qa(c,y)||w==2&&Ks(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),F){case 1:Pi(c,5);break;case 4:Pi(c,10);break;case 3:Pi(c,6);break;default:Pi(c,2)}}}function sc(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function Pi(c,y){if(c.j.info("Error code "+y),y==2){var E=g(c.bb,c),w=c.Ua;const F=!w;w=new Sn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||jt(w,"https"),zs(w),F?ii(w.toString(),E):ll(w.toString(),E)}else bt(2);c.I=0,c.l&&c.l.pa(y),ac(c),Ba(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function ac(c){if(c.I=0,c.ja=[],c.l){const y=il(c.h);(y.length!=0||c.i.length!=0)&&(z(c.ja,y),z(c.ja,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.oa()}}function oc(c,y,E){var w=E instanceof Sn?At(E):new Sn(E);if(w.g!="")y&&(w.g=y+"."+w.g),Dr(w,w.u);else{var F=h.location;w=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;const Y=new Sn(null);w&&jt(Y,w),y&&(Y.g=y),F&&Dr(Y,F),E&&(Y.h=E),w=Y}return E=c.G,y=c.wa,E&&y&&Ye(w,E,y),Ye(w,"VER",c.ka),$s(c,w),w}function lc(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new We(new Di({ab:E})):new We(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function uc(){}i=uc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function jr(){}jr.prototype.g=function(c,y){return new on(c,y)};function on(c,y){Tt.call(this),this.g=new Lr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!N(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new er(this)}b(on,Tt),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){hl(this.g)},on.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=xr(c),c=E);y.i.push(new wt(y.Ya++,c)),y.I==3&&ki(y)},on.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,on.Z.N.call(this)};function cc(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(cc,qt);function hc(){kn.call(this),this.status=1}b(hc,kn);function er(c){this.g=c}b(er,uc),er.prototype.ra=function(){Mt(this.g,"a")},er.prototype.qa=function(c){Mt(this.g,new cc(c))},er.prototype.pa=function(c){Mt(this.g,new hc)},er.prototype.oa=function(){Mt(this.g,"b")},jr.prototype.createWebChannel=jr.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,Hb=function(){return new jr},Fb=function(){return Ma()},qb=gt,Tp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Us.NO_ERROR=0,Us.TIMEOUT=8,Us.HTTP_ERROR=6,xh=Us,Wo.COMPLETE="complete",Bb=Wo,Fu.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,nu=Fu,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,zb=We}).apply(typeof yh<"u"?yh:typeof self<"u"?self:typeof window<"u"?window:{});const fT="@firebase/firestore",dT="4.9.2";class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let qo="12.3.0";const va=new ff("@firebase/firestore");function To(){return va.logLevel}function ce(i,...e){if(va.logLevel<=Me.DEBUG){const n=e.map(cg);va.debug(`Firestore (${qo}): ${i}`,...n)}}function Ar(i,...e){if(va.logLevel<=Me.ERROR){const n=e.map(cg);va.error(`Firestore (${qo}): ${i}`,...n)}}function Do(i,...e){if(va.logLevel<=Me.WARN){const n=e.map(cg);va.warn(`Firestore (${qo}): ${i}`,...n)}}function cg(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Ee(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Gb(i,s,n)}function Gb(i,e,n){let s=`FIRESTORE (${qo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ar(s),new Error(s)}function $e(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||Gb(e,o,s)}function we(i,e){return i}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Jn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _s{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class $b{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(en.UNAUTHENTICATED)))}shutdown(){}}class _x{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class vx{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new _s;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new _s,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new _s)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string",31837,{l:s}),new $b(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class Ex{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Tx{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Ex(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,En(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new mT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Sx(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class hg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Sx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function bp(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Xm(o)===Xm(u)?ke(o,u):Xm(o)?1:-1}return ke(i.length,e.length)}const wx=55296,Ax=57343;function Xm(i){const e=i.charCodeAt(0);return e>=wx&&e<=Ax}function Oo(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const pT="__name__";class Bi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Bi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Bi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const s=Bi.isNumericId(e),o=Bi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Bi.extractNumericId(e).compare(Bi.extractNumericId(n)):bp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ys.fromString(e.substring(4,e.length-2))}}class rt extends Bi{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const Rx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Bi{construct(e,n,s){return new Qt(e,n,s)}static isValidIdentifier(e){return Rx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pT}static keyField(){return new Qt([pT])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new me(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new me(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}function Kb(i,e,n){if(!n)throw new me(ie.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Cx(i,e,n,s){if(e===!0&&s===!0)throw new me(ie.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function gT(i){if(!ye.isDocumentKey(i))throw new me(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function yT(i){if(ye.isDocumentKey(i))throw new me(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Yb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function fg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function Mo(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new me(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fg(i);throw new me(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Dt(i,e){const n={typeString:i};return e&&(n.value=e),n}function ku(i,e){if(!Yb(i))throw new me(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new me(ie.INVALID_ARGUMENT,n);return!0}const _T=-62135596800,vT=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*vT);return new st(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_T)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vT}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ku(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_T;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Dt("string",st._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new st(0,0))}static max(){return new be(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Tu=-1;function Ix(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new st(n+1,0):new st(n,s));return new Ss(o,ye.empty(),e)}function Nx(i){return new Ss(i.readTime,i.key,Tu)}class Ss{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ss(be.min(),ye.empty(),Tu)}static max(){return new Ss(be.max(),ye.empty(),Tu)}}function xx(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:ke(i.largestBatchId,e.largestBatchId))}const Dx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ox{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Fo(i){if(i.code!==ie.FAILED_PRECONDITION||i.message!==Dx)throw i;ce("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((T=>{h[g]=T,++m,m===u&&s(h)}),(T=>o(T)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function Mx(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ho(i){return i.name==="IndexedDbTransactionError"}class yf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yf.ce=-1;const dg=-1;function _f(i){return i==null}function Gh(i){return i===0&&1/i==-1/0}function kx(i){return typeof i=="number"&&Number.isInteger(i)&&!Gh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Qb="";function Px(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=ET(e)),e=Vx(i.get(n),e);return ET(e)}function Vx(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case Qb:n+="";break;default:n+=u}}return n}function ET(i){return i+Qb+""}function TT(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ra(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Xb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _h(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _h(this.root,e,this.comparator,!1)}getReverseIterator(){return new _h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _h(this.root,e,this.comparator,!0)}}class _h{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Yt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bT(this.data.getIterator())}getIteratorFrom(e){return new bT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class bT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fi{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new fi([])}unionWith(e){let n=new Lt(Qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new fi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Oo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class Wb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Wb("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const Lx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(i){if($e(!!i,39018),typeof i=="string"){let e=0;const n=Lx.exec(i);if($e(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(i.seconds),nanos:Et(i.nanos)}}function Et(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function As(i){return typeof i=="string"?Xt.fromBase64String(i):Xt.fromUint8Array(i)}const Jb="server_timestamp",Zb="__type__",eS="__previous_value__",tS="__local_write_time__";function mg(i){return(i?.mapValue?.fields||{})[Zb]?.stringValue===Jb}function vf(i){const e=i.mapValue.fields[eS];return mg(e)?vf(e):e}function bu(i){const e=ws(i.mapValue.fields[tS].timestampValue);return new st(e.seconds,e.nanos)}class Ux{constructor(e,n,s,o,u,h,m,p,g,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=T}}const $h="(default)";class Su{constructor(e,n){this.projectId=e,this.database=n||$h}static empty(){return new Su("","")}get isDefaultDatabase(){return this.database===$h}isEqual(e){return e instanceof Su&&e.projectId===this.projectId&&e.database===this.database}}const nS="__type__",jx="__max__",vh={mapValue:{}},iS="__vector__",Kh="value";function Rs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?mg(i)?4:Bx(i)?9007199254740991:zx(i)?10:11:Ee(28295,{value:i})}function Qi(i,e){if(i===e)return!0;const n=Rs(i);if(n!==Rs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return bu(i).isEqual(bu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ws(o.timestampValue),m=ws(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return As(o.bytesValue).isEqual(As(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Et(o.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Et(o.integerValue)===Et(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Et(o.doubleValue),m=Et(u.doubleValue);return h===m?Gh(h)===Gh(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return Oo(i.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(TT(h)!==TT(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Qi(h[p],m[p])))return!1;return!0})(i,e);default:return Ee(52216,{left:i})}}function wu(i,e){return(i.values||[]).find((n=>Qi(n,e)))!==void 0}function ko(i,e){if(i===e)return 0;const n=Rs(i),s=Rs(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=Et(u.integerValue||u.doubleValue),p=Et(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return ST(i.timestampValue,e.timestampValue);case 4:return ST(bu(i),bu(e));case 5:return bp(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=As(u),p=As(h);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const T=ke(m[g],p[g]);if(T!==0)return T}return ke(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=ke(Et(u.latitude),Et(h.latitude));return m!==0?m:ke(Et(u.longitude),Et(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return wT(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Kh]?.arrayValue,T=p[Kh]?.arrayValue,b=ke(g?.values?.length||0,T?.values?.length||0);return b!==0?b:wT(g,T)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===vh.mapValue&&h===vh.mapValue)return 0;if(u===vh.mapValue)return 1;if(h===vh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const A=bp(p[b],T[b]);if(A!==0)return A;const O=ko(m[p[b]],g[T[b]]);if(O!==0)return O}return ke(p.length,T.length)})(i.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function ST(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const n=ws(i),s=ws(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function wT(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ko(n[o],s[o]);if(u)return u}return ke(n.length,s.length)}function Po(i){return Sp(i)}function Sp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=ws(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return As(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ye.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Sp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Sp(n.fields[h])}`;return o+"}"})(i.mapValue):Ee(61005,{value:i})}function Dh(i){switch(Rs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vf(i);return e?16+Dh(e):16;case 5:return 2*i.stringValue.length;case 6:return As(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Dh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Ra(s.fields,((u,h)=>{o+=u.length+Dh(h)})),o})(i.mapValue);default:throw Ee(13486,{value:i})}}function wp(i){return!!i&&"integerValue"in i}function pg(i){return!!i&&"arrayValue"in i}function AT(i){return!!i&&"nullValue"in i}function RT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Oh(i){return!!i&&"mapValue"in i}function zx(i){return(i?.mapValue?.fields||{})[nS]?.stringValue===iS}function uu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ra(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=uu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uu(i.arrayValue.values[n]);return e}return{...i}}function Bx(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===jx}class Kn{constructor(e){this.value=e}static empty(){return new Kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(n)}setAll(e){let n=Qt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=uu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ra(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Kn(uu(this.value))}}function rS(i){const e=[];return Ra(i.fields,((n,s)=>{const o=new Qt([n]);if(Oh(s)){const u=rS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new fi(e)}class tn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new tn(e,0,be.min(),be.min(),be.min(),Kn.empty(),0)}static newFoundDocument(e,n,s,o){return new tn(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new tn(e,2,n,be.min(),be.min(),Kn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,be.min(),be.min(),Kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yh{constructor(e,n){this.position=e,this.inclusive=n}}function CT(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),n.key):s=ko(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function IT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Qi(i.position[n],e.position[n]))return!1;return!0}class Qh{constructor(e,n="asc"){this.field=e,this.dir=n}}function qx(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class sS{}class Pt extends sS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Hx(e,n,s):n==="array-contains"?new Kx(e,s):n==="in"?new Yx(e,s):n==="not-in"?new Qx(e,s):n==="array-contains-any"?new Xx(e,s):new Pt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Gx(e,s):new $x(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ko(n,this.value)):n!==null&&Rs(this.value)===Rs(n)&&this.matchesComparison(ko(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xi extends sS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Xi(e,n)}matches(e){return aS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function aS(i){return i.op==="and"}function oS(i){return Fx(i)&&aS(i)}function Fx(i){for(const e of i.filters)if(e instanceof Xi)return!1;return!0}function Ap(i){if(i instanceof Pt)return i.field.canonicalString()+i.op.toString()+Po(i.value);if(oS(i))return i.filters.map((e=>Ap(e))).join(",");{const e=i.filters.map((n=>Ap(n))).join(",");return`${i.op}(${e})`}}function lS(i,e){return i instanceof Pt?(function(s,o){return o instanceof Pt&&s.op===o.op&&s.field.isEqual(o.field)&&Qi(s.value,o.value)})(i,e):i instanceof Xi?(function(s,o){return o instanceof Xi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&lS(h,o.filters[m])),!0):!1})(i,e):void Ee(19439)}function uS(i){return i instanceof Pt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Po(n.value)}`})(i):i instanceof Xi?(function(n){return n.op.toString()+" {"+n.getFilters().map(uS).join(" ,")+"}"})(i):"Filter"}class Hx extends Pt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class Gx extends Pt{constructor(e,n){super(e,"in",n),this.keys=cS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class $x extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=cS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function cS(i,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class Kx extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pg(n)&&wu(n.arrayValue,this.value)}}class Yx extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wu(this.value.arrayValue,n)}}class Qx extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wu(this.value.arrayValue,n)}}class Xx extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>wu(this.value.arrayValue,s)))}}class Wx{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function NT(i,e=null,n=[],s=[],o=null,u=null,h=null){return new Wx(i,e,n,s,o,u,h)}function gg(i){const e=we(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Ap(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),_f(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Po(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Po(s))).join(",")),e.Te=n}return e.Te}function yg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!qx(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!lS(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!IT(i.startAt,e.startAt)&&IT(i.endAt,e.endAt)}function Rp(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Ef{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Jx(i,e,n,s,o,u,h,m){return new Ef(i,e,n,s,o,u,h,m)}function _g(i){return new Ef(i)}function xT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Zx(i){return i.collectionGroup!==null}function cu(i){const e=we(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Lt(Qt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Qh(u,s))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new Qh(Qt.keyField(),s))}return e.Ie}function Hi(i){const e=we(i);return e.Ee||(e.Ee=eD(e,cu(i))),e.Ee}function eD(i,e){if(i.limitType==="F")return NT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Qh(o.field,u)}));const n=i.endAt?new Yh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Yh(i.startAt.position,i.startAt.inclusive):null;return NT(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Cp(i,e,n){return new Ef(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Tf(i,e){return yg(Hi(i),Hi(e))&&i.limitType===e.limitType}function hS(i){return`${gg(Hi(i))}|lt:${i.limitType}`}function bo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>uS(o))).join(", ")}]`),_f(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Po(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Po(o))).join(",")),`Target(${s})`})(Hi(i))}; limitType=${i.limitType})`}function bf(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of cu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=CT(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,cu(s),o)||s.endAt&&!(function(h,m,p){const g=CT(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,cu(s),o))})(i,e)}function tD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function fS(i){return(e,n)=>{let s=!1;for(const o of cu(i)){const u=nD(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function nD(i,e,n){const s=i.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?ko(p,g):Ee(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}class Ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ra(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Xb(this.inner)}size(){return this.innerSize}}const iD=new ht(ye.comparator);function Rr(){return iD}const dS=new ht(ye.comparator);function iu(...i){let e=dS;for(const n of i)e=e.insert(n.key,n);return e}function mS(i){let e=dS;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function fa(){return hu()}function pS(){return hu()}function hu(){return new Ca((i=>i.toString()),((i,e)=>i.isEqual(e)))}const rD=new ht(ye.comparator),sD=new Lt(ye.comparator);function Pe(...i){let e=sD;for(const n of i)e=e.add(n);return e}const aD=new Lt(ke);function oD(){return aD}function vg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(e)?"-0":e}}function gS(i){return{integerValue:""+i}}function lD(i,e){return kx(e)?gS(e):vg(i,e)}class Sf{constructor(){this._=void 0}}function uD(i,e,n){return i instanceof Xh?(function(o,u){const h={fields:{[Zb]:{stringValue:Jb},[tS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&mg(u)&&(u=vf(u)),u&&(h.fields[eS]=u),{mapValue:h}})(n,e):i instanceof Au?_S(i,e):i instanceof Ru?vS(i,e):(function(o,u){const h=yS(o,u),m=DT(h)+DT(o.Ae);return wp(h)&&wp(o.Ae)?gS(m):vg(o.serializer,m)})(i,e)}function cD(i,e,n){return i instanceof Au?_S(i,e):i instanceof Ru?vS(i,e):n}function yS(i,e){return i instanceof Wh?(function(s){return wp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Xh extends Sf{}class Au extends Sf{constructor(e){super(),this.elements=e}}function _S(i,e){const n=ES(e);for(const s of i.elements)n.some((o=>Qi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Ru extends Sf{constructor(e){super(),this.elements=e}}function vS(i,e){let n=ES(e);for(const s of i.elements)n=n.filter((o=>!Qi(o,s)));return{arrayValue:{values:n}}}class Wh extends Sf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function DT(i){return Et(i.integerValue||i.doubleValue)}function ES(i){return pg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function hD(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Au&&o instanceof Au||s instanceof Ru&&o instanceof Ru?Oo(s.elements,o.elements,Qi):s instanceof Wh&&o instanceof Wh?Qi(s.Ae,o.Ae):s instanceof Xh&&o instanceof Xh})(i.transform,e.transform)}class fD{constructor(e,n){this.version=e,this.transformResults=n}}class Gi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gi}static exists(e){return new Gi(void 0,e)}static updateTime(e){return new Gi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class wf{}function TS(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new SS(i.key,Gi.none()):new Pu(i.key,i.data,Gi.none());{const n=i.data,s=Kn.empty();let o=new Lt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Ia(i.key,s,new fi(o.toArray()),Gi.none())}}function dD(i,e,n){i instanceof Pu?(function(o,u,h){const m=o.value.clone(),p=MT(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Ia?(function(o,u,h){if(!Mh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=MT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(bS(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function fu(i,e,n,s){return i instanceof Pu?(function(u,h,m,p){if(!Mh(u.precondition,h))return m;const g=u.value.clone(),T=kT(u.fieldTransforms,p,h);return g.setAll(T),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof Ia?(function(u,h,m,p){if(!Mh(u.precondition,h))return m;const g=kT(u.fieldTransforms,p,h),T=h.data;return T.setAll(bS(u)),T.setAll(g),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(i,e,n,s):(function(u,h,m){return Mh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function mD(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=yS(s.transform,o||null);u!=null&&(n===null&&(n=Kn.empty()),n.set(s.field,u))}return n||null}function OT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Oo(s,o,((u,h)=>hD(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Pu extends wf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ia extends wf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function bS(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function MT(i,e,n){const s=new Map;$e(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,cD(h,m,n[o]))}return s}function kT(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,uD(u,h,e))}return s}class SS extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pD extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&dD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=fu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=fu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=pS();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=TS(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&Oo(this.mutations,e.mutations,((n,s)=>OT(n,s)))&&Oo(this.baseMutations,e.baseMutations,((n,s)=>OT(n,s)))}}class Eg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){$e(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return rD})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Eg(e,n,s,o)}}class yD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class _D{constructor(e,n){this.count=e,this.unchangedNames=n}}var xt,je;function vD(i){switch(i){case ie.OK:return Ee(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function wS(i){if(i===void 0)return Ar("GRPC error has no .code"),ie.UNKNOWN;switch(i){case xt.OK:return ie.OK;case xt.CANCELLED:return ie.CANCELLED;case xt.UNKNOWN:return ie.UNKNOWN;case xt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case xt.INTERNAL:return ie.INTERNAL;case xt.UNAVAILABLE:return ie.UNAVAILABLE;case xt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case xt.NOT_FOUND:return ie.NOT_FOUND;case xt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case xt.ABORTED:return ie.ABORTED;case xt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case xt.DATA_LOSS:return ie.DATA_LOSS;default:return Ee(39323,{code:i})}}(je=xt||(xt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";function ED(){return new TextEncoder}const TD=new ys([4294967295,4294967295],0);function PT(i){const e=ED().encode(i),n=new jb;return n.update(e),new Uint8Array(n.digest())}function VT(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ys([n,s],0),new ys([o,u],0)]}class Tg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ru(`Invalid padding: ${n}`);if(s<0)throw new ru(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ru(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ys.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ys.fromNumber(s)));return o.compare(TD)===1&&(o=new ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=PT(e),[s,o]=VT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Tg(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=PT(e),[s,o]=VT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Af{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Af(be.min(),o,new ht(ke),Rr(),Pe())}}class Vu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Vu(s,n,Pe(),Pe(),Pe())}}class kh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class AS{constructor(e,n){this.targetId=e,this.Ce=n}}class RS{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class LT{constructor(){this.ve=0,this.Fe=UT(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new Vu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=UT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rr(),this.Je=Eh(),this.He=Eh(),this.Ye=new ht(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Rp(u))if(s===0){const h=new ye(u.path);this.et(n,h,tn.newNoDocument(h,be.min()))}else $e(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=As(s).toUint8Array()}catch(p){if(p instanceof Wb)return Do("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Tg(h,o,u)}catch(p){return Do(p instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Rp(m.target)){const p=new ye(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,tn.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Af(e,n,this.Ye,this.je,s);return this.je=Rr(),this.Je=Eh(),this.He=Eh(),this.Ye=new ht(ke),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new LT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Lt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Lt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new LT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Eh(){return new ht(ye.comparator)}function UT(){return new ht(ye.comparator)}const SD={asc:"ASCENDING",desc:"DESCENDING"},wD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AD={and:"AND",or:"OR"};class RD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ip(i,e){return i.useProto3Json||_f(e)?e:{value:e}}function Jh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CS(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function CD(i,e){return Jh(i,e.toTimestamp())}function $i(i){return $e(!!i,49232),be.fromTimestamp((function(n){const s=ws(n);return new st(s.seconds,s.nanos)})(i))}function bg(i,e){return Np(i,e).canonicalString()}function Np(i,e){const n=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function IS(i){const e=rt.fromString(i);return $e(MS(e),10190,{key:e.toString()}),e}function xp(i,e){return bg(i.databaseId,e.path)}function Wm(i,e){const n=IS(e);if(n.get(1)!==i.databaseId.projectId)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(xS(n))}function NS(i,e){return bg(i.databaseId,e)}function ID(i){const e=IS(i);return e.length===4?rt.emptyPath():xS(e)}function Dp(i){return new rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function xS(i){return $e(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function jT(i,e,n){return{name:xp(i,e),fields:n.value.mapValue.fields}}function ND(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,T){return g.useProto3Json?($e(T===void 0||typeof T=="string",58123),Xt.fromBase64String(T||"")):($e(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Xt.fromUint8Array(T||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const T=g.code===void 0?ie.UNKNOWN:wS(g.code);return new me(T,g.message||"")})(h);n=new RS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Wm(i,s.document.name),u=$i(s.document.updateTime),h=s.document.createTime?$i(s.document.createTime):be.min(),m=new Kn({mapValue:{fields:s.document.fields}}),p=tn.newFoundDocument(o,u,h,m),g=s.targetIds||[],T=s.removedTargetIds||[];n=new kh(g,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Wm(i,s.document),u=s.readTime?$i(s.readTime):be.min(),h=tn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new kh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Wm(i,s.document),u=s.removedTargetIds||[];n=new kh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new _D(o,u),m=s.targetId;n=new AS(m,h)}}return n}function xD(i,e){let n;if(e instanceof Pu)n={update:jT(i,e.key,e.value)};else if(e instanceof SS)n={delete:xp(i,e.key)};else if(e instanceof Ia)n={update:jT(i,e.key,e.data),updateMask:jD(e.fieldMask)};else{if(!(e instanceof pD))return Ee(16599,{Vt:e.type});n={verify:xp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Xh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Au)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ru)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Wh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:CD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(i,e.precondition)),n}function DD(i,e){return i&&i.length>0?($e(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?$i(o.updateTime):$i(u);return h.isEqual(be.min())&&(h=$i(u)),new fD(h,o.transformResults||[])})(n,e)))):[]}function OD(i,e){return{documents:[NS(i,e.path)]}}function MD(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=NS(i,o);const u=(function(g){if(g.length!==0)return OS(Xi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((T=>(function(A){return{field:So(A.field),direction:VD(A.dir)}})(T)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Ip(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function kD(i){let e=ID(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$e(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(b){const A=DS(b);return A instanceof Xi&&oS(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(b){return b.map((A=>(function(z){return new Qh(wo(z.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let A;return A=typeof b=="object"?b.value:b,_f(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(b){const A=!!b.before,O=b.values||[];return new Yh(O,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const A=!b.before,O=b.values||[];return new Yh(O,A)})(n.endAt)),Jx(e,o,h,u,m,"F",p,g)}function PD(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DS(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=wo(n.unaryFilter.field);return Pt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=wo(n.unaryFilter.field);return Pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=wo(n.unaryFilter.field);return Pt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=wo(n.unaryFilter.field);return Pt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Pt.create(wo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Xi.create(n.compositeFilter.filters.map((s=>DS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(i):Ee(30097,{filter:i})}function VD(i){return SD[i]}function LD(i){return wD[i]}function UD(i){return AD[i]}function So(i){return{fieldPath:i.canonicalString()}}function wo(i){return Qt.fromServerFormat(i.fieldPath)}function OS(i){return i instanceof Pt?(function(n){if(n.op==="=="){if(RT(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NAN"}};if(AT(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(RT(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NAN"}};if(AT(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(n.field),op:LD(n.op),value:n.value}}})(i):i instanceof Xi?(function(n){const s=n.getFilters().map((o=>OS(o)));return s.length===1?s[0]:{compositeFilter:{op:UD(n.op),filters:s}}})(i):Ee(54877,{filter:i})}function jD(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function MS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class ms{constructor(e,n,s,o,u=be.min(),h=be.min(),m=Xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class zD{constructor(e){this.yt=e}}function BD(i){const e=kD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Cp(e,e.limit,"L"):e}class qD{constructor(){this.Cn=new FD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Ss.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Ss.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class FD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Lt(rt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Lt(rt.comparator)).toArray()}}const zT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kS=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(kS,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class Vo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Vo(0)}static cr(){return new Vo(-1)}}const BT="LruGarbageCollector",HD=1048576;function qT([i,e],[n,s]){const o=ke(i,n);return o===0?ke(e,s):o}class GD{constructor(e){this.Ir=e,this.buffer=new Lt(qT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();qT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $D{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(BT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ho(n)?ce(BT,"Ignoring IndexedDB error during garbage collection: ",n):await Fo(n)}await this.Vr(3e5)}))}}class KD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(yf.ce);const s=new GD(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(zT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),To()<=Me.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function YD(i,e){return new KD(i,e)}class QD{constructor(){this.changes=new Ca((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class XD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class WD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&fu(s.mutation,o,fi.empty(),st.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=fa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=iu();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=fa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=Rr();const h=hu(),m=(function(){return hu()})();return n.forEach(((p,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof Ia)?u=u.insert(g.key,g):T!==void 0?(h.set(g.key,T.mutation.getFieldMask()),fu(T.mutation,g,T.mutation.getFieldMask(),st.now())):h.set(g.key,fi.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,T)=>h.set(g,T))),n.forEach(((g,T)=>m.set(g,new XD(T,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=hu();let o=new ht(((h,m)=>h-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let T=s.get(p)||fi.empty();T=m.applyToLocalView(g,T),s.set(p,T);const b=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,T=p.value,b=pS();T.forEach((A=>{if(!u.has(A)){const O=TS(n.get(A),s.get(A));O!==null&&b.set(A,O),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ne.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Zx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(fa());let m=Tu,p=u;return h.next((g=>ne.forEach(g,((T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?ne.resolve():this.remoteDocumentCache.getEntry(e,T).next((A=>{p=p.insert(T,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Pe()))).next((T=>({batchId:m,changes:mS(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=iu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=iu();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const g=(function(b,A){return new Ef(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((T=>{T.forEach(((b,A)=>{h=h.insert(b,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const T=g.getKey();h.get(T)===null&&(h=h.insert(T,tn.newInvalidDocument(T)))}));let m=iu();return h.forEach(((p,g)=>{const T=u.get(p);T!==void 0&&fu(T.mutation,g,fi.empty(),st.now()),bf(n,g)&&(m=m.insert(p,g))})),m}))}}class JD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:$i(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:BD(o.bundledQuery),readTime:$i(o.readTime)}})(n)),ne.resolve()}}class ZD{constructor(){this.overlays=new ht(ye.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=fa();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=fa(),u=n.length+1,h=new ye(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht(((g,T)=>g-T));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let T=u.get(g.largestBatchId);T===null&&(T=fa(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=fa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,T)=>m.set(g,T))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new yD(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class eO{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class Sg{constructor(){this.Qr=new Lt(Bt.$r),this.Ur=new Lt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Bt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new rt([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new rt([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Bt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class tO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Lt(Bt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new gD(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?dg:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Lt(ke);return n.forEach((o=>{const u=new Bt(o,0),h=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new Bt(new ye(u),0);let m=new Lt(ke);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){$e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Bt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class nO{constructor(e){this.ri=e,this.docs=(function(){return new ht(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let s=Rr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Rr();const h=n.path,m=new ye(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||xx(Nx(T),s)<=0||(o.has(T.key)||bf(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new iO(this)}getSize(e){return ne.resolve(this.size)}}class iO extends QD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class rO{constructor(e){this.persistence=e,this.si=new Ca((n=>gg(n)),yg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new Sg,this.targetCount=0,this.ai=Vo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Vo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}class PS{constructor(e,n){this.ui={},this.overlays={},this.ci=new yf(0),this.li=!1,this.li=!0,this.hi=new eO,this.referenceDelegate=e(this),this.Pi=new rO(this),this.indexManager=new qD,this.remoteDocumentCache=(function(o){return new nO(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new zD(n),this.Ii=new JD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ZD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new tO(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new sO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class sO extends Ox{constructor(e){super(),this.currentSequenceNumber=e}}class wg{constructor(e){this.persistence=e,this.Ri=new Sg,this.Vi=null}static mi(e){return new wg(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Zh{constructor(e,n){this.persistence=e,this.pi=new Ca((s=>Px(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=YD(this,n)}static mi(e,n){return new Zh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dh(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ag{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ag(e,n.fromCache,s,o)}}class aO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class oO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return MC()?8:Mx(sn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new aO;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(To()<=Me.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",bo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(To()<=Me.DEBUG&&ce("QueryEngine","Query:",bo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(To()<=Me.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",bo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hi(n))):ne.resolve())}ys(e,n){if(xT(n))return ne.resolve(null);let s=Hi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Cp(n,null,"F"),s=Hi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Pe(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,Cp(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return xT(n)||o.isEqual(be.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ne.resolve(null):(To()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),bo(n)),this.vs(e,h,n,Ix(o,Tu)).next((m=>m)))}))}Ds(e,n){let s=new Lt(fS(e));return n.forEach(((o,u)=>{bf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return To()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",bo(n)),this.ps.getDocumentsMatchingQuery(e,n,Ss.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const Rg="LocalStore",lO=3e8;class uO{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ht(ke),this.xs=new Ca((u=>gg(u)),yg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function cO(i,e,n,s){return new uO(i,e,n,s)}async function VS(i,e){const n=we(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Pe();for(const g of o){h.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function hO(i,e){const n=we(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,T){const b=g.batch,A=b.keys();let O=ne.resolve();return A.forEach((z=>{O=O.next((()=>T.getEntry(p,z))).next((P=>{const L=g.docVersions.get(z);$e(L!==null,48541),P.version.compareTo(L)<0&&(b.applyToRemoteDocument(P,g),P.isValidDocument()&&(P.setReadTime(g.commitVersion),T.addEntry(P)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function LS(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function fO(i,e){const n=we(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((T,b)=>{const A=o.get(b);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,b))));let O=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?O=O.withResumeToken(Xt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):T.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(T.resumeToken,s)),o=o.insert(b,O),(function(P,L,U){return P.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=lO?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(A,O,T)&&m.push(n.Pi.updateTargetData(u,O))}));let p=Rr(),g=Pe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(dO(u,h,e.documentUpdates).next((T=>{p=T.ks,g=T.qs}))),!s.isEqual(be.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(T)}return ne.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function dO(i,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=Rr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ce(Rg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function mO(i,e){const n=we(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=dg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function pO(i,e){const n=we(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new ms(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Op(i,e,n){const s=we(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Ho(h))throw h;ce(Rg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function FT(i,e,n){const s=we(i);let o=be.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,T){const b=we(p),A=b.xs.get(T);return A!==void 0?ne.resolve(b.Ms.get(A)):b.Pi.getTargetData(g,T)})(s,h,Hi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:be.min(),n?u:Pe()))).next((m=>(gO(s,tD(e),m),{documents:m,Qs:u})))))}function gO(i,e,n){let s=i.Os.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class HT{constructor(){this.activeTargetIds=oD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yO{constructor(){this.Mo=new HT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new HT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _O{Oo(e){}shutdown(){}}const GT="ConnectivityMonitor";class $T{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(GT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(GT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Th=null;function Mp(){return Th===null?Th=(function(){return 268435456+Math.round(2147483648*Math.random())})():Th++,"0x"+Th.toString(16)}const Jm="RestConnection",vO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===$h?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=Mp(),m=this.zo(e,n.toUriEncodedString());ce(Jm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),T=Ns(g);return this.Jo(e,m,p,s,T).then((b=>(ce(Jm,`Received RPC '${e}' ${h}: `,b),b)),(b=>{throw Do(Jm,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",s),b}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+qo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=vO[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class TO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Jt="WebChannelConnection";class bO extends EO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=Mp();return new Promise(((m,p)=>{const g=new zb;g.setWithCredentials(!0),g.listenOnce(Bb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case xh.NO_ERROR:const b=g.getResponseJson();ce(Jt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case xh.TIMEOUT:ce(Jt,`RPC '${e}' ${h} timed out`),p(new me(ie.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const A=g.getStatus();if(ce(Jt,`RPC '${e}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const z=O?.error;if(z&&z.status&&z.message){const P=(function(U){const K=U.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(K)>=0?K:ie.UNKNOWN})(z.status);p(new me(P,z.message))}else p(new me(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new me(ie.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(Jt,`RPC '${e}' ${h} completed.`)}}));const T=JSON.stringify(o);ce(Jt,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",T,s,15)}))}T_(e,n,s){const o=Mp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Hb(),m=Fb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");ce(Jt,`Creating RPC '${e}' stream ${o}: ${T}`,p);const b=h.createWebChannel(T,p);this.I_(b);let A=!1,O=!1;const z=new TO({Yo:L=>{O?ce(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(A||(ce(Jt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),A=!0),ce(Jt,`RPC '${e}' stream ${o} sending:`,L),b.send(L))},Zo:()=>b.close()}),P=(L,U,K)=>{L.listen(U,(J=>{try{K(J)}catch(ue){setTimeout((()=>{throw ue}),0)}}))};return P(b,nu.EventType.OPEN,(()=>{O||(ce(Jt,`RPC '${e}' stream ${o} transport opened.`),z.o_())})),P(b,nu.EventType.CLOSE,(()=>{O||(O=!0,ce(Jt,`RPC '${e}' stream ${o} transport closed`),z.a_(),this.E_(b))})),P(b,nu.EventType.ERROR,(L=>{O||(O=!0,Do(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),z.a_(new me(ie.UNAVAILABLE,"The operation could not be completed")))})),P(b,nu.EventType.MESSAGE,(L=>{if(!O){const U=L.data[0];$e(!!U,16349);const K=U,J=K?.error||K[0]?.error;if(J){ce(Jt,`RPC '${e}' stream ${o} received error:`,J);const ue=J.status;let se=(function(R){const C=xt[R];if(C!==void 0)return wS(C)})(ue),re=J.message;se===void 0&&(se=ie.INTERNAL,re="Unknown error status: "+ue+" with message "+J.message),O=!0,z.a_(new me(se,re)),b.close()}else ce(Jt,`RPC '${e}' stream ${o} received:`,U),z.u_(U)}})),P(m,qb.STAT_EVENT,(L=>{L.stat===Tp.PROXY?ce(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Tp.NOPROXY&&ce(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Zm(){return typeof document<"u"?document:null}function Rf(i){return new RD(i,!0)}class US{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const KT="PersistentStream";class jS{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new US(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Ar(n.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new me(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(KT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(KT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class SO extends jS{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ND(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?$i(h.readTime):be.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Dp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=Rp(p)?{documents:OD(u,p)}:{query:MD(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=CS(u,h.resumeToken);const g=Ip(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(be.min())>0){m.readTime=Jh(u,h.snapshotVersion.toTimestamp());const g=Ip(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=PD(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Dp(this.serializer),n.removeTarget=e,this.q_(n)}}class wO extends jS{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=DD(e.writeResults,e.commitTime),s=$i(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Dp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>xD(this.serializer,s)))};this.q_(n)}}class AO{}class RO extends AO{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Np(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ie.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,Np(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new me(ie.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class CO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ar(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ea="RemoteStore";class IO{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Na(this)&&(ce(Ea,"Restarting streams for network reachability change."),await(async function(p){const g=we(p);g.Ea.add(4),await Lu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Cf(g)})(this))}))})),this.Ra=new CO(s,o)}}async function Cf(i){if(Na(i))for(const e of i.da)await e(!0)}async function Lu(i){for(const e of i.da)await e(!1)}function zS(i,e){const n=we(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),xg(n)?Ng(n):Go(n).O_()&&Ig(n,e))}function Cg(i,e){const n=we(i),s=Go(n);n.Ia.delete(e),s.O_()&&BS(n,e),n.Ia.size===0&&(s.O_()?s.L_():Na(n)&&n.Ra.set("Unknown"))}function Ig(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Go(i).Y_(e)}function BS(i,e){i.Va.Ue(e),Go(i).Z_(e)}function Ng(i){i.Va=new bD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Go(i).start(),i.Ra.ua()}function xg(i){return Na(i)&&!Go(i).x_()&&i.Ia.size>0}function Na(i){return we(i).Ea.size===0}function qS(i){i.Va=void 0}async function NO(i){i.Ra.set("Online")}async function xO(i){i.Ia.forEach(((e,n)=>{Ig(i,e)}))}async function DO(i,e){qS(i),xg(i)?(i.Ra.ha(e),Ng(i)):i.Ra.set("Unknown")}async function OO(i,e,n){if(i.Ra.set("Online"),e instanceof RS&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){ce(Ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ef(i,s)}else if(e instanceof kh?i.Va.Ze(e):e instanceof AS?i.Va.st(e):i.Va.tt(e),!n.isEqual(be.min()))try{const s=await LS(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ia.get(g);T&&u.Ia.set(g,T.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const T=u.Ia.get(p);if(!T)return;u.Ia.set(p,T.withResumeToken(Xt.EMPTY_BYTE_STRING,T.snapshotVersion)),BS(u,p);const b=new ms(T.target,p,g,T.sequenceNumber);Ig(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ce(Ea,"Failed to raise snapshot:",s),await ef(i,s)}}async function ef(i,e,n){if(!Ho(e))throw e;i.Ea.add(1),await Lu(i),i.Ra.set("Offline"),n||(n=()=>LS(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ce(Ea,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Cf(i)}))}function FS(i,e){return e().catch((n=>ef(i,n,e)))}async function If(i){const e=we(i),n=Cs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:dg;for(;MO(e);)try{const o=await mO(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,kO(e,o)}catch(o){await ef(e,o)}HS(e)&&GS(e)}function MO(i){return Na(i)&&i.Ta.length<10}function kO(i,e){i.Ta.push(e);const n=Cs(i);n.O_()&&n.X_&&n.ea(e.mutations)}function HS(i){return Na(i)&&!Cs(i).x_()&&i.Ta.length>0}function GS(i){Cs(i).start()}async function PO(i){Cs(i).ra()}async function VO(i){const e=Cs(i);for(const n of i.Ta)e.ea(n.mutations)}async function LO(i,e,n){const s=i.Ta.shift(),o=Eg.from(s,e,n);await FS(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await If(i)}async function UO(i,e){e&&Cs(i).X_&&await(async function(s,o){if((function(h){return vD(h)&&h!==ie.ABORTED})(o.code)){const u=s.Ta.shift();Cs(s).B_(),await FS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await If(s)}})(i,e),HS(i)&&GS(i)}async function YT(i,e){const n=we(i);n.asyncQueue.verifyOperationInProgress(),ce(Ea,"RemoteStore received new credentials");const s=Na(n);n.Ea.add(3),await Lu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Cf(n)}async function jO(i,e){const n=we(i);e?(n.Ea.delete(2),await Cf(n)):e||(n.Ea.add(2),await Lu(n),n.Ra.set("Unknown"))}function Go(i){return i.ma||(i.ma=(function(n,s,o){const u=we(n);return u.sa(),new SO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:NO.bind(null,i),t_:xO.bind(null,i),r_:DO.bind(null,i),H_:OO.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),xg(i)?Ng(i):i.Ra.set("Unknown")):(await i.ma.stop(),qS(i))}))),i.ma}function Cs(i){return i.fa||(i.fa=(function(n,s,o){const u=we(n);return u.sa(),new wO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:PO.bind(null,i),r_:UO.bind(null,i),ta:VO.bind(null,i),na:LO.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await If(i)):(await i.fa.stop(),i.Ta.length>0&&(ce(Ea,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Dg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new _s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Dg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Og(i,e){if(Ar("AsyncQueue",`${e}: ${i}`),Ho(i))return new me(ie.UNAVAILABLE,`${e}: ${i}`);throw i}class Io{static emptySet(e){return new Io(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=iu(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Io;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class QT{constructor(){this.ga=new ht(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Lo{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Lo(e,n,Io.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class zO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class BO{constructor(){this.queries=XT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=XT(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new me(ie.ABORTED,"Firestore shutting down"))}}function XT(){return new Ca((i=>hS(i)),Tf)}async function qO(i,e){const n=we(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new zO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Og(h,`Initialization of query '${bo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Mg(n)}async function FO(i,e){const n=we(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function HO(i,e){const n=we(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&Mg(n)}function GO(i,e,n){const s=we(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Mg(i){i.Ca.forEach((e=>{e.next()}))}var kp,WT;(WT=kp||(kp={})).Ma="default",WT.Cache="cache";class $O{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Lo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==kp.Cache}}class $S{constructor(e){this.key=e}}class KS{constructor(e){this.key=e}}class KO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=fS(e),this.tu=new Io(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new QT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,b)=>{const A=o.get(T),O=bf(this.query,b)?b:null,z=!!A&&this.mutatedKeys.has(A.key),P=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let L=!1;A&&O?A.data.isEqual(O.data)?z!==P&&(s.track({type:3,doc:O}),L=!0):this.su(A,O)||(s.track({type:2,doc:O}),L=!0,(p&&this.eu(O,p)>0||g&&this.eu(O,g)<0)&&(m=!0)):!A&&O?(s.track({type:0,doc:O}),L=!0):A&&!O&&(s.track({type:1,doc:A}),L=!0,(p||g)&&(m=!0)),L&&(O?(h=h.add(O),u=P?u.add(T):u.delete(T)):(h=h.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((T,b)=>(function(O,z){const P=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:L})}};return P(O)-P(z)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new Lo(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new QT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new KS(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new $S(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const kg="SyncEngine";class YO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class QO{constructor(e){this.key=e,this.hu=!1}}class XO{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ca((m=>hS(m)),Tf),this.Iu=new Map,this.Eu=new Set,this.du=new ht(ye.comparator),this.Au=new Map,this.Ru=new Sg,this.Vu={},this.mu=new Map,this.fu=Vo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function WO(i,e,n=!0){const s=ZS(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await YS(s,e,n,!0),o}async function JO(i,e){const n=ZS(i);await YS(n,e,!0,!1)}async function YS(i,e,n,s){const o=await pO(i.localStore,Hi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await ZO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&zS(i.remoteStore,o),m}async function ZO(i,e,n,s,o){i.pu=(b,A,O)=>(async function(P,L,U,K){let J=L.view.ru(U);J.Cs&&(J=await FT(P.localStore,L.query,!1).then((({documents:I})=>L.view.ru(I,J))));const ue=K&&K.targetChanges.get(L.targetId),se=K&&K.targetMismatches.get(L.targetId)!=null,re=L.view.applyChanges(J,P.isPrimaryClient,ue,se);return ZT(P,L.targetId,re.au),re.snapshot})(i,b,A,O);const u=await FT(i.localStore,e,!0),h=new KO(e,u.Qs),m=h.ru(u.documents),p=Vu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);ZT(i,n,g.au);const T=new YO(e,n,h);return i.Tu.set(e,T),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function eM(i,e,n){const s=we(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!Tf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Op(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Cg(s.remoteStore,o.targetId),Pp(s,o.targetId)})).catch(Fo)):(Pp(s,o.targetId),await Op(s.localStore,o.targetId,!0))}async function tM(i,e){const n=we(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Cg(n.remoteStore,s.targetId))}async function nM(i,e,n){const s=uM(i);try{const o=await(function(h,m){const p=we(h),g=st.now(),T=m.reduce(((O,z)=>O.add(z.key)),Pe());let b,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let z=Rr(),P=Pe();return p.Ns.getEntries(O,T).next((L=>{z=L,z.forEach(((U,K)=>{K.isValidDocument()||(P=P.add(U))}))})).next((()=>p.localDocuments.getOverlayedDocuments(O,z))).next((L=>{b=L;const U=[];for(const K of m){const J=mD(K,b.get(K.key).overlayedDocument);J!=null&&U.push(new Ia(K.key,J,rS(J.value.mapValue),Gi.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,U,m)})).next((L=>{A=L;const U=L.applyToLocalDocumentSet(b,P);return p.documentOverlayCache.saveOverlays(O,L.batchId,U)}))})).then((()=>({batchId:A.batchId,changes:mS(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ht(ke)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Uu(s,o.changes),await If(s.remoteStore)}catch(o){const u=Og(o,"Failed to persist write");n.reject(u)}}async function QS(i,e){const n=we(i);try{const s=await fO(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?$e(h.hu,14607):o.removedDocuments.size>0&&($e(h.hu,42227),h.hu=!1))})),await Uu(n,s,e)}catch(s){await Fo(s)}}function JT(i,e,n){const s=we(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=we(h);p.onlineState=m;let g=!1;p.queries.forEach(((T,b)=>{for(const A of b.Sa)A.va(m)&&(g=!0)})),g&&Mg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function iM(i,e,n){const s=we(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ht(ye.comparator);h=h.insert(u,tn.newNoDocument(u,be.min()));const m=Pe().add(u),p=new Af(be.min(),new Map,new ht(ke),h,m);await QS(s,p),s.du=s.du.remove(u),s.Au.delete(e),Pg(s)}else await Op(s.localStore,e,!1).then((()=>Pp(s,e,n))).catch(Fo)}async function rM(i,e){const n=we(i),s=e.batch.batchId;try{const o=await hO(n.localStore,e);WS(n,s,null),XS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Uu(n,o)}catch(o){await Fo(o)}}async function sM(i,e,n){const s=we(i);try{const o=await(function(h,m){const p=we(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let T;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>($e(b!==null,37113),T=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T))).next((()=>p.localDocuments.getDocuments(g,T)))}))})(s.localStore,e);WS(s,e,n),XS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Uu(s,o)}catch(o){await Fo(o)}}function XS(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function WS(i,e,n){const s=we(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Pp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||JS(i,s)}))}function JS(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Cg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Pg(i))}function ZT(i,e,n){for(const s of n)s instanceof $S?(i.Ru.addReference(s.key,e),aM(i,s)):s instanceof KS?(ce(kg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||JS(i,s.key)):Ee(19791,{wu:s})}function aM(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ce(kg,"New document in limbo: "+n),i.Eu.add(s),Pg(i))}function Pg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ye(rt.fromString(e)),s=i.fu.next();i.Au.set(s,new QO(n)),i.du=i.du.insert(n,s),zS(i.remoteStore,new ms(Hi(_g(n.path)),s,"TargetPurposeLimboResolution",yf.ce))}}async function Uu(i,e,n){const s=we(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Ag.As(p.targetId,g);u.push(T)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const T=we(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ne.forEach(g,(A=>ne.forEach(A.Es,(O=>T.persistence.referenceDelegate.addReference(b,A.targetId,O))).next((()=>ne.forEach(A.ds,(O=>T.persistence.referenceDelegate.removeReference(b,A.targetId,O)))))))))}catch(b){if(!Ho(b))throw b;ce(Rg,"Failed to update sequence numbers: "+b)}for(const b of g){const A=b.targetId;if(!b.fromCache){const O=T.Ms.get(A),z=O.snapshotVersion,P=O.withLastLimboFreeSnapshotVersion(z);T.Ms=T.Ms.insert(A,P)}}})(s.localStore,u))}async function oM(i,e){const n=we(i);if(!n.currentUser.isEqual(e)){ce(kg,"User change. New user:",e.toKey());const s=await VS(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new me(ie.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Uu(n,s.Ls)}}function lM(i,e){const n=we(i),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function ZS(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=QS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iM.bind(null,e),e.Pu.H_=HO.bind(null,e.eventManager),e.Pu.yu=GO.bind(null,e.eventManager),e}function uM(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sM.bind(null,e),e}class tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return cO(this.persistence,new oO,e.initialUser,this.serializer)}Cu(e){return new PS(wg.mi,this.serializer)}Du(e){return new yO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tf.provider={build:()=>new tf};class cM extends tf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$e(this.persistence.referenceDelegate instanceof Zh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new $D(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new PS((s=>Zh.mi(s,n)),this.serializer)}}class Vp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>JT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=oM.bind(null,this.syncEngine),await jO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new BO})()}createDatastore(e){const n=Rf(e.databaseInfo.databaseId),s=(function(u){return new bO(u)})(e.databaseInfo);return(function(u,h,m,p){return new RO(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new IO(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>JT(this.syncEngine,n,0)),(function(){return $T.v()?new $T:new _O})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,T){const b=new XO(o,u,h,m,p,g);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);ce(Ea,"RemoteStore shutting down."),s.Ea.add(5),await Lu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Vp.provider={build:()=>new Vp};class hM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Is="FirestoreClient";class fM{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=hg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ce(Is,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ce(Is,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Og(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function ep(i,e){i.asyncQueue.verifyOperationInProgress(),ce(Is,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await VS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function e0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await dM(i);ce(Is,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>YT(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>YT(e.remoteStore,o))),i._onlineComponents=e}async function dM(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(Is,"Using user provided OfflineComponentProvider");try{await ep(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Do("Error using user provided cache. Falling back to memory cache: "+n),await ep(i,new tf)}}else ce(Is,"Using default OfflineComponentProvider"),await ep(i,new cM(void 0));return i._offlineComponents}async function ew(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(Is,"Using user provided OnlineComponentProvider"),await e0(i,i._uninitializedComponentsProvider._online)):(ce(Is,"Using default OnlineComponentProvider"),await e0(i,new Vp))),i._onlineComponents}function mM(i){return ew(i).then((e=>e.syncEngine))}async function pM(i){const e=await ew(i),n=e.eventManager;return n.onListen=WO.bind(null,e.syncEngine),n.onUnlisten=eM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tM.bind(null,e.syncEngine),n}function gM(i,e,n={}){const s=new _s;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const T=new hM({next:A=>{T.Nu(),h.enqueueAndForget((()=>FO(u,b)));const O=A.docs.has(m);!O&&A.fromCache?g.reject(new me(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&A.fromCache&&p&&p.source==="server"?g.reject(new me(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),b=new $O(_g(m.path),T,{includeMetadataChanges:!0,qa:!0});return qO(u,b)})(await pM(i),i.asyncQueue,e,n,s))),s.promise}function tw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const t0=new Map;const nw="firestore.googleapis.com",n0=!0;class i0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nw,this.ssl=n0}else this.host=e.host,this.ssl=e.ssl??n0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HD)throw new me(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Cx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tw(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new yx;switch(s.type){case"firstParty":return new Tx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=t0.get(n);s&&(ce("ComponentProvider","Removing Datastore"),t0.delete(n),s.terminate())})(this),Promise.resolve()}}function yM(i,e,n,s={}){i=Mo(i,Nf);const o=Ns(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(Yp(`https://${m}`),Qp("Firestore",!0)),u.host!==nw&&u.host!==m&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!bs(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,T;if(typeof s.mockUserToken=="string")g=s.mockUserToken,T=en.MOCK_USER;else{g=W0(s.mockUserToken,i._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new me(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new en(b)}i._authCredentials=new _x(new $b(g,T))}}class Vg{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Vg(this.firestore,e,this._query)}}class Vt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ku(n,Vt._jsonSchema))return new Vt(e,s||null,new ye(rt.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Dt("string",Vt._jsonSchemaVersion),referencePath:Dt("string")};class vs extends Vg{constructor(e,n,s){super(e,n,_g(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new ye(e))}withConverter(e){return new vs(this.firestore,e,this._path)}}function _M(i,e,...n){if(i=ct(i),Kb("collection","path",e),i instanceof Nf){const s=rt.fromString(e,...n);return yT(s),new vs(i,null,s)}{if(!(i instanceof Vt||i instanceof vs))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...n));return yT(s),new vs(i.firestore,null,s)}}function Es(i,e,...n){if(i=ct(i),arguments.length===1&&(e=hg.newId()),Kb("doc","path",e),i instanceof Nf){const s=rt.fromString(e,...n);return gT(s),new Vt(i,null,new ye(s))}{if(!(i instanceof Vt||i instanceof vs))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...n));return gT(s),new Vt(i.firestore,i instanceof vs?i.converter:null,new ye(s))}}const r0="AsyncQueue";class s0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new US(this,"async_queue_retry"),this._c=()=>{const s=Zm();s&&ce(r0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Zm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Zm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new _s;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ho(e))throw e;ce(r0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ar("INTERNAL UNHANDLED ERROR: ",a0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Dg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:a0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function a0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class xf extends Nf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new s0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new s0(e),this._firestoreClient=void 0,await e}}}function vM(i,e){const n=typeof i=="object"?i:df(),s=typeof i=="string"?i:$h,o=xs(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Y0("firestore");u&&yM(o,...u)}return o}function iw(i){if(i._terminated)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||EM(i),i._firestoreClient}function EM(i){const e=i._freezeSettings(),n=(function(o,u,h,m){return new Ux(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,tw(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new fM(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(Xt.fromBase64String(e))}catch(n){throw new me(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ku(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Dt("string",Yn._jsonSchemaVersion),bytes:Dt("string")};class Lg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rw{constructor(e){this._methodName=e}}class Ki{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ki._jsonSchemaVersion}}static fromJSON(e){if(ku(e,Ki._jsonSchema))return new Ki(e.latitude,e.longitude)}}Ki._jsonSchemaVersion="firestore/geoPoint/1.0",Ki._jsonSchema={type:Dt("string",Ki._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class Yi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ku(e,Yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Yi(e.vectorValues);throw new me(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yi._jsonSchemaVersion="firestore/vectorValue/1.0",Yi._jsonSchema={type:Dt("string",Yi._jsonSchemaVersion),vectorValues:Dt("object")};const TM=/^__.*__$/;class bM{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ia(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pu(e,this.data,n,this.fieldTransforms)}}function sw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:i})}}class Ug{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ug({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return nf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(sw(this.Ac)&&TM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class SM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Rf(e)}Cc(e,n,s,o=!1){return new Ug({Ac:e,methodName:n,Dc:s,path:Qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aw(i){const e=i._freezeSettings(),n=Rf(i._databaseId);return new SM(i._databaseId,!!e.ignoreUndefinedProperties,n)}function ow(i,e,n,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);hw("Data must be an object, but it was:",h,s);const m=uw(s,h);let p,g;if(u.merge)p=new fi(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const A=wM(e,b,n);if(!h.contains(A))throw new me(ie.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);RM(T,A)||T.push(A)}p=new fi(T),g=h.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=h.fieldTransforms;return new bM(new Kn(m),p,g)}function lw(i,e){if(cw(i=ct(i)))return hw("Unsupported field value:",e,i),uw(i,e);if(i instanceof rw)return(function(s,o){if(!sw(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=lw(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=ct(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return lD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=st.fromDate(s);return{timestampValue:Jh(o.serializer,u)}}if(s instanceof st){const u=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Jh(o.serializer,u)}}if(s instanceof Ki)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Yn)return{bytesValue:CS(o.serializer,s._byteString)};if(s instanceof Vt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:bg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Yi)return(function(h,m){return{mapValue:{fields:{[nS]:{stringValue:iS},[Kh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return vg(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${fg(s)}`)})(i,e)}function uw(i,e){const n={};return Xb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ra(i,((s,o)=>{const u=lw(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function cw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof st||i instanceof Ki||i instanceof Yn||i instanceof Vt||i instanceof rw||i instanceof Yi)}function hw(i,e,n){if(!cw(n)||!Yb(n)){const s=fg(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function wM(i,e,n){if((e=ct(e))instanceof Lg)return e._internalPath;if(typeof e=="string")return fw(i,e);throw nf("Field path arguments must be of type string or ",i,!1,void 0,n)}const AM=new RegExp("[~\\*/\\[\\]]");function fw(i,e,n){if(e.search(AM)>=0)throw nf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Lg(...e.split("."))._internalPath}catch{throw nf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function nf(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new me(ie.INVALID_ARGUMENT,m+i+p)}function RM(i,e){return i.some((n=>n.isEqual(e)))}class dw{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class CM extends dw{data(){return super.data()}}function mw(i,e){return typeof e=="string"?fw(i,e):e instanceof Lg?e._internalPath:e._delegate._internalPath}class IM{convertValue(e,n="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(As(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ra(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Kh].arrayValue?.values?.map((s=>Et(s.doubleValue)));return new Yi(n)}convertGeoPoint(e){return new Ki(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=vf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(bu(e));default:return null}}convertTimestamp(e){const n=ws(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);$e(MS(s),9688,{name:e});const o=new Su(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||Ar(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function pw(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class su{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ma extends dw{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(mw("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ma._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ma._jsonSchemaVersion="firestore/documentSnapshot/1.0",ma._jsonSchema={type:Dt("string",ma._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Ph extends ma{data(e={}){return super.data(e)}}class du{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new su(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Ph(this._firestore,this._userDataWriter,s.key,s,new su(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new su(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new su(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),T=h.indexOf(m.doc.key)),{type:NM(m.type),doc:p,oldIndex:g,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=du._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function NM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}function gw(i){i=Mo(i,Vt);const e=Mo(i.firestore,xf);return gM(iw(e),i._key).then((n=>OM(e,i,n)))}du._jsonSchemaVersion="firestore/querySnapshot/1.0",du._jsonSchema={type:Dt("string",du._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class xM extends IM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function mu(i,e,n){i=Mo(i,Vt);const s=Mo(i.firestore,xf),o=pw(i.converter,e,n);return yw(s,[ow(aw(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Gi.none())])}function DM(i,e){const n=Mo(i.firestore,xf),s=Es(i),o=pw(i.converter,e);return yw(n,[ow(aw(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Gi.exists(!1))]).then((()=>s))}function yw(i,e){return(function(s,o){const u=new _s;return s.asyncQueue.enqueueAndForget((async()=>nM(await mM(s),o,u))),u.promise})(iw(i),e)}function OM(i,e,n){const s=n.docs.get(e._key),o=new xM(i);return new ma(i,o,e._key,s,new su(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){qo=o})(Aa),pi(new Qn("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new xf(new vx(s.getProvider("auth-internal")),new bx(h,s.getProvider("app-check-internal")),(function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new me(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Su(g.options.projectId,T)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Tn(fT,dT,e),Tn(fT,dT,"esm2020")})();const _w="firebasestorage.googleapis.com",vw="storageBucket",MM=120*1e3,kM=600*1e3;class pt extends Jn{constructor(e,n,s=0){super(tp(e),`Firebase Storage: ${n} (${tp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return tp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mt||(mt={}));function tp(i){return"storage/"+i}function jg(){const i="An unknown error occurred, please check the error payload for server response.";return new pt(mt.UNKNOWN,i)}function PM(i){return new pt(mt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function VM(i){return new pt(mt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function LM(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new pt(mt.UNAUTHENTICATED,i)}function UM(){return new pt(mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function jM(i){return new pt(mt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function zM(){return new pt(mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function BM(){return new pt(mt.CANCELED,"User canceled the upload/download.")}function qM(i){return new pt(mt.INVALID_URL,"Invalid URL '"+i+"'.")}function FM(i){return new pt(mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function HM(){return new pt(mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+vw+"' property when initializing the app?")}function GM(){return new pt(mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $M(){return new pt(mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function KM(i){return new pt(mt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Lp(i){return new pt(mt.INVALID_ARGUMENT,i)}function Ew(){return new pt(mt.APP_DELETED,"The Firebase app was deleted.")}function YM(i){return new pt(mt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pu(i,e){return new pt(mt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Zl(i){throw new pt(mt.INTERNAL_ERROR,"Internal error: "+i)}class On{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=On.makeFromUrl(e,n)}catch{return new On(e,"")}if(s.path==="")return s;throw FM(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(ue){ue.path_=decodeURIComponent(ue.path)}const T="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",O=new RegExp(`^https?://${b}/${T}/b/${o}/o${A}`,"i"),z={bucket:1,path:3},P=n===_w?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",U=new RegExp(`^https?://${P}/${o}/${L}`,"i"),J=[{regex:m,indices:p,postModify:u},{regex:O,indices:z,postModify:g},{regex:U,indices:{bucket:1,path:2},postModify:g}];for(let ue=0;ue<J.length;ue++){const se=J[ue],re=se.regex.exec(e);if(re){const I=re[se.indices.bucket];let R=re[se.indices.path];R||(R=""),s=new On(I,R),se.postModify(s);break}}if(s==null)throw qM(e);return s}}class QM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function XM(i,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function T(...L){g||(g=!0,e.apply(null,L))}function b(L){o=setTimeout(()=>{o=null,i(O,p())},L)}function A(){u&&clearTimeout(u)}function O(L,...U){if(g){A();return}if(L){A(),T.call(null,L,...U);return}if(p()||h){A(),T.call(null,L,...U);return}s<64&&(s*=2);let J;m===1?(m=2,J=0):J=(s+Math.random())*1e3,b(J)}let z=!1;function P(L){z||(z=!0,A(),!g&&(o!==null?(L||(m=2),clearTimeout(o),b(0)):L||(m=1)))}return b(0),u=setTimeout(()=>{h=!0,P(!0)},n),P}function WM(i){i(!1)}function JM(i){return i!==void 0}function ZM(i){return typeof i=="object"&&!Array.isArray(i)}function zg(i){return typeof i=="string"||i instanceof String}function o0(i){return Bg()&&i instanceof Blob}function Bg(){return typeof Blob<"u"}function l0(i,e,n,s){if(s<e)throw Lp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw Lp(`Invalid value for '${i}'. Expected ${n} or less.`)}function Df(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function Tw(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var pa;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(pa||(pa={}));function ek(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}class tk{constructor(e,n,s,o,u,h,m,p,g,T,b,A=!0,O=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=T,this.connectionFactory_=b,this.retry=A,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((z,P)=>{this.resolve_=z,this.reject_=P,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new bh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===pa.NO_ERROR,p=u.getStatus();if(!m||ek(p,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===pa.ABORT;s(!1,new bh(!1,null,T));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new bh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());JM(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=jg();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?Ew():BM();h(p)}else{const p=zM();h(p)}};this.canceled_?n(!1,new bh(!1,null,!0)):this.backoffId_=XM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&WM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class bh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function nk(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function ik(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function rk(i,e){e&&(i["X-Firebase-GMPID"]=e)}function sk(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function ak(i,e,n,s,o,u,h=!0,m=!1){const p=Tw(i.urlParams),g=i.url+p,T=Object.assign({},i.headers);return rk(T,e),nk(T,n),ik(T,u),sk(T,s),new tk(g,i.method,T,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}function ok(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function lk(...i){const e=ok();if(e!==void 0){const n=new e;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(Bg())return new Blob(i);throw new pt(mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function uk(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}function ck(i){if(typeof atob>"u")throw KM("base-64");return atob(i)}const qi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class np{constructor(e,n){this.data=e,this.contentType=n||null}}function hk(i,e){switch(i){case qi.RAW:return new np(bw(e));case qi.BASE64:case qi.BASE64URL:return new np(Sw(i,e));case qi.DATA_URL:return new np(dk(e),mk(e))}throw jg()}function bw(i){const e=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=i.charCodeAt(++n);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function fk(i){let e;try{e=decodeURIComponent(i)}catch{throw pu(qi.DATA_URL,"Malformed data URL.")}return bw(e)}function Sw(i,e){switch(i){case qi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw pu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case qi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw pu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ck(e)}catch(o){throw o.message.includes("polyfill")?o:pu(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class ww{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw pu(qi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=pk(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function dk(i){const e=new ww(i);return e.base64?Sw(qi.BASE64,e.rest):fk(e.rest)}function mk(i){return new ww(i).contentType}function pk(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}class ds{constructor(e,n){let s=0,o="";o0(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(o0(this.data_)){const s=this.data_,o=uk(s,e,n);return o===null?null:new ds(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new ds(s,!0)}}static getBlob(...e){if(Bg()){const n=e.map(s=>s instanceof ds?s.data_:s);return new ds(lk.apply(null,n))}else{const n=e.map(h=>zg(h)?hk(qi.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new ds(o,!0)}}uploadData(){return this.data_}}function Aw(i){let e;try{e=JSON.parse(i)}catch{return null}return ZM(e)?e:null}function gk(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function yk(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function Rw(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}function _k(i,e){return e}class un{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||_k}}let Sh=null;function vk(i){return!zg(i)||i.length<2?i:Rw(i)}function Cw(){if(Sh)return Sh;const i=[];i.push(new un("bucket")),i.push(new un("generation")),i.push(new un("metageneration")),i.push(new un("name","fullPath",!0));function e(u,h){return vk(h)}const n=new un("name");n.xform=e,i.push(n);function s(u,h){return h!==void 0?Number(h):h}const o=new un("size");return o.xform=s,i.push(o),i.push(new un("timeCreated")),i.push(new un("updated")),i.push(new un("md5Hash",null,!0)),i.push(new un("cacheControl",null,!0)),i.push(new un("contentDisposition",null,!0)),i.push(new un("contentEncoding",null,!0)),i.push(new un("contentLanguage",null,!0)),i.push(new un("contentType",null,!0)),i.push(new un("metadata","customMetadata",!0)),Sh=i,Sh}function Ek(i,e){function n(){const s=i.bucket,o=i.fullPath,u=new On(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function Tk(i,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];s[h.local]=h.xform(s,e[h.server])}return Ek(s,i),s}function Iw(i,e,n){const s=Aw(e);return s===null?null:Tk(i,s,n)}function bk(i,e,n,s){const o=Aw(e);if(o===null||!zg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const T=i.bucket,b=i.fullPath,A="/b/"+h(T)+"/o/"+h(b),O=Df(A,n,s),z=Tw({alt:"media",token:g});return O+z})[0]}function Sk(i,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class qg{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Nw(i){if(!i)throw jg()}function wk(i,e){function n(s,o){const u=Iw(i,o,e);return Nw(u!==null),u}return n}function Ak(i,e){function n(s,o){const u=Iw(i,o,e);return Nw(u!==null),bk(u,o,i.host,i._protocol)}return n}function xw(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=UM():o=LM():n.getStatus()===402?o=VM(i.bucket):n.getStatus()===403?o=jM(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function Dw(i){const e=xw(i);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=PM(i.path)),u.serverResponse=o.serverResponse,u}return n}function Rk(i,e,n){const s=e.fullServerUrl(),o=Df(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new qg(o,u,Ak(i,n),h);return m.errorHandler=Dw(e),m}function Ck(i,e){const n=e.fullServerUrl(),s=Df(n,i.host,i._protocol),o="DELETE",u=i.maxOperationRetryTime;function h(p,g){}const m=new qg(s,o,h,u);return m.successCodes=[200,204],m.errorHandler=Dw(e),m}function Ik(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function Nk(i,e,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=Ik(null,e)),s}function xk(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let J="";for(let ue=0;ue<2;ue++)J=J+Math.random().toString().slice(2);return J}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=Nk(e,s,o),T=Sk(g,n),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+T+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,A=`\r
--`+p+"--",O=ds.getBlob(b,s,A);if(O===null)throw GM();const z={name:g.fullPath},P=Df(u,i.host,i._protocol),L="POST",U=i.maxUploadRetryTime,K=new qg(P,L,wk(i,n),U);return K.urlParams=z,K.headers=h,K.body=O.uploadData(),K.errorHandler=xw(e),K}class Dk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=pa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=pa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw Zl("cannot .send() more than once");if(Ns(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Zl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Ok extends Dk{initXhr(){this.xhr_.responseType="text"}}function Fg(){return new Ok}class Ta{constructor(e,n){this._service=e,n instanceof On?this._location=n:this._location=On.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ta(e,n)}get root(){const e=new On(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Rw(this._location.path)}get storage(){return this._service}get parent(){const e=gk(this._location.path);if(e===null)return null;const n=new On(this._location.bucket,e);return new Ta(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw YM(e)}}function Mk(i,e,n){i._throwIfRoot("uploadBytes");const s=xk(i.storage,i._location,Cw(),new ds(e,!0),n);return i.storage.makeRequestWithTokens(s,Fg).then(o=>({metadata:o,ref:i}))}function kk(i){i._throwIfRoot("getDownloadURL");const e=Rk(i.storage,i._location,Cw());return i.storage.makeRequestWithTokens(e,Fg).then(n=>{if(n===null)throw $M();return n})}function Pk(i){i._throwIfRoot("deleteObject");const e=Ck(i.storage,i._location);return i.storage.makeRequestWithTokens(e,Fg)}function Vk(i,e){const n=yk(i._location.path,e),s=new On(i._location.bucket,n);return new Ta(i.storage,s)}function Lk(i){return/^[A-Za-z]+:\/\//.test(i)}function Uk(i,e){return new Ta(i,e)}function Ow(i,e){if(i instanceof Hg){const n=i;if(n._bucket==null)throw HM();const s=new Ta(n,n._bucket);return e!=null?Ow(s,e):s}else return e!==void 0?Vk(i,e):i}function jk(i,e){if(e&&Lk(e)){if(i instanceof Hg)return Uk(i,e);throw Lp("To use ref(service, url), the first argument must be a Storage instance.")}else return Ow(i,e)}function u0(i,e){const n=e?.[vw];return n==null?null:On.makeFromBucketSpec(n,i)}function zk(i,e,n,s={}){i.host=`${e}:${n}`;const o=Ns(e);o&&(Yp(`https://${i.host}/b`),Qp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:W0(u,i.app.options.projectId))}class Hg{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=_w,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=MM,this._maxUploadRetryTime=kM,this._requests=new Set,o!=null?this._bucket=On.makeFromBucketSpec(o,this._host):this._bucket=u0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=On.makeFromBucketSpec(this._url,e):this._bucket=u0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){l0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){l0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ta(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new QM(Ew());{const h=ak(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const c0="@firebase/storage",h0="0.14.0";const Mw="storage";function Bk(i,e,n){return i=ct(i),Mk(i,e,n)}function qk(i){return i=ct(i),kk(i)}function Fk(i){return i=ct(i),Pk(i)}function f0(i,e){return i=ct(i),jk(i,e)}function Hk(i=df(),e){i=ct(i);const s=xs(i,Mw).getImmediate({identifier:e}),o=Y0("storage");return o&&Gk(s,...o),s}function Gk(i,e,n,s={}){zk(i,e,n,s)}function $k(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Hg(n,s,o,e,Aa)}function Kk(){pi(new Qn(Mw,$k,"PUBLIC").setMultipleInstances(!0)),Tn(c0,h0,""),Tn(c0,h0,"esm2020")}Kk();const kw="@firebase/installations",Gg="0.6.19";const Pw=1e4,Vw=`w:${Gg}`,Lw="FIS_v2",Yk="https://firebaseinstallations.googleapis.com/v1",Qk=3600*1e3,Xk="installations",Wk="Installations";const Jk={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ba=new wa(Xk,Wk,Jk);function Uw(i){return i instanceof Jn&&i.code.includes("request-failed")}function jw({projectId:i}){return`${Yk}/projects/${i}/installations`}function zw(i){return{token:i.token,requestStatus:2,expiresIn:e4(i.expiresIn),creationTime:Date.now()}}async function Bw(i,e){const s=(await e.json()).error;return ba.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function qw({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function Zk(i,{refreshToken:e}){const n=qw(i);return n.append("Authorization",t4(e)),n}async function Fw(i){const e=await i();return e.status>=500&&e.status<600?i():e}function e4(i){return Number(i.replace("s","000"))}function t4(i){return`${Lw} ${i}`}async function n4({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const s=jw(i),o=qw(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:n,authVersion:Lw,appId:i.appId,sdkVersion:Vw},m={method:"POST",headers:o,body:JSON.stringify(h)},p=await Fw(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:zw(g.authToken)}}else throw await Bw("Create Installation",p)}function Hw(i){return new Promise(e=>{setTimeout(e,i)})}function i4(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}const r4=/^[cdef][\w-]{21}$/,Up="";function s4(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=a4(i);return r4.test(n)?n:Up}catch{return Up}}function a4(i){return i4(i).substr(0,22)}function Of(i){return`${i.appName}!${i.appId}`}const Gw=new Map;function $w(i,e){const n=Of(i);Kw(n,e),o4(n,e)}function Kw(i,e){const n=Gw.get(i);if(n)for(const s of n)s(e)}function o4(i,e){const n=l4();n&&n.postMessage({key:i,fid:e}),u4()}let da=null;function l4(){return!da&&"BroadcastChannel"in self&&(da=new BroadcastChannel("[Firebase] FID Change"),da.onmessage=i=>{Kw(i.data.key,i.data.fid)}),da}function u4(){Gw.size===0&&da&&(da.close(),da=null)}const c4="firebase-installations-database",h4=1,Sa="firebase-installations-store";let ip=null;function $g(){return ip||(ip=tb(c4,h4,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Sa)}}})),ip}async function rf(i,e){const n=Of(i),o=(await $g()).transaction(Sa,"readwrite"),u=o.objectStore(Sa),h=await u.get(n);return await u.put(e,n),await o.done,(!h||h.fid!==e.fid)&&$w(i,e.fid),e}async function Yw(i){const e=Of(i),s=(await $g()).transaction(Sa,"readwrite");await s.objectStore(Sa).delete(e),await s.done}async function Mf(i,e){const n=Of(i),o=(await $g()).transaction(Sa,"readwrite"),u=o.objectStore(Sa),h=await u.get(n),m=e(h);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!h||h.fid!==m.fid)&&$w(i,m.fid),m}async function Kg(i){let e;const n=await Mf(i.appConfig,s=>{const o=f4(s),u=d4(i,o);return e=u.registrationPromise,u.installationEntry});return n.fid===Up?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function f4(i){const e=i||{fid:s4(),registrationStatus:0};return Qw(e)}function d4(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ba.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=m4(i,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:p4(i)}:{installationEntry:e}}async function m4(i,e){try{const n=await n4(i,e);return rf(i.appConfig,n)}catch(n){throw Uw(n)&&n.customData.serverCode===409?await Yw(i.appConfig):await rf(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function p4(i){let e=await d0(i.appConfig);for(;e.registrationStatus===1;)await Hw(100),e=await d0(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Kg(i);return s||n}return e}function d0(i){return Mf(i,e=>{if(!e)throw ba.create("installation-not-found");return Qw(e)})}function Qw(i){return g4(i)?{fid:i.fid,registrationStatus:0}:i}function g4(i){return i.registrationStatus===1&&i.registrationTime+Pw<Date.now()}async function y4({appConfig:i,heartbeatServiceProvider:e},n){const s=_4(i,n),o=Zk(i,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:Vw,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(h)},p=await Fw(()=>fetch(s,m));if(p.ok){const g=await p.json();return zw(g)}else throw await Bw("Generate Auth Token",p)}function _4(i,{fid:e}){return`${jw(i)}/${e}/authTokens:generate`}async function Yg(i,e=!1){let n;const s=await Mf(i.appConfig,u=>{if(!Xw(u))throw ba.create("not-registered");const h=u.authToken;if(!e&&T4(h))return u;if(h.requestStatus===1)return n=v4(i,e),u;{if(!navigator.onLine)throw ba.create("app-offline");const m=S4(u);return n=E4(i,m),m}});return n?await n:s.authToken}async function v4(i,e){let n=await m0(i.appConfig);for(;n.authToken.requestStatus===1;)await Hw(100),n=await m0(i.appConfig);const s=n.authToken;return s.requestStatus===0?Yg(i,e):s}function m0(i){return Mf(i,e=>{if(!Xw(e))throw ba.create("not-registered");const n=e.authToken;return w4(n)?{...e,authToken:{requestStatus:0}}:e})}async function E4(i,e){try{const n=await y4(i,e),s={...e,authToken:n};return await rf(i.appConfig,s),n}catch(n){if(Uw(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Yw(i.appConfig);else{const s={...e,authToken:{requestStatus:0}};await rf(i.appConfig,s)}throw n}}function Xw(i){return i!==void 0&&i.registrationStatus===2}function T4(i){return i.requestStatus===2&&!b4(i)}function b4(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+Qk}function S4(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function w4(i){return i.requestStatus===1&&i.requestTime+Pw<Date.now()}async function A4(i){const e=i,{installationEntry:n,registrationPromise:s}=await Kg(e);return s?s.catch(console.error):Yg(e).catch(console.error),n.fid}async function R4(i,e=!1){const n=i;return await C4(n),(await Yg(n,e)).token}async function C4(i){const{registrationPromise:e}=await Kg(i);e&&await e}function I4(i){if(!i||!i.options)throw rp("App Configuration");if(!i.name)throw rp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw rp(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function rp(i){return ba.create("missing-app-config-values",{valueName:i})}const Ww="installations",N4="installations-internal",x4=i=>{const e=i.getProvider("app").getImmediate(),n=I4(e),s=xs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},D4=i=>{const e=i.getProvider("app").getImmediate(),n=xs(e,Ww).getImmediate();return{getId:()=>A4(n),getToken:o=>R4(n,o)}};function O4(){pi(new Qn(Ww,x4,"PUBLIC")),pi(new Qn(N4,D4,"PRIVATE"))}O4();Tn(kw,Gg);Tn(kw,Gg,"esm2020");const sf="analytics",M4="firebase_id",k4="origin",P4=60*1e3,V4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qg="https://www.googletagmanager.com/gtag/js";const hn=new ff("@firebase/analytics");const L4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Mn=new wa("analytics","Analytics",L4);function U4(i){if(!i.startsWith(Qg)){const e=Mn.create("invalid-gtag-resource",{gtagURL:i});return hn.warn(e.message),""}return i}function Jw(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function j4(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function z4(i,e){const n=j4("firebase-js-sdk-policy",{createScriptURL:U4}),s=document.createElement("script"),o=`${Qg}?l=${i}&id=${e}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function B4(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function q4(i,e,n,s,o,u){const h=s[o];try{if(h)await e[h];else{const p=(await Jw(n)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){hn.error(m)}i("config",o,u)}async function F4(i,e,n,s,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const m=await Jw(n);for(const p of h){const g=m.find(b=>b.measurementId===p),T=g&&e[g.appId];if(T)u.push(T);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){hn.error(u)}}function H4(i,e,n,s){async function o(u,...h){try{if(u==="event"){const[m,p]=h;await F4(i,e,n,m,p)}else if(u==="config"){const[m,p]=h;await q4(i,e,n,s,m,p)}else if(u==="consent"){const[m,p]=h;i("consent",m,p)}else if(u==="get"){const[m,p,g]=h;i("get",m,p,g)}else if(u==="set"){const[m]=h;i("set",m)}else i(u,...h)}catch(m){hn.error(m)}}return o}function G4(i,e,n,s,o){let u=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=H4(u,i,e,n),{gtagCore:u,wrappedGtag:window[o]}}function $4(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Qg)&&n.src.includes(i))return n;return null}const K4=30,Y4=1e3;class Q4{constructor(e={},n=Y4){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Zw=new Q4;function X4(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function W4(i){const{appId:e,apiKey:n}=i,s={method:"GET",headers:X4(n)},o=V4.replace("{app-id}",e),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let h="";try{const m=await u.json();m.error?.message&&(h=m.error.message)}catch{}throw Mn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()}async function J4(i,e=Zw,n){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw Mn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Mn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new tP;return setTimeout(async()=>{m.abort()},P4),eA({appId:s,apiKey:o,measurementId:u},h,m,e)}async function eA(i,{throttleEndTimeMillis:e,backoffCount:n},s,o=Zw){const{appId:u,measurementId:h}=i;try{await Z4(s,e)}catch(m){if(h)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:h};throw m}try{const m=await W4(i);return o.deleteThrottleMetadata(u),m}catch(m){const p=m;if(!eP(p)){if(o.deleteThrottleMetadata(u),h)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:h};throw m}const g=Number(p?.customData?.httpStatus)===503?VE(n,o.intervalMillis,K4):VE(n,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return o.setThrottleMetadata(u,T),hn.debug(`Calling attemptFetch again in ${g} millis`),eA(i,T,s,o)}}function Z4(i,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(u),s(Mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function eP(i){if(!(i instanceof Jn)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class tP{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function nP(i,e,n,s,o){if(o&&o.global){i("event",n,s);return}else{const u=await e,h={...s,send_to:u};i("event",n,h)}}async function iP(i,e,n,s){if(s&&s.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return i("set",o),Promise.resolve()}else{const o=await e;i("config",o,{update:!0,user_properties:n})}}async function rP(){if(Wp())try{await Jp()}catch(i){return hn.warn(Mn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return hn.warn(Mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function sP(i,e,n,s,o,u,h){const m=J4(i);m.then(A=>{n[A.measurementId]=A.appId,i.options.measurementId&&A.measurementId!==i.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>hn.error(A)),e.push(m);const p=rP().then(A=>{if(A)return s.getId()}),[g,T]=await Promise.all([m,p]);$4(u)||z4(u,g.measurementId),o("js",new Date);const b=h?.config??{};return b[k4]="firebase",b.update=!0,T!=null&&(b[M4]=T),o("config",g.measurementId,b),g.measurementId}class aP{constructor(e){this.app=e}_delete(){return delete No[this.app.options.appId],Promise.resolve()}}let No={},p0=[];const g0={};let sp="dataLayer",oP="gtag",y0,Xg,_0=!1;function lP(){const i=[];if(Xp()&&i.push("This is a browser extension environment."),J0()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=Mn.create("invalid-analytics-context",{errorInfo:e});hn.warn(n.message)}}function uP(i,e,n){lP();const s=i.options.appId;if(!s)throw Mn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Mn.create("no-api-key");if(No[s]!=null)throw Mn.create("already-exists",{id:s});if(!_0){B4(sp);const{wrappedGtag:u,gtagCore:h}=G4(No,p0,g0,sp,oP);Xg=u,y0=h,_0=!0}return No[s]=sP(i,p0,g0,e,y0,sp,n),new aP(i)}function cP(i=df()){i=ct(i);const e=xs(i,sf);return e.isInitialized()?e.getImmediate():hP(i)}function hP(i,e={}){const n=xs(i,sf);if(n.isInitialized()){const o=n.getImmediate();if(bs(e,n.getOptions()))return o;throw Mn.create("already-initialized")}return n.initialize({options:e})}async function fP(){if(Xp()||!J0()||!Wp())return!1;try{return await Jp()}catch{return!1}}function dP(i,e,n){i=ct(i),iP(Xg,No[i.app.options.appId],e,n).catch(s=>hn.error(s))}function mP(i,e,n,s){i=ct(i),nP(Xg,No[i.app.options.appId],e,n,s).catch(o=>hn.error(o))}const v0="@firebase/analytics",E0="0.10.19";function pP(){pi(new Qn(sf,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return uP(s,o,n)},"PUBLIC")),pi(new Qn("analytics-internal",i,"PRIVATE")),Tn(v0,E0),Tn(v0,E0,"esm2020");function i(e){try{const n=e.getProvider(sf).getImmediate();return{logEvent:(s,o,u)=>mP(n,s,o,u),setUserProperties:(s,o)=>dP(n,s,o)}}catch(n){throw Mn.create("interop-component-reg-failed",{reason:n})}}}pP();const gP={apiKey:"AIzaSyDePYTiCDa4tfK6c1jtUIgFS5qRMfBBCuM",authDomain:"urbanfrill-d936e.firebaseapp.com",projectId:"urbanfrill-d936e",storageBucket:"urbanfrill-d936e.firebasestorage.app",messagingSenderId:"356720198088",appId:"1:356720198088:web:eb678dfaca7804504dc0fd",measurementId:"G-XH4WPERDEJ"},kf=qE().length?qE()[0]:nb(gP),Zt=px(kf);t2(Zt,Nb).catch(()=>{});const nn=vM(kf),ap=Hk(kf);fP().then(i=>{i&&cP(kf)}).catch(()=>{});const tA=M.createContext(),T0="uf_cart_guest_v1",yP="uf_cart_",ju=()=>M.useContext(tA);function _P({children:i}){const{user:e}=Cr(),n=e?.uid||"guest",s=`${yP}${n}_v1`,o=z=>Array.isArray(z)?z.map(P=>({...P,image:Lh(P.image||""),qty:Math.max(1,Number(P.qty)||1),price:Number(P.price)||0})):[],[u,h]=M.useState(()=>{try{const z=localStorage.getItem(s)||localStorage.getItem(T0);return z?o(JSON.parse(z)):[]}catch{return[]}});M.useEffect(()=>{let z=!0;return(async()=>{try{if(n!=="guest"&&nn){const U=Es(nn,"carts",n),K=await gw(U);if(K&&K.exists()){const J=K.data();if(z&&J&&Array.isArray(J.items)){h(o(J.items));return}}}const L=localStorage.getItem(s)||localStorage.getItem(T0);z&&h(L?o(JSON.parse(L)):[])}catch{z&&h([])}})(),()=>{z=!1}},[n]),M.useEffect(()=>{try{localStorage.setItem(s,JSON.stringify(u))}catch{}},[u,s]),M.useEffect(()=>{if(!nn||n==="guest")return;const z=Es(nn,"carts",n);(async()=>{try{await mu(z,{items:u},{merge:!0})}catch{}})()},[u,n]);const m=z=>{h(P=>{const L={...z,image:Lh(z.image||""),qty:Math.max(1,Number(z.qty)||1),price:Number(z.price)||0};return P.find(K=>K.id===L.id)?P.map(K=>K.id===L.id?{...K,qty:K.qty+L.qty}:K):[...P,L]})},p=(z,P)=>h(L=>L.map(U=>U.id===z?{...U,qty:Math.max(1,Number(P)||1)}:U)),g=z=>h(P=>P.filter(L=>L.id!==z)),T=()=>h([]),{itemCount:b,subTotal:A}=M.useMemo(()=>({itemCount:u.reduce((z,P)=>z+P.qty,0),subTotal:u.reduce((z,P)=>z+(Number(P.price)||0)*P.qty,0)}),[u]),O=M.useMemo(()=>({cart:u,addToCart:m,updateQty:p,removeFromCart:g,clearCart:T,itemCount:b,subTotal:A}),[u,b,A]);return v.jsx(tA.Provider,{value:O,children:i})}var nA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},b0=cn.createContext&&cn.createContext(nA),vP=["attr","size","title"];function EP(i,e){if(i==null)return{};var n=TP(i,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function TP(i,e){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function af(){return af=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},af.apply(this,arguments)}function S0(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function of(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S0(Object(n),!0).forEach(function(s){bP(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):S0(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function bP(i,e,n){return e=SP(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function SP(i){var e=wP(i,"string");return typeof e=="symbol"?e:e+""}function wP(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function iA(i){return i&&i.map((e,n)=>cn.createElement(e.tag,of({key:n},e.attr),iA(e.child)))}function Pf(i){return e=>cn.createElement(AP,af({attr:of({},i.attr)},e),iA(i.child))}function AP(i){var e=n=>{var{attr:s,size:o,title:u}=i,h=EP(i,vP),m=o||n.size||"1em",p;return n.className&&(p=n.className),i.className&&(p=(p?p+" ":"")+i.className),cn.createElement("svg",af({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,h,{className:p,style:of(of({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&cn.createElement("title",null,u),i.children)};return b0!==void 0?cn.createElement(b0.Consumer,null,n=>e(n)):e(nA)}function w0(i){return Pf({attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M20.756 5.345c-.191-.219-.466-.345-.756-.345h-13.819l-.195-1.164c-.08-.482-.497-.836-.986-.836h-2.25c-.553 0-1 .447-1 1s.447 1 1 1h1.403l1.86 11.164.045.124.054.151.12.179.095.112.193.13.112.065c.116.047.238.075.367.075h11.001c.553 0 1-.447 1-1s-.447-1-1-1h-10.153l-.166-1h11.319c.498 0 .92-.366.99-.858l1-7c.041-.288-.045-.579-.234-.797zm-1.909 1.655l-.285 2h-3.562v-2h3.847zm-4.847 0v2h-3v-2h3zm0 3v2h-3v-2h3zm-4-3v2h-3l-.148.03-.338-2.03h3.486zm-2.986 3h2.986v2h-2.653l-.333-2zm7.986 2v-2h3.418l-.285 2h-3.133z"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]}]})(i)}function RP(i){return Pf({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Logout"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M20.968,18.448a2.577,2.577,0,0,1-2.73,2.5c-2.153.012-4.306,0-6.459,0a.5.5,0,0,1,0-1c2.2,0,4.4.032,6.6,0,1.107-.016,1.589-.848,1.589-1.838V5.647A1.546,1.546,0,0,0,19,4.175a3.023,3.023,0,0,0-1.061-.095H11.779a.5.5,0,0,1,0-1c2.224,0,4.465-.085,6.687,0a2.567,2.567,0,0,1,2.5,2.67Z"},child:[]},{tag:"path",attr:{d:"M3.176,11.663a.455.455,0,0,0-.138.311c0,.015,0,.028-.006.043s0,.027.006.041a.457.457,0,0,0,.138.312l3.669,3.669a.5.5,0,0,0,.707-.707L4.737,12.516H15.479a.5.5,0,0,0,0-1H4.737L7.552,8.7a.5.5,0,0,0-.707-.707Z"},child:[]}]}]}]})(i)}function jp(i){return Pf({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"User"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M17.438,21.937H6.562a2.5,2.5,0,0,1-2.5-2.5V18.61c0-3.969,3.561-7.2,7.938-7.2s7.938,3.229,7.938,7.2v.827A2.5,2.5,0,0,1,17.438,21.937ZM12,12.412c-3.826,0-6.938,2.78-6.938,6.2v.827a1.5,1.5,0,0,0,1.5,1.5H17.438a1.5,1.5,0,0,0,1.5-1.5V18.61C18.938,15.192,15.826,12.412,12,12.412Z"},child:[]},{tag:"path",attr:{d:"M12,9.911a3.924,3.924,0,1,1,3.923-3.924A3.927,3.927,0,0,1,12,9.911Zm0-6.847a2.924,2.924,0,1,0,2.923,2.923A2.926,2.926,0,0,0,12,3.064Z"},child:[]}]}]}]})(i)}function rA(i){return Pf({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"},child:[]}]})(i)}function CP({isOpen:i,onClose:e,triggerRef:n}){const s=_i(),{user:o,logout:u}=Cr(),h=M.useRef(null);if(M.useEffect(()=>{if(!i)return;const T=A=>{h.current&&!h.current.contains(A.target)&&n.current&&!n.current.contains(A.target)&&e()},b=A=>{A.key==="Escape"&&e()};return document.addEventListener("mousedown",T),document.addEventListener("keydown",b),()=>{document.removeEventListener("mousedown",T),document.removeEventListener("keydown",b)}},[i,e,n]),!o||!i)return null;const m=()=>{s("/profile"),e()},p=()=>{confirm("Are you sure you want to logout?")&&(u(),s("/"),e())},g=o?.displayName||(o?.email?o.email.split("@")[0]:"User");return v.jsxs("div",{className:"user-dropdown",ref:h,children:[v.jsxs("div",{className:"user-dropdown-header",children:[v.jsx("div",{className:"user-dropdown-avatar",children:o?.photoURL?v.jsx("img",{src:o.photoURL,alt:g}):v.jsx("div",{className:"user-dropdown-avatar-placeholder",children:g[0]?.toUpperCase()||"U"})}),v.jsxs("div",{className:"user-dropdown-info",children:[v.jsx("div",{className:"user-dropdown-name",children:g}),v.jsx("div",{className:"user-dropdown-email",children:o.email})]})]}),v.jsx("div",{className:"user-dropdown-divider"}),v.jsxs("div",{className:"user-dropdown-menu",children:[v.jsxs("button",{className:"user-dropdown-item",onClick:m,"aria-label":"View Profile",children:[v.jsx(jp,{size:20}),v.jsx("span",{children:"My Profile"})]}),v.jsxs("label",{className:"user-dropdown-item",htmlFor:"profile-image-upload",children:[v.jsx(rA,{size:20}),v.jsx("span",{children:"Change Photo"}),v.jsx("input",{id:"profile-image-upload",type:"file",accept:"image/*",style:{display:"none"},onChange:T=>{T.target.files?.[0]&&(s("/profile?upload=photo"),e())}})]}),v.jsxs("button",{className:"user-dropdown-item",onClick:p,"aria-label":"Logout",children:[v.jsx(RP,{size:20}),v.jsx("span",{children:"Logout"})]})]})]})}const A0=[{label:"Home",to:"/"},{label:"Products",to:"/category/All"},{label:"About us",to:"/"},{label:"Contact us",to:"/#contact"}],R0=[{label:"Curtains",to:"/category/Curtains",items:["Plain curtains","Textured curtains","Embroidery curtains","Cotton curtains","Sheer curtains","Curtains with borders"]},{label:"Wallpapers",to:"/category/Wallpapers",items:["Floral","Geometric","Kids & playful","Textured","Premium vinyl","Custom print"]},{label:"Bedback & Sofa",to:"/category/Bedback",items:["Upholstered bedback","Tufted headboard","Sofa reupholstery","Cushions & bolsters"]},{label:"Mattress",to:"/category/Mattress",items:["Memory foam","Orthopedic","Latex","Hybrid","Accessories"]},{label:"Blinds",to:"/category/Blinds",items:["Roller blinds","Zebra / day-night","Roman blinds","Vertical blinds","Wooden Venetian"]},{label:"Wood & PVC Flooring",to:"/category/Flooring",items:["Laminate wood","Engineered wood","PVC/Vinyl planks","Skirting"]}];function IP({onRequestAuth:i=()=>{}}){const{user:e,logout:n}=Cr(),{itemCount:s}=ju(),o=_i(),u=Wn(),[h,m]=M.useState(!1),[p,g]=M.useState(!1),T=M.useRef(null),b=M.useMemo(()=>e?.displayName||(e?.email?e.email.split("@")[0]:""),[e]),A=M.useMemo(()=>e?`Hi, ${b}`:"Hi there",[e,b]),O=M.useCallback(U=>{if(U&&U.startsWith("/#")){const K=U.substring(2);u.pathname==="/"?setTimeout(()=>{const J=document.getElementById(K);J&&J.scrollIntoView({behavior:"smooth"})},100):o("/",{state:{scrollTo:K}})}else o(U);m(!1)},[o,u]),z=M.useCallback(()=>{if(!e){i();return}o("/cart")},[e,i,o]),P=M.useCallback(()=>{e?g(U=>!U):i()},[e,i]),L=M.useCallback(()=>m(U=>!U),[]);return v.jsx(v.Fragment,{children:v.jsxs("header",{className:"uf3-header",role:"banner",children:[v.jsxs("div",{className:"uf3-top",children:[v.jsxs(us,{className:"uf3-brand",to:"/","aria-label":"UrbanFrill Home",onClick:U=>{u.pathname==="/"&&(U.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})),m(!1)},children:[v.jsx("img",{className:"uf3-logo",src:rn("images/logo.png"),alt:"UrbanFrill",onError:U=>U.currentTarget.style.visibility="hidden"}),v.jsxs("span",{className:"uf3-brandtext",children:[v.jsx("span",{className:"uf3-title",children:"UrbanFrill"}),v.jsx("span",{className:"uf3-tag",children:"Furnish Your Lifestyle"})]})]}),v.jsx("nav",{className:"uf3-primary","aria-label":"Primary",children:A0.map(U=>U.to.startsWith("/#")?v.jsx("button",{onClick:()=>O(U.to),className:"uf3-link",children:U.label},U.label):v.jsx(us,{to:U.to,onClick:K=>{m(!1),U.to==="/"&&u.pathname==="/"&&(K.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}))},children:U.label},U.label))}),v.jsxs("div",{className:"uf3-actions",children:[v.jsxs("div",{className:"uf3-user-wrapper uf3-hide-on-mobile",style:{position:"relative"},children:[v.jsxs("button",{ref:T,className:`uf3-user ${p?"active":""}`,onClick:P,title:e?b:"Login / Sign up","aria-expanded":p,"aria-haspopup":"true",children:[e?.photoURL?v.jsx("img",{src:e.photoURL,alt:b||"User"}):v.jsx(jp,{size:18,"aria-hidden":!0}),v.jsx("span",{className:"uf3-greeting",children:A})]}),e&&v.jsx(CP,{isOpen:p,onClose:()=>g(!1),triggerRef:T})]}),v.jsxs("button",{className:"uf3-cart uf3-hide-on-mobile",onClick:z,"aria-label":"Open cart",title:"Cart",children:[v.jsx(w0,{size:18,"aria-hidden":!0}),s>0&&v.jsx("span",{className:"uf3-badge",children:s})]}),!e&&v.jsx("button",{className:"uf3-primarybtn uf3-hide-on-mobile",onClick:i,children:"Login / Sign up"}),v.jsxs("button",{className:`uf3-burger ${h?"is-open":""}`,"aria-label":"Toggle menu","aria-expanded":h,onClick:L,children:[v.jsx("span",{}),v.jsx("span",{}),v.jsx("span",{})]})]})]}),v.jsx("div",{className:"uf3-catsrow",children:v.jsx("nav",{className:"uf3-cats","aria-label":"Categories",children:R0.map(U=>v.jsxs("div",{className:"uf3-cat",children:[v.jsxs("button",{className:"uf3-catbtn",onClick:K=>{O(U.to),K.currentTarget.blur()},children:[U.label,v.jsx("svg",{className:"uf3-caret",viewBox:"0 0 16 16",width:"14",height:"14","aria-hidden":!0,children:v.jsx("path",{d:"M4 6l4 4 4-4",fill:"none",stroke:"currentColor",strokeWidth:"1.5"})})]}),v.jsxs("div",{className:"uf3-panel",role:"menu",children:[v.jsx("div",{className:"uf3-grid",children:U.items.map(K=>v.jsx("button",{className:"uf3-sub",role:"menuitem",onClick:()=>{O(U.to),document.querySelectorAll(".uf3-cat").forEach(J=>J.blur())},children:K},K))}),v.jsxs(us,{className:"uf3-viewall",to:U.to,onClick:()=>{m(!1),document.querySelectorAll(".uf3-cat").forEach(K=>K.blur())},children:["View all ",U.label," "]})]})]},U.label))})}),v.jsxs("div",{className:`uf3-mobile ${h?"show":""}`,role:"dialog","aria-modal":"true","aria-label":"Mobile menu",children:[v.jsxs("div",{className:"uf3-mobbar",children:[v.jsxs(us,{className:"uf3-mobbrand",to:"/","aria-label":"UrbanFrill Home",onClick:U=>{u.pathname==="/"&&(U.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})),m(!1)},children:[v.jsx("img",{className:"uf3-logo",src:rn("images/logo.png"),alt:""}),v.jsx("span",{className:"uf3-title",children:"UrbanFrill"})]}),v.jsx("button",{className:"uf3-close","aria-label":"Close menu",onClick:L,children:""})]}),v.jsxs("div",{className:"uf3-mob-user",children:[v.jsxs("button",{className:"uf3-mob-userbtn",onClick:()=>{e?(o("/profile"),m(!1)):i()},children:[e?.photoURL?v.jsx("img",{src:e.photoURL,alt:b||"User"}):v.jsx(jp,{size:18,"aria-hidden":!0}),v.jsx("span",{children:e?`Hi, ${b}`:"Login / Sign up"})]}),v.jsxs("button",{className:"uf3-mob-cartbtn",onClick:()=>{m(!1),z()},children:[v.jsx(w0,{size:18,"aria-hidden":!0}),v.jsxs("span",{children:["Cart ",s>0?`(${s})`:""]})]})]}),v.jsx("div",{className:"uf3-mobile-primary",children:A0.map(U=>U.to.startsWith("/#")?v.jsx("button",{className:"uf3-mobile-link",onClick:()=>O(U.to),children:U.label},U.label):v.jsx(us,{to:U.to,onClick:()=>m(!1),children:U.label},U.label))}),v.jsx("div",{className:"uf3-mobile-cats",children:R0.map(U=>v.jsxs("details",{className:"uf3-acc",children:[v.jsxs("summary",{className:"uf3-accbtn",children:[v.jsx("span",{children:U.label}),v.jsx("span",{className:"uf3-plus","aria-hidden":!0,children:"+"})]}),v.jsxs("div",{className:"uf3-accpanel",role:"region",children:[v.jsxs(us,{className:"uf3-accviewall",to:U.to,onClick:()=>m(!1),children:["View all ",U.label," "]}),U.items.map(K=>v.jsx("button",{className:"uf3-accitem",onClick:()=>{O(U.to),m(!1)},children:K},K))]})]},U.label))})]})]})})}const NP=cn.memo(IP),xP="918005827701",DP=3e3,Dn=[{id:"featured",label:"Featured",anchor:"#products"},{id:"curtains",label:"Curtains",anchor:"#curtains"},{id:"wallpapers",label:"Wallpapers",anchor:"#wallpapers"},{id:"bedback",label:"Bedback & Sofa",anchor:"#bedback"},{id:"mattress",label:"Mattress",anchor:"#mattress"},{id:"blinds",label:"Blinds",anchor:"#blinds"},{id:"flooring",label:"Wood & PVC Flooring",anchor:"#flooring"}],sA={curtains:"hero-curtain.webp",wallpapers:"hero-wallpaper.webp",bedback:"hero-bedback.webp",mattress:"hero-mattress.webp",blinds:"hero-blinds.webp",flooring:"hero-flooring.webp"},OP={featured:{title:"Furnish Your Lifestyle",desc:"Explore custom furnishings across curtains, wallpapers, bedbacks, mattresses, blinds and flooring.",cta:"Browse Products"},curtains:{title:"Luxury Curtains",desc:"Soft light and elegant drape for living and bedrooms.",cta:"Shop Curtains"},wallpapers:{title:"Designer Wallpapers",desc:"Statement patterns and premium textures for every wall.",cta:"Shop Wallpapers"},bedback:{title:"Bedback & Sofa",desc:"Upholstered comfort that looks and feels premium.",cta:"Explore Upholstery"},mattress:{title:"Mattresses",desc:"Support engineered for deeper, restorative sleep.",cta:"Shop Mattresses"},blinds:{title:"Blinds",desc:"Clean lines with precise light control.",cta:"Shop Blinds"},flooring:{title:"Wood & PVC Flooring",desc:"Warm, durable finishes for modern homes.",cta:"Shop Flooring"}};function op({priority:i=!1}){return v.jsxs("div",{className:"hero-collage",children:[v.jsx("figure",{className:"collage-big card",children:v.jsx("img",{src:rn("images/hero-left.webp"),alt:"Featured large",loading:i?"eager":"lazy",decoding:"async",fetchPriority:i?"high":"auto"})}),v.jsx("figure",{className:"collage-small top card",children:v.jsx("img",{src:rn("images/hero-topright.webp"),alt:"Featured detail 1",loading:"lazy",decoding:"async"})}),v.jsx("figure",{className:"collage-small bottom card",children:v.jsx("img",{src:rn("images/hero-bottomright.webp"),alt:"Featured detail 2",loading:"lazy",decoding:"async"})})]})}function lp({id:i,label:e,priority:n=!1}){const s=rn(`images/${sA[i]}`),[o,u]=cn.useState(!1);return v.jsxs("figure",{className:"hero-single card",children:[v.jsx("img",{src:s,alt:e,loading:n?"eager":"lazy",decoding:"async",fetchPriority:n?"high":"auto",onLoad:()=>u(!0),style:{opacity:o?1:.7,transition:"opacity 0.3s ease"}}),v.jsx("figcaption",{className:"badge",children:e}),v.jsx("div",{className:"scrim"})]})}function MP(){const[i,e]=M.useState(()=>{const L=Math.floor(Math.random()*Dn.length);return Dn[L].id}),[n,s]=M.useState(!1),o=M.useRef(null),u=M.useRef(null),h=M.useMemo(()=>Dn.findIndex(L=>L.id===i),[i]),m=Dn[(h+1)%Dn.length].id,p=Dn[(h-1+Dn.length)%Dn.length].id,g=Dn[h],{title:T,desc:b,cta:A}=OP[i];M.useEffect(()=>{o.current&&clearTimeout(o.current),u.current&&clearTimeout(u.current);const L=(h+1)%Dn.length,U=Dn[L].id;if(U==="featured")[rn("images/hero-left.webp"),rn("images/hero-topright.webp"),rn("images/hero-bottomright.webp")].forEach(J=>{const ue=new Image;ue.src=J});else{const K=new Image;K.src=rn(`images/${sA[U]}`)}return o.current=setTimeout(()=>{s(!0),u.current=setTimeout(()=>{e(m),requestAnimationFrame(()=>{requestAnimationFrame(()=>{s(!1)})})},600)},DP),()=>{o.current&&clearTimeout(o.current),u.current&&clearTimeout(u.current)}},[i,m,h]),M.useEffect(()=>()=>{o.current&&clearTimeout(o.current),u.current&&clearTimeout(u.current)},[]);const O=i==="featured",z=m==="featured",P=p==="featured";return v.jsx("section",{className:"hero",children:v.jsxs("div",{className:"hero-container",children:[v.jsx("div",{className:"hero-media",children:v.jsxs("div",{className:"slider carousel","data-transitioning":n?"true":"false",children:[v.jsx("div",{className:"slide prev",children:P?v.jsx(op,{}):v.jsx(lp,{id:p,label:Dn.find(L=>L.id===p)?.label})}),v.jsx("div",{className:"slide current",children:O?v.jsx(op,{priority:!0}):v.jsx(lp,{id:i,label:g.label,priority:!0})}),v.jsx("div",{className:"slide next",children:z?v.jsx(op,{}):v.jsx(lp,{id:m,label:Dn.find(L=>L.id===m)?.label})})]})}),v.jsxs("div",{className:"hero-text",children:[v.jsx("h2",{children:T}),v.jsx("p",{children:b}),v.jsxs("div",{className:"hero-buttons",children:[v.jsx("a",{href:g.anchor,className:"btn btn-dark",children:A}),v.jsx("a",{href:`https://wa.me/${xP}?text=${encodeURIComponent("Hi, I'm interested in UrbanFrill products.")}`,target:"_blank",rel:"noreferrer",className:"btn btn-whatsapp",children:"WhatsApp Quote"})]})]})]})})}function Vf(){"scrollRestoration"in history&&(history.scrollRestoration="manual");const i=document.scrollingElement||document.documentElement,e=document.getElementById("root"),n=()=>{window.scrollTo(0,0),i.scrollTop=0,document.body.scrollTop=0,e&&(e.scrollTop=0)};n(),requestAnimationFrame(n),setTimeout(n,0),setTimeout(n,60)}const Ts=[{id:1,name:"Elegant Curtains",desc:"Custom made | Free on-site measuring",price:299,category:"Curtains",images:["/images/hero-left.webp"]},{id:2,name:"Wallpapers - Floral",desc:"Vinyl, easy-clean finish",price:799,category:"Wallpapers",images:["/images/hero-topright.webp"]},{id:3,name:"Upholstered Bedback",desc:"Premium fabric, stitched",price:1499,category:"Bedback",images:["/images/hero-bottomright.webp"]}];Ts.push({id:901,name:"Sheer Daylight Curtains",desc:"Airy weave with soft diffused light.",category:"Curtains",price:2490,image:"images/hero-curtain.webp"},{id:902,name:"Geometric Wallpaper",desc:"Matte finish, easy-clean | 57 sq.ft roll",category:"Wallpapers",price:1990,image:"images/hero-wallpaper.webp"},{id:903,name:"Premium Bedback",desc:"Upholstered, tufted, custom sizes",category:"Bedback & Sofa",price:12990,image:"images/hero-bedback.webp"},{id:904,name:"Orthopedic Mattress",desc:"Medium-firm with zoned support",category:"Mattress",price:17990,image:"images/hero-mattress.webp"},{id:905,name:"Day-Night Blinds",desc:"Precise light control with sleek look",category:"Blinds",price:5490,image:"images/hero-blinds.webp"},{id:906,name:"Oak Textured PVC",desc:"Durable planks | easy install",category:"Wood & PVC Flooring",price:2990,image:"images/hero-flooring.webp"});function kP({promptLogin:i=()=>{}}){const{productId:e}=P0(),n=_i(),s=Wn(),{user:o}=Cr(),{addToCart:u}=ju(),[h,m]=M.useState(!1),p=M.useMemo(()=>e?Ts.find(L=>L.id===Number(e)):null,[e]);M.useLayoutEffect(()=>{Vf()},[p?.id]);const g=M.useMemo(()=>{if(!p)return[];const L=Array.isArray(p.images)?p.images.filter(Boolean):[];return L.length?L:p.image?[p.image]:[]},[p]),[T,b]=M.useState(0);if(!p)return v.jsxs("div",{style:{padding:60,textAlign:"center"},children:[v.jsx("h3",{children:"Product not found"}),v.jsx("p",{children:"It may have been removed or renamed."}),v.jsx("button",{onClick:()=>n("/"),className:"pp-back",children:" Back to Home"})]});const A=()=>{s.state?.from?n(s.state.from):n(-1)},O=g[T]||"images/placeholder.png",z=()=>{if(!o){i();return}u({id:p.id,name:p.name,price:Number(p.price)||0,image:g[0]||"images/placeholder.png",qty:1}),m(!0),setTimeout(()=>m(!1),1600)},P=()=>{if(!o){i();return}u({id:p.id,name:p.name,price:Number(p.price)||0,image:g[0]||"images/placeholder.png",qty:1}),n("/checkout")};return v.jsxs("div",{className:"pp-wrap",style:{maxWidth:1100,margin:"40px auto",padding:"0 18px"},children:[v.jsx("button",{onClick:A,className:"pp-back",children:" Back to Products"}),v.jsxs("div",{className:"pp-grid",children:[v.jsxs("div",{className:"pp-media",children:[v.jsx("div",{className:"pp-main",children:v.jsx("img",{className:"pd-main",src:ga(O),alt:p.name,loading:"eager",sizes:"(max-width:640px) 100vw, (max-width:1100px) 50vw, 50vw",onError:L=>L.currentTarget.src=rn("images/placeholder.png")},`${p.id}-${o?.uid||"guest"}-${T}`)}),g.length>1&&v.jsx("div",{className:"pp-thumbs",role:"list",children:g.map((L,U)=>v.jsx("button",{className:`pp-thumb ${U===T?"active":""}`,onClick:()=>b(U),"aria-label":`Show image ${U+1}`,children:v.jsx("img",{src:ga(L),alt:`thumb-${U+1}`,loading:"lazy",onError:K=>K.currentTarget.src=rn("images/placeholder.png")},`${p.id}-${o?.uid||"guest"}-thumb-${U}`)},`${L}-${U}`))})]}),v.jsxs("div",{className:"pp-info",children:[v.jsx("h1",{children:p.name}),v.jsxs("p",{className:"pp-price",children:["",Number(p.price||0).toLocaleString()]}),v.jsx("p",{className:"pp-desc",children:p.desc}),v.jsxs("div",{style:{marginTop:18,display:"flex",gap:12},children:[v.jsx("button",{className:"pp-btn",onClick:z,disabled:h,children:h?" Added":"Add to cart"}),v.jsx("button",{className:"pp-btn-outline",onClick:P,children:"Buy now"})]}),v.jsxs("div",{style:{marginTop:22,color:"#666"},children:[v.jsx("strong",{children:"Category:"})," ",p.category]})]})]})]})}const PP="917821085631";function au(){const i=`https://wa.me/${PP}?text=${encodeURIComponent("Hi! I'm interested in UrbanFrill products.")}`;return v.jsxs("footer",{className:"uf-footer",children:[v.jsxs("div",{className:"footer-container",children:[v.jsxs("div",{className:"footer-about",children:[v.jsx("div",{className:"footer-logo",children:"UF"}),v.jsx("h3",{children:"UrbanFrill"}),v.jsx("p",{children:"Premium furnishings  Curtains, Wallpapers, Bedbacks & more. We deliver across India with custom-made quality."})]}),v.jsxs("div",{className:"footer-contact",children:[v.jsx("h4",{children:"Contact Us"}),v.jsxs("ul",{children:[v.jsx("li",{children:v.jsx("a",{href:i,target:"_blank",rel:"noreferrer",children:"WhatsApp: +91 78210 85631"})}),v.jsx("li",{children:v.jsx("a",{href:"mailto:urbanfrill@gmail.com",children:"urbanfrill@gmail.com"})}),v.jsx("li",{children:"Pune, Maharashtra, India"})]})]}),v.jsxs("div",{className:"footer-links",children:[v.jsx("h4",{children:"Quick Links"}),v.jsxs("ul",{children:[v.jsx("li",{children:v.jsx("a",{href:"#products",children:"Products"})}),v.jsx("li",{children:v.jsx("a",{href:"#services",children:"Services"})}),v.jsx("li",{children:v.jsx("a",{href:"#about",children:"About"})}),v.jsx("li",{children:v.jsx("a",{href:"#contact",children:"Contact"})})]})]})]}),v.jsx("div",{className:"footer-bottom",children:v.jsxs("p",{children:[" ",new Date().getFullYear()," UrbanFrill. All rights reserved."]})})]})}function gu({children:i,direction:e="up",delay:n=0}){const s=M.useRef();M.useEffect(()=>{const u=s.current;if(!u)return;const h=new IntersectionObserver(([g])=>{g.isIntersecting&&(setTimeout(()=>u.classList.add("visible"),n),h.unobserve(u))},{threshold:.2});h.observe(u);try{const g=u.getBoundingClientRect();g.top<window.innerHeight&&g.bottom>0&&setTimeout(()=>{u.classList.add("visible");try{h.unobserve(u)}catch{}},n)}catch{}const m=Math.max(300,n+300),p=setTimeout(()=>{if(!u.classList.contains("visible")){u.classList.add("visible");try{h.unobserve(u)}catch{}}},m);return()=>{clearTimeout(p),h.disconnect()}},[n]);const o=e==="left"?"reveal-left":e==="right"?"reveal-right":"";return v.jsx("div",{ref:s,className:`reveal ${o}`,children:i})}function VP(){const[i,e]=M.useState({name:"",phone:"",message:""}),[n,s]=M.useState(""),o=h=>{const{name:m,value:p}=h.target;e(g=>({...g,[m]:p}))},u=h=>{if(h.preventDefault(),!i.name||!i.phone||!i.message){s("Please fill in all fields."),setTimeout(()=>s(""),2500);return}const m={name:i.name,phone:i.phone,message:i.message,date:new Date().toISOString()};(async()=>{try{nn?await DM(_M(nn,"contacts"),m):console.log("ContactForm (no db):",m)}catch(p){console.warn("Failed to save contact to Firestore:",p)}})(),e({name:"",phone:"",message:""}),s(" Thank you  your message has been recorded."),setTimeout(()=>s(""),3500)};return v.jsx("div",{className:"contact-form-outer",children:v.jsxs("div",{className:"contact-form-container",children:[v.jsx("h2",{children:"Contact Us"}),v.jsx("p",{className:"lead",children:"Leave your details below  well reach out soon."}),v.jsxs("form",{onSubmit:u,className:"contact-form",noValidate:!0,children:[v.jsx("input",{type:"text",name:"name",placeholder:"Your Name",value:i.name,onChange:o,className:"cf-input",autoComplete:"name"}),v.jsx("input",{type:"tel",name:"phone",placeholder:"Phone Number",value:i.phone,onChange:o,className:"cf-input",autoComplete:"tel"}),v.jsx("textarea",{name:"message",placeholder:"Your Message",value:i.message,onChange:o,rows:"4",className:"cf-textarea"}),v.jsx("div",{className:"cf-actions",children:v.jsx("button",{type:"submit",className:"submit-btn",children:"Submit"})})]}),n&&v.jsx("div",{className:"cf-success",children:n})]})})}function LP(){const{signup:i,login:e,googleSignIn:n}=Cr(),[s,o]=M.useState(!1),[u,h]=M.useState(""),[m,p]=M.useState(""),[g,T]=M.useState(""),[b,A]=M.useState(!1),[O,z]=M.useState(""),P=async U=>{U.preventDefault(),z(""),A(!0);try{s?await i(m,g,u||void 0):await e(m,g)}catch(K){console.error("Auth error:",K);let J=K.message||"Authentication failed";K.code==="auth/unauthorized-domain"?J="Domain not authorized. Check Firebase Console  Authentication  Settings  Authorized domains":K.code==="auth/network-request-failed"&&(J="Network error. Check your connection and Firebase configuration."),z(J)}finally{A(!1)}},L=async()=>{z(""),A(!0);try{await n()}catch(U){console.error("Google sign-in error:",U);let K=U.message||"Google sign-in failed";U.code==="auth/unauthorized-domain"&&(K="Domain not authorized. Check Firebase Console  Authentication  Settings  Authorized domains"),z(K)}finally{A(!1)}};return v.jsxs("div",{className:"auth-card",children:[v.jsx("h3",{children:s?"Create an account":"Login"}),v.jsxs("button",{type:"button",className:"google-btn",onClick:L,disabled:b,children:[v.jsx("span",{className:"google-icon","aria-hidden":!0}),"Continue with Google"]}),v.jsx("div",{className:"divider",children:"or"}),v.jsxs("form",{onSubmit:P,className:"auth-form",noValidate:!0,children:[s&&v.jsx("input",{placeholder:"Full name",value:u,onChange:U=>h(U.target.value),autoComplete:"name"}),v.jsx("input",{type:"email",placeholder:"Email address",value:m,onChange:U=>p(U.target.value),required:!0,autoComplete:"email"}),v.jsx("input",{type:"password",placeholder:"Password",value:g,onChange:U=>T(U.target.value),required:!0,autoComplete:s?"new-password":"current-password"}),O&&v.jsx("div",{className:"auth-error",children:O}),v.jsxs("div",{className:"auth-actions",children:[v.jsx("button",{type:"submit",disabled:b,children:b?"Please wait...":s?"Sign up":"Login"}),v.jsx("button",{type:"button",className:"link-button",onClick:()=>{o(U=>!U),z("")},children:s?"Already have an account? Login":"No account? Sign up"})]})]})]})}function UP({open:i,onClose:e}){return i?v.jsx("div",{className:"am-overlay",onClick:e,role:"dialog","aria-modal":"true",children:v.jsxs("div",{className:"am-card",onClick:n=>n.stopPropagation(),children:[v.jsx("button",{className:"am-close",onClick:e,"aria-label":"Close",children:""}),v.jsx(LP,{})]})}):null}function jP({product:i,onView:e=()=>{},index:n=0,promptLogin:s=()=>{}}){const o=_i(),{user:u}=Cr(),{addToCart:h}=ju(),[m,p]=M.useState(!1),g=M.useMemo(()=>Number(i.price)||0,[i.price]),T=i.images?.[0]||i.image,b=typeof n=="number"&&n>=0&&n<6,A=M.useMemo(()=>Lh(T),[T]),O=M.useCallback(()=>{if(!u){s();return}h({id:i.id,name:i.name,price:g,image:A,qty:1}),p(!0),setTimeout(()=>p(!1),1600)},[u,h,i.id,i.name,g,A,s]),z=M.useCallback(()=>{if(!u){s();return}h({id:i.id,name:i.name,price:g,image:A,qty:1}),o("/checkout")},[u,h,i.id,i.name,g,A,s,o]),P=M.useCallback(()=>e(i),[e,i]);return v.jsxs("article",{className:"pc-card",role:"listitem",children:[v.jsx("button",{className:"pc-media",onClick:P,"aria-label":`View ${i.name}`,children:v.jsx("img",{src:ga(T),alt:i.name,onError:L=>L.currentTarget.src=rn("images/logo.png"),loading:b?"eager":"lazy",decoding:"async",fetchPriority:b?"high":"auto",sizes:"(max-width:560px) 100vw, (max-width:980px) 50vw, 33vw"},`${i.id}-${u?.uid||"guest"}`)}),v.jsxs("div",{className:"pc-body",children:[v.jsx("h3",{className:"pc-title",onClick:P,style:{cursor:"pointer"},children:i.name}),v.jsx("p",{className:"pc-desc",children:i.desc}),v.jsxs("div",{className:"pc-footer",children:[v.jsxs("div",{className:"pc-price",children:["",g.toLocaleString()]}),v.jsxs("div",{className:"pc-buttons",children:[v.jsx("button",{className:`pc-btn pc-add ${m?"added":""}`,onClick:O,disabled:m,children:m?" Added":"Add to cart"}),v.jsx("button",{className:"pc-btn pc-buy",onClick:z,children:"Buy now"})]})]})]})]})}const aA=cn.memo(jP);function lf({categories:i=[],selected:e,onSelect:n,minPrice:s=0,maxPrice:o=0,priceMin:u,priceMax:h,onPriceChange:m,sort:p="relevance",onSortChange:g,onReset:T}){const b=M.useMemo(()=>i||[],[i]),[A,O]=M.useState(u),[z,P]=M.useState(h);cn.useEffect(()=>{O(u),P(h)},[u,h]);const L=()=>{m&&m({min:A,max:z})},U=()=>{T?T():(n&&n("All"),m&&m({min:s,max:o}),g&&g("relevance"),O(s),P(o))},K=M.useMemo(()=>e&&e!=="All"||(u!==s||h!==o)||p&&p!=="relevance",[e,u,h,s,o,p]);return v.jsx("aside",{className:"pf-aside","aria-label":"Product filters",children:v.jsxs("div",{className:"pf-aside-inner",children:[T&&K&&v.jsx("button",{className:"pf-reset-btn",onClick:U,type:"button","aria-label":"Reset all filters",children:"Reset Filters"}),v.jsx("h4",{className:"pf-title",children:"Filter by category"}),v.jsx("nav",{className:"pf-list",role:"listbox","aria-activedescendant":e,children:b.map(J=>{const ue=J===e;return v.jsx("button",{id:J,onClick:()=>n&&n(J),className:`pf-item ${ue?"active":""}`,"aria-pressed":ue,children:J},J)})}),m?v.jsxs("div",{className:"pf-block",children:[v.jsx("h4",{className:"pf-title",style:{marginTop:12},children:"Price"}),v.jsxs("div",{className:"pf-price",children:[v.jsxs("label",{children:["Min",v.jsx("input",{type:"number",inputMode:"numeric",min:s,max:o,value:A,onChange:J=>O(Number(J.target.value))})]}),v.jsxs("label",{children:["Max",v.jsx("input",{type:"number",inputMode:"numeric",min:s,max:o,value:z,onChange:J=>P(Number(J.target.value))})]})]}),v.jsxs("div",{className:"pf-hint",children:["",s.toLocaleString(),"  ",o.toLocaleString()]}),v.jsx("button",{className:"pf-apply-btn",onClick:L,children:"Apply Price"})]}):null,g?v.jsxs("div",{className:"pf-block",children:[v.jsx("h4",{className:"pf-title",style:{marginTop:12},children:"Sort"}),v.jsxs("select",{className:"pf-select",value:p,onChange:J=>g(J.target.value),children:[v.jsx("option",{value:"relevance",children:"Relevance"}),v.jsx("option",{value:"price-asc",children:"Price: Low to High"}),v.jsx("option",{value:"price-desc",children:"Price: High to Low"})]})]}):null]})})}function oA(){return v.jsxs("article",{className:"pc-card","aria-hidden":"true",children:[v.jsx("div",{className:"pc-media",children:v.jsx("div",{className:"skeleton skeleton-media"})}),v.jsxs("div",{className:"pc-body",children:[v.jsx("div",{className:"skeleton skeleton-line",style:{width:"60%",height:18}}),v.jsx("div",{className:"skeleton skeleton-line",style:{width:"80%",height:14}}),v.jsx("div",{style:{flex:1}}),v.jsxs("div",{style:{display:"flex",gap:8},children:[v.jsx("div",{className:"skeleton skeleton-btn"}),v.jsx("div",{className:"skeleton skeleton-btn"})]})]})]})}function zP({promptLogin:i=()=>{}}){const{category:e}=P0(),n=_i(),s=Wn(),[o,u]=M.useState(""),[h,m]=M.useState(null),[p,g]=M.useState(null),[T,b]=M.useState("relevance"),[A,O]=M.useState(!1),z=M.useMemo(()=>["All",...new Set(Ts.map(re=>(re.category||"").trim()).filter(Boolean))],[]),P=M.useMemo(()=>{const se=Ts.map(R=>Number(R.price)||0),re=se.length?Math.min(...se):0,I=se.length?Math.max(...se):0;return{min:re,max:I}},[]);M.useEffect(()=>{h===null&&m(P.min),p===null&&g(P.max)},[P,h,p]);const L=M.useCallback(({min:se,max:re})=>{m(Number.isFinite(se)?se:P.min),g(Number.isFinite(re)?re:P.max)},[P.min,P.max]),U=M.useMemo(()=>{const se=o.trim().toLowerCase(),re=decodeURIComponent(e),I=Ts.filter(R=>{const C=Number(R.price)||0,k=re==="All"||R.category===re,D=C>=(h||P.min)&&C<=(p||P.max);if(!se)return k&&D;const B=(R.name||"").toLowerCase(),N=(R.desc||"").toLowerCase();return k&&D&&(B.includes(se)||N.includes(se))});return T==="price-asc"&&I.sort((R,C)=>(R.price||0)-(C.price||0)),T==="price-desc"&&I.sort((R,C)=>(C.price||0)-(R.price||0)),I},[e,o,h,p,T,P]);M.useEffect(()=>{const se=window.innerWidth<768,re=se?6:12,I=se?2:4,R=se?800:1200,C=U.slice(0,re).map(ze=>Array.isArray(ze.images)&&ze.images[0]||ze.image).filter(Boolean);if(!C.length)return;O(!0);let k=0;const D=[];let B=!1;const N=()=>{B||(B=!0,O(!1),D.splice(0,D.length))},Ve=setTimeout(()=>N(),R);return C.forEach(ze=>{try{const X=new Image;D.push(X),X.onload=()=>{k+=1,k>=Math.min(I,C.length)&&N()},X.onerror=()=>{k+=1,k>=Math.min(I,C.length)&&N()},X.src=ga(ze)}catch{}}),()=>{clearTimeout(Ve),B=!0,D.forEach(ze=>{ze.onload=null,ze.onerror=null})}},[U]);const K=M.useCallback(se=>{se&&n(`/product/${se.id}`,{state:{from:s.pathname}})},[n,s.pathname]),J=M.useCallback(se=>{n(`/category/${encodeURIComponent(se)}`)},[n]),ue=M.useCallback(()=>{u(""),m(P.min),g(P.max),b("relevance"),n("/category/All")},[P.min,P.max,n]);return v.jsxs("main",{children:[v.jsxs("div",{className:"products-layout",children:[v.jsx(lf,{categories:z,selected:decodeURIComponent(e),onSelect:J,minPrice:P.min,maxPrice:P.max,priceMin:h||P.min,priceMax:p||P.max,onPriceChange:L,sort:T,onSortChange:b,onReset:ue}),v.jsxs("div",{className:"products-main",children:[v.jsxs("div",{className:"products-search",children:[v.jsx("input",{className:"products-search-input",placeholder:"Search products...",value:o,onChange:se=>u(se.target.value),"aria-label":"Search products"}),v.jsx("button",{className:"filters-toggle",type:"button","aria-controls":"filters-drawer","aria-expanded":!1,onClick:()=>{document.documentElement.classList.add("no-scroll"),document.getElementById("filters-drawer")?.classList.add("show"),document.getElementById("filters-overlay")?.classList.add("show")},children:"Filters"})]}),v.jsx(gu,{direction:"up",children:v.jsx("div",{className:"pf-grid",role:"list",style:{maxWidth:"1100px",margin:"20px auto"},children:A?Array.from({length:8}).map((se,re)=>v.jsx(oA,{},`sk-${re}`)):U.length>0?U.map((se,re)=>v.jsx(aA,{product:se,onView:K,promptLogin:i,index:re},se.id)):v.jsx("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"40px 20px"},children:v.jsx("p",{children:"No products found in this category."})})})})]})]}),v.jsx("div",{id:"filters-overlay",className:"filters-overlay",onClick:()=>{document.getElementById("filters-drawer")?.classList.remove("show"),document.getElementById("filters-overlay")?.classList.remove("show"),document.documentElement.classList.remove("no-scroll")}}),v.jsxs("aside",{id:"filters-drawer",className:"filters-drawer",role:"dialog","aria-modal":"true","aria-label":"Filters",onKeyDown:se=>{se.key==="Escape"&&(document.getElementById("filters-drawer")?.classList.remove("show"),document.getElementById("filters-overlay")?.classList.remove("show"),document.documentElement.classList.remove("no-scroll"))},children:[v.jsxs("div",{className:"filters-drawer-bar",children:[v.jsx("span",{children:"Filters"}),v.jsx("button",{type:"button","aria-label":"Close filters",onClick:()=>{document.getElementById("filters-drawer")?.classList.remove("show"),document.getElementById("filters-overlay")?.classList.remove("show"),document.documentElement.classList.remove("no-scroll")},children:""})]}),v.jsx("div",{className:"filters-drawer-body",children:v.jsx(lf,{categories:z,selected:decodeURIComponent(e),onSelect:se=>{J(se)},minPrice:P.min,maxPrice:P.max,priceMin:h||P.min,priceMax:p||P.max,onPriceChange:L,sort:T,onSortChange:b,onReset:()=>{ue(),document.getElementById("filters-drawer")?.classList.remove("show"),document.getElementById("filters-overlay")?.classList.remove("show"),document.documentElement.classList.remove("no-scroll")}})}),v.jsx("div",{className:"filters-drawer-actions",children:v.jsx("button",{className:"fda-apply",type:"button",onClick:()=>{document.getElementById("filters-drawer")?.classList.remove("show"),document.getElementById("filters-overlay")?.classList.remove("show"),document.documentElement.classList.remove("no-scroll")},children:"Apply & Close"})})]})]})}const BP=cn.memo(zP);function qP({promptLogin:i=()=>{}}){const e=_i(),n=Wn();M.useEffect(()=>{const re=n.state?.scrollTo||(n.hash?n.hash.replace("#",""):null);if(!re)return;const I=setTimeout(()=>{const R=document.getElementById(re);R&&R.scrollIntoView({behavior:"smooth"});try{const C=window.location.pathname+window.location.search+(n.hash||"");window.history.replaceState({},document.title,C)}catch{}},120);return()=>clearTimeout(I)},[n]);const[s,o]=M.useState("All"),[u,h]=M.useState(""),m=M.useMemo(()=>["All",...new Set(Ts.map(I=>(I.category||"").trim()).filter(Boolean))],[]),p=M.useMemo(()=>{const re=Ts.map(C=>Number(C.price)||0),I=re.length?Math.min(...re):0,R=re.length?Math.max(...re):0;return{min:I,max:R}},[]),[g,T]=M.useState(p.min),[b,A]=M.useState(p.max),[O,z]=M.useState("relevance"),P=M.useCallback(({min:re,max:I})=>{T(Number.isFinite(re)?re:p.min),A(Number.isFinite(I)?I:p.max)},[p.min,p.max]),L=M.useMemo(()=>{const re=u.trim().toLowerCase(),I=Ts.filter(R=>{const C=Number(R.price)||0,k=s==="All"||R.category===s,D=C>=g&&C<=b;if(!re)return k&&D;const B=(R.name||"").toLowerCase(),N=(R.desc||"").toLowerCase();return k&&D&&(B.includes(re)||N.includes(re))});return O==="price-asc"&&I.sort((R,C)=>(R.price||0)-(C.price||0)),O==="price-desc"&&I.sort((R,C)=>(C.price||0)-(R.price||0)),I},[s,u,g,b,O]),[U,K]=M.useState(!1);M.useEffect(()=>{const R=L.slice(0,12).map(Ve=>Array.isArray(Ve.images)&&Ve.images[0]||Ve.image).filter(Boolean);if(!R.length)return;K(!0);let C=0;const k=[];let D=!1;const B=()=>{D||(D=!0,K(!1),k.splice(0,k.length))},N=setTimeout(()=>B(),1200);return R.forEach(Ve=>{try{const ze=new Image;k.push(ze),ze.onload=()=>{C+=1,C>=Math.min(4,R.length)&&B()},ze.onerror=()=>{C+=1,C>=Math.min(4,R.length)&&B()},ze.src=ga(Ve)}catch{}}),()=>{clearTimeout(N),D=!0,k.forEach(Ve=>{Ve.onload=null,Ve.onerror=null})}},[L]);const J=M.useCallback(re=>{re&&e(`/product/${re.id}`,{state:{from:n.pathname}})},[e,n.pathname]),ue=M.useCallback(re=>{re==="All"?o("All"):e(`/category/${encodeURIComponent(re)}`)},[e]),se=M.useCallback(()=>{o("All"),h(""),T(p.min),A(p.max),z("relevance")},[p.min,p.max]);return v.jsxs("main",{children:[v.jsx("section",{id:"home",children:v.jsx(gu,{direction:"up",children:v.jsx(MP,{})})}),v.jsxs("section",{id:"products",className:"products-section-bg",children:[v.jsxs("div",{className:"products-layout",children:[v.jsx(lf,{categories:m,selected:s,onSelect:ue,minPrice:p.min,maxPrice:p.max,priceMin:g,priceMax:b,onPriceChange:P,sort:O,onSortChange:z,onReset:se}),v.jsxs("div",{className:"products-main",children:[v.jsxs("div",{className:"products-search",children:[v.jsx("input",{className:"products-search-input",placeholder:"Search products...",value:u,onChange:re=>h(re.target.value),"aria-label":"Search products"}),v.jsx("button",{className:"filters-toggle",type:"button","aria-controls":"filters-drawer","aria-expanded":!1,onClick:()=>{document.documentElement.classList.add("no-scroll"),document.getElementById("filters-drawer")?.classList.add("show"),document.getElementById("filters-overlay")?.classList.add("show")},children:"Filters"})]}),v.jsx(gu,{direction:"up",children:v.jsx("div",{className:"pf-grid",role:"list",style:{maxWidth:"1100px",margin:"20px auto"},children:U?Array.from({length:8}).map((re,I)=>v.jsx(oA,{},`sk-${I}`)):L.map((re,I)=>v.jsx(aA,{product:re,onView:J,promptLogin:i,index:I},re.id))})})]})]}),v.jsx("div",{id:"filters-overlay",className:"filters-overlay",onClick:()=>{document.getElementById("filters-drawer")?.classList.remove("show"),document.getElementById("filters-overlay")?.classList.remove("show"),document.documentElement.classList.remove("no-scroll")}}),v.jsxs("aside",{id:"filters-drawer",className:"filters-drawer",role:"dialog","aria-modal":"true","aria-label":"Filters",onKeyDown:re=>{re.key==="Escape"&&(document.getElementById("filters-drawer")?.classList.remove("show"),document.getElementById("filters-overlay")?.classList.remove("show"),document.documentElement.classList.remove("no-scroll"))},children:[v.jsxs("div",{className:"filters-drawer-bar",children:[v.jsx("span",{children:"Filters"}),v.jsx("button",{type:"button","aria-label":"Close filters",onClick:()=>{document.getElementById("filters-drawer")?.classList.remove("show"),document.getElementById("filters-overlay")?.classList.remove("show"),document.documentElement.classList.remove("no-scroll")},children:""})]}),v.jsx("div",{className:"filters-drawer-body",children:v.jsx(lf,{categories:m,selected:s,onSelect:re=>{re==="All"?o("All"):e(`/category/${encodeURIComponent(re)}`),document.getElementById("filters-drawer")?.classList.remove("show"),document.getElementById("filters-overlay")?.classList.remove("show"),document.documentElement.classList.remove("no-scroll")},minPrice:p.min,maxPrice:p.max,priceMin:g,priceMax:b,onPriceChange:P,sort:O,onSortChange:z,onReset:()=>{se(),document.getElementById("filters-drawer")?.classList.remove("show"),document.getElementById("filters-overlay")?.classList.remove("show"),document.documentElement.classList.remove("no-scroll")}})}),v.jsx("div",{className:"filters-drawer-actions",children:v.jsx("button",{className:"fda-apply",type:"button",onClick:()=>{document.getElementById("filters-drawer")?.classList.remove("show"),document.getElementById("filters-overlay")?.classList.remove("show"),document.documentElement.classList.remove("no-scroll")},children:"Apply & Close"})})]})]}),v.jsx(gu,{direction:"up",children:v.jsx("section",{id:"contact",children:v.jsx(VP,{})})}),v.jsx("section",{children:v.jsx(au,{})})]})}const FP=cn.memo(qP);function HP(){M.useEffect(()=>{Vf()},[]);const i=_i(),{cart:e,itemCount:n,subTotal:s,updateQty:o,removeFromCart:u,clearCart:h}=ju(),m=T=>o(T.id,(T.qty||1)+1),p=T=>o(T.id,Math.max(1,(T.qty||1)-1)),g=()=>{e.length!==0&&i("/checkout")};return v.jsx("div",{className:"cart-page",children:v.jsxs("div",{className:"cart-container",children:[v.jsxs("div",{className:"cart-header",children:[v.jsx("h1",{children:"Your Cart"}),e.length>0&&v.jsx("button",{className:"cart-clear-btn",onClick:()=>{confirm("Clear cart?")&&h()},children:"Clear Cart"})]}),e.length===0?v.jsxs("div",{className:"cart-empty",children:[v.jsx("p",{children:"Your cart is empty."}),v.jsx("button",{className:"cart-shop-btn",onClick:()=>i("/category/All"),children:"Continue Shopping"})]}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"cart-items",children:e.map(T=>v.jsxs("div",{className:"cart-item",children:[v.jsx("img",{className:"cart-item-thumb",src:ga(T.image),alt:T.name,loading:"lazy",onError:b=>b.currentTarget.src=rn("images/logo.png")}),v.jsxs("div",{className:"cart-item-meta",children:[v.jsx("div",{className:"cart-item-name",children:T.name}),v.jsxs("div",{className:"cart-item-price",children:["",Number(T.price||0).toLocaleString()]}),v.jsxs("div",{className:"cart-item-controls",children:[v.jsxs("div",{className:"cart-item-qty",children:[v.jsx("button",{className:"cart-qty-btn",onClick:()=>p(T),"aria-label":"Decrease quantity",children:""}),v.jsx("input",{type:"number",min:"1",value:T.qty,onChange:b=>o(T.id,Number(b.target.value)||1)}),v.jsx("button",{className:"cart-qty-btn",onClick:()=>m(T),"aria-label":"Increase quantity",children:"+"})]}),v.jsx("button",{className:"cart-remove-btn",onClick:()=>u(T.id),children:"Remove"})]})]})]},T.id))}),v.jsxs("div",{className:"cart-summary",children:[v.jsxs("div",{className:"cart-summary-row",children:[v.jsx("span",{children:"Items:"}),v.jsx("span",{children:n})]}),v.jsxs("div",{className:"cart-summary-row",children:[v.jsx("span",{children:"Subtotal:"}),v.jsxs("strong",{children:["",Number(s||0).toLocaleString()]})]}),v.jsx("button",{className:"cart-checkout-btn",onClick:g,children:"Proceed to Checkout"}),v.jsx("button",{className:"cart-continue-btn",onClick:()=>i("/category/All"),children:"Continue Shopping"})]})]})]})})}function GP(){M.useEffect(()=>{Vf()},[]);const i=_i(),{cart:e,itemCount:n,subTotal:s,clearCart:o}=ju(),{user:u}=Cr(),[h,m]=M.useState({name:u?.displayName||"",email:u?.email||"",phone:"",address:"",city:"",state:"",pincode:"",paymentMethod:"cod"}),p=T=>{m({...h,[T.target.name]:T.target.value})},g=async T=>{if(T.preventDefault(),!h.name||!h.email||!h.phone||!h.address||!h.city||!h.state||!h.pincode){alert("Please fill in all required fields");return}alert(`Order placed successfully!

Order Total: ${Number(s||0).toLocaleString()}

We'll contact you soon for delivery.`),o(),i("/")};return e.length===0?v.jsx("div",{className:"checkout-page",children:v.jsx("div",{className:"checkout-container",children:v.jsxs("div",{className:"checkout-empty",children:[v.jsx("h2",{children:"Your cart is empty"}),v.jsx("p",{children:"Add some items to your cart before checkout."}),v.jsx("button",{className:"checkout-shop-btn",onClick:()=>i("/category/All"),children:"Continue Shopping"})]})})}):v.jsx("div",{className:"checkout-page",children:v.jsxs("div",{className:"checkout-container",children:[v.jsxs("div",{className:"checkout-header",children:[v.jsx("h1",{children:"Checkout"}),v.jsx("button",{className:"checkout-back-btn",onClick:()=>i("/cart"),children:" Back to Cart"})]}),v.jsxs("div",{className:"checkout-content",children:[v.jsxs("div",{className:"checkout-form-section",children:[v.jsx("h2",{children:"Shipping Information"}),v.jsxs("form",{onSubmit:g,className:"checkout-form",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"name",children:"Full Name *"}),v.jsx("input",{type:"text",id:"name",name:"name",value:h.name,onChange:p,required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"email",children:"Email *"}),v.jsx("input",{type:"email",id:"email",name:"email",value:h.email,onChange:p,required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"phone",children:"Phone Number *"}),v.jsx("input",{type:"tel",id:"phone",name:"phone",value:h.phone,onChange:p,required:!0,pattern:"[0-9]{10}",placeholder:"10 digit phone number"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"address",children:"Address *"}),v.jsx("textarea",{id:"address",name:"address",value:h.address,onChange:p,required:!0,rows:"3",placeholder:"Street address, apartment, suite, etc."})]}),v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"city",children:"City *"}),v.jsx("input",{type:"text",id:"city",name:"city",value:h.city,onChange:p,required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"state",children:"State *"}),v.jsx("input",{type:"text",id:"state",name:"state",value:h.state,onChange:p,required:!0})]})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"pincode",children:"PIN Code *"}),v.jsx("input",{type:"text",id:"pincode",name:"pincode",value:h.pincode,onChange:p,required:!0,pattern:"[0-9]{6}",placeholder:"6 digit PIN code"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"paymentMethod",children:"Payment Method *"}),v.jsxs("select",{id:"paymentMethod",name:"paymentMethod",value:h.paymentMethod,onChange:p,required:!0,children:[v.jsx("option",{value:"cod",children:"Cash on Delivery"}),v.jsx("option",{value:"online",disabled:!0,children:"Online Payment (Coming Soon)"})]})]}),v.jsx("button",{type:"submit",className:"checkout-submit-btn",children:"Place Order"})]})]}),v.jsxs("div",{className:"checkout-summary-section",children:[v.jsx("h2",{children:"Order Summary"}),v.jsx("div",{className:"checkout-items",children:e.map(T=>v.jsxs("div",{className:"checkout-item",children:[v.jsx("img",{className:"checkout-item-thumb",src:ga(T.image),alt:T.name,loading:"lazy",onError:b=>b.currentTarget.src=rn("images/logo.png")}),v.jsxs("div",{className:"checkout-item-info",children:[v.jsx("div",{className:"checkout-item-name",children:T.name}),v.jsxs("div",{className:"checkout-item-details",children:[v.jsxs("span",{children:["Qty: ",T.qty]}),v.jsxs("span",{children:["",Number(T.price||0).toLocaleString()]})]})]})]},T.id))}),v.jsxs("div",{className:"checkout-totals",children:[v.jsxs("div",{className:"checkout-total-row",children:[v.jsxs("span",{children:["Items (",n,"):"]}),v.jsxs("span",{children:["",Number(s||0).toLocaleString()]})]}),v.jsxs("div",{className:"checkout-total-row",children:[v.jsx("span",{children:"Shipping:"}),v.jsx("span",{children:"Free"})]}),v.jsxs("div",{className:"checkout-total-row checkout-total-final",children:[v.jsx("span",{children:"Total:"}),v.jsxs("strong",{children:["",Number(s||0).toLocaleString()]})]})]})]})]})]})})}function $P(){const i=_i(),{user:e,logout:n,updateProfilePicture:s}=Cr(),[o,u]=M.useState(!1),[h,m]=M.useState(!1),[p,g]=M.useState(!1),[T,b]=M.useState(""),[A,O]=M.useState(""),z=cn.useRef(null),[P,L]=M.useState({displayName:"",email:"",phone:"",address:"",city:"",state:"",pincode:""});M.useEffect(()=>{Vf()},[]),M.useEffect(()=>{if(!e){i("/");return}(async()=>{u(!0);try{if(L(re=>({...re,displayName:e.displayName||"",email:e.email||""})),nn&&e.uid){const re=Es(nn,"users",e.uid),I=await gw(re);if(I.exists()){const R=I.data();L(C=>({...C,phone:R.phone||"",address:R.address||"",city:R.city||"",state:R.state||"",pincode:R.pincode||""}))}}}catch(re){console.error("Error loading user data:",re),b("Failed to load profile data")}finally{u(!1)}})(),new URLSearchParams(window.location.search).get("upload")==="photo"&&setTimeout(()=>{z.current?.click()},300)},[e,i]);const U=ue=>{L({...P,[ue.target.name]:ue.target.value}),b(""),O("")},K=async ue=>{const se=ue.target.files?.[0];if(se){if(!se.type.startsWith("image/")){b("Please select an image file");return}if(se.size>5*1024*1024){b("Image size should be less than 5MB");return}g(!0),b(""),O("");try{await s(se),O("Profile picture updated successfully!"),setTimeout(()=>O(""),3e3),z.current&&(z.current.value="")}catch(re){console.error("Error uploading photo:",re),b(re.message||"Failed to update profile picture")}finally{g(!1)}}},J=async ue=>{ue.preventDefault(),m(!0),b(""),O("");try{if(Zt.currentUser&&await vp(Zt.currentUser,{displayName:P.displayName}),nn&&e.uid){const se=Es(nn,"users",e.uid);await mu(se,{uid:e.uid,email:e.email||"",displayName:P.displayName,photoURL:e.photoURL||null,phone:P.phone||"",address:P.address||"",city:P.city||"",state:P.state||"",pincode:P.pincode||"",updatedAt:new Date().toISOString()},{merge:!0})}O("Profile updated successfully!"),setTimeout(()=>O(""),3e3)}catch(se){console.error("Error updating profile:",se),b(se.message||"Failed to update profile")}finally{m(!1)}};return e?o?v.jsx("div",{className:"profile-page",children:v.jsx("div",{className:"profile-container",children:v.jsx("div",{className:"profile-loading",children:"Loading profile..."})})}):v.jsx("div",{className:"profile-page",children:v.jsxs("div",{className:"profile-container",children:[v.jsxs("div",{className:"profile-header",children:[v.jsx("button",{className:"profile-back-btn",onClick:()=>i(-1),children:" Back"}),v.jsx("h1",{children:"My Profile"})]}),v.jsxs("div",{className:"profile-content",children:[v.jsxs("div",{className:"profile-info-card",children:[v.jsxs("div",{className:"profile-avatar-wrapper",children:[v.jsxs("div",{className:"profile-avatar",children:[e.photoURL?v.jsx("img",{src:e.photoURL,alt:e.displayName||"User"}):v.jsx("div",{className:"profile-avatar-placeholder",children:e.displayName?.[0]?.toUpperCase()||e.email?.[0]?.toUpperCase()||"U"}),p&&v.jsx("div",{className:"profile-avatar-overlay",children:v.jsx("div",{className:"profile-avatar-spinner"})})]}),v.jsxs("label",{className:"profile-avatar-upload-btn",htmlFor:"profile-photo-upload",children:[v.jsx(rA,{size:20}),v.jsx("span",{children:p?"Uploading...":"Change Photo"})]}),v.jsx("input",{ref:z,id:"profile-photo-upload",type:"file",accept:"image/*",style:{display:"none"},onChange:K,disabled:p})]}),v.jsx("div",{className:"profile-email",children:e.email})]}),v.jsxs("form",{onSubmit:J,className:"profile-form",children:[v.jsxs("div",{className:"form-section",children:[v.jsx("h2",{children:"Personal Information"}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"displayName",children:"Full Name *"}),v.jsx("input",{type:"text",id:"displayName",name:"displayName",value:P.displayName,onChange:U,required:!0,placeholder:"Enter your full name"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"email",children:"Email"}),v.jsx("input",{type:"email",id:"email",name:"email",value:P.email,disabled:!0,className:"disabled-input"}),v.jsx("small",{children:"Email cannot be changed"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"phone",children:"Phone Number"}),v.jsx("input",{type:"tel",id:"phone",name:"phone",value:P.phone,onChange:U,placeholder:"10 digit phone number",pattern:"[0-9]{10}"})]})]}),v.jsxs("div",{className:"form-section",children:[v.jsx("h2",{children:"Address Information"}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"address",children:"Address"}),v.jsx("textarea",{id:"address",name:"address",value:P.address,onChange:U,rows:"3",placeholder:"Street address, apartment, suite, etc."})]}),v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"city",children:"City"}),v.jsx("input",{type:"text",id:"city",name:"city",value:P.city,onChange:U,placeholder:"City"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"state",children:"State"}),v.jsx("input",{type:"text",id:"state",name:"state",value:P.state,onChange:U,placeholder:"State"})]})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"pincode",children:"PIN Code"}),v.jsx("input",{type:"text",id:"pincode",name:"pincode",value:P.pincode,onChange:U,placeholder:"6 digit PIN code",pattern:"[0-9]{6}"})]})]}),T&&v.jsx("div",{className:"profile-error",children:T}),A&&v.jsx("div",{className:"profile-success",children:A}),v.jsxs("div",{className:"profile-actions",children:[v.jsx("button",{type:"submit",className:"profile-save-btn",disabled:h,children:h?"Saving...":"Save Changes"}),v.jsx("button",{type:"button",className:"profile-logout-btn",onClick:()=>{confirm("Are you sure you want to logout?")&&(n(),i("/"))},children:"Logout"})]})]})]})]})}):null}function KP(){const{user:i}=Cr(),[e,n]=M.useState(!1);M.useEffect(()=>{i&&e&&n(!1)},[i,e]),M.useEffect(()=>{const o=document.body.style.overflowX;return document.body.style.overflowX="hidden",()=>document.body.style.overflowX=o},[]),M.useEffect(()=>{const o=document.body.style.overflow;return e?document.body.style.overflow="hidden":document.body.style.overflow=o||"",()=>document.body.style.overflow=o||""},[e]);const s=M.useCallback(()=>n(!0),[]);return v.jsx(oC,{basename:"/urbanfrill/",children:v.jsxs("div",{children:[v.jsx(UP,{open:e,onClose:()=>n(!1)}),v.jsx(NP,{onRequestAuth:s}),v.jsxs(UR,{children:[v.jsx(gr,{path:"/",element:v.jsx(FP,{promptLogin:s})}),v.jsx(gr,{path:"/products",element:v.jsx(DE,{to:"/category/All",replace:!0})}),v.jsx(gr,{path:"/category/:category",element:v.jsx(BP,{promptLogin:s})}),v.jsx(gr,{path:"/product/:productId",element:v.jsx("div",{children:v.jsxs("main",{children:[v.jsx(gu,{direction:"up",children:v.jsx(kP,{promptLogin:s})}),v.jsx(au,{})]})})}),v.jsx(gr,{path:"/cart",element:v.jsxs("div",{children:[v.jsx("main",{children:v.jsx(HP,{})}),v.jsx(au,{})]})}),v.jsx(gr,{path:"/checkout",element:v.jsxs("div",{children:[v.jsx("main",{children:v.jsx(GP,{})}),v.jsx(au,{})]})}),v.jsx(gr,{path:"/profile",element:v.jsxs("div",{children:[v.jsx("main",{children:v.jsx($P,{})}),v.jsx(au,{})]})}),v.jsx(gr,{path:"*",element:v.jsx(DE,{to:"/",replace:!0})})]})]})})}function YP({children:i}){const[e,n]=M.useState(null),[s,o]=M.useState(!0);M.useEffect(()=>r2(Zt,async A=>{n(A),o(!1);try{if(A&&nn){const O=Es(nn,"users",A.uid);await mu(O,{uid:A.uid,email:A.email||null,displayName:A.displayName||null,photoURL:A.photoURL||null,lastSeen:new Date().toISOString()},{merge:!0})}}catch{}}),[]);const T={user:e,loading:s,signup:async(b,A,O)=>{const P=(await JN(Zt,b,A)).user;O&&(await vp(P,{displayName:O}),n({...P,displayName:O}));try{P&&nn&&await mu(Es(nn,"users",P.uid),{uid:P.uid,email:P.email||null,displayName:O||P.displayName||null,photoURL:P.photoURL||null,createdAt:new Date().toISOString()},{merge:!0})}catch{}return P},login:(b,A)=>ZN(Zt,b,A),logout:()=>s2(Zt),googleSignIn:async()=>{const b=new yr;return(await w2(Zt,b)).user},updateProfilePicture:async b=>{if(!Zt.currentUser||!b)throw new Error("User not authenticated or no file provided");try{if(Zt.currentUser.photoURL&&ap)try{if(Zt.currentUser.photoURL.includes("firebasestorage.googleapis.com")){const P=new URL(Zt.currentUser.photoURL).pathname.match(/\/o\/(.+)\?/);if(P){const L=decodeURIComponent(P[1]),U=f0(ap,L);await Fk(U)}}}catch{}const A=f0(ap,`profile-pictures/${Zt.currentUser.uid}/${Date.now()}_${b.name}`);await Bk(A,b);const O=await qk(A);if(await vp(Zt.currentUser,{photoURL:O}),nn){const z=Es(nn,"users",Zt.currentUser.uid);await mu(z,{photoURL:O,updatedAt:new Date().toISOString()},{merge:!0})}return n({...Zt.currentUser,photoURL:O}),O}catch(A){throw console.error("Error updating profile picture:",A),A}}};return v.jsx(F0.Provider,{value:T,children:i})}Y1.createRoot(document.getElementById("root")).render(v.jsx(cn.StrictMode,{children:v.jsx(YP,{children:v.jsx(_P,{children:v.jsx(KP,{})})})}));
