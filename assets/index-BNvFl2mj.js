(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function a0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Am={exports:{}},Fl={};var Yv;function i1(){if(Yv)return Fl;Yv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Fl.Fragment=e,Fl.jsx=n,Fl.jsxs=n,Fl}var Qv;function r1(){return Qv||(Qv=1,Am.exports=i1()),Am.exports}var A=r1(),wm={exports:{}},Se={};var Xv;function s1(){if(Xv)return Se;Xv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function V(P){return P===null||typeof P!="object"?null:(P=w&&P[w]||P["@@iterator"],typeof P=="function"?P:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,U={};function Y(P,te,oe){this.props=P,this.context=te,this.refs=U,this.updater=oe||k}Y.prototype.isReactComponent={},Y.prototype.setState=function(P,te){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,te,"setState")},Y.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function Z(){}Z.prototype=Y.prototype;function J(P,te,oe){this.props=P,this.context=te,this.refs=U,this.updater=oe||k}var re=J.prototype=new Z;re.constructor=J,G(re,Y.prototype),re.isPureReactComponent=!0;var ue=Array.isArray;function le(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(P,te,oe){var he=oe.ref;return{$$typeof:i,type:P,key:te,ref:he!==void 0?he:null,props:oe}}function M(P,te){return I(P.type,te,P.props)}function O(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function j(P){var te={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(oe){return te[oe]})}var N=/\/+/g;function rt(P,te){return typeof P=="object"&&P!==null&&P.key!=null?j(""+P.key):te.toString(36)}function Nt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(le,le):(P.status="pending",P.then(function(te){P.status==="pending"&&(P.status="fulfilled",P.value=te)},function(te){P.status==="pending"&&(P.status="rejected",P.reason=te)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function X(P,te,oe,he,Te){var Ce=typeof P;(Ce==="undefined"||Ce==="boolean")&&(P=null);var Le=!1;if(P===null)Le=!0;else switch(Ce){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(P.$$typeof){case i:case e:Le=!0;break;case E:return Le=P._init,X(Le(P._payload),te,oe,he,Te)}}if(Le)return Te=Te(P),Le=he===""?"."+rt(P,0):he,ue(Te)?(oe="",Le!=null&&(oe=Le.replace(N,"$&/")+"/"),X(Te,te,oe,"",function(Ss){return Ss})):Te!=null&&(O(Te)&&(Te=M(Te,oe+(Te.key==null||P&&P.key===Te.key?"":(""+Te.key).replace(N,"$&/")+"/")+Le)),te.push(Te)),1;Le=0;var Dt=he===""?".":he+":";if(ue(P))for(var st=0;st<P.length;st++)he=P[st],Ce=Dt+rt(he,st),Le+=X(he,te,oe,Ce,Te);else if(st=V(P),typeof st=="function")for(P=st.call(P),st=0;!(he=P.next()).done;)he=he.value,Ce=Dt+rt(he,st++),Le+=X(he,te,oe,Ce,Te);else if(Ce==="object"){if(typeof P.then=="function")return X(Nt(P),te,oe,he,Te);throw te=String(P),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ae(P,te,oe){if(P==null)return P;var he=[],Te=0;return X(P,he,"","",function(Ce){return te.call(oe,Ce,Te++)}),he}function ge(P){if(P._status===-1){var te=P._result;te=te(),te.then(function(oe){(P._status===0||P._status===-1)&&(P._status=1,P._result=oe)},function(oe){(P._status===0||P._status===-1)&&(P._status=2,P._result=oe)}),P._status===-1&&(P._status=0,P._result=te)}if(P._status===1)return P._result.default;throw P._result}var je=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Ge={map:ae,forEach:function(P,te,oe){ae(P,function(){te.apply(this,arguments)},oe)},count:function(P){var te=0;return ae(P,function(){te++}),te},toArray:function(P){return ae(P,function(te){return te})||[]},only:function(P){if(!O(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Se.Activity=T,Se.Children=Ge,Se.Component=Y,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=J,Se.StrictMode=s,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Se.__COMPILER_RUNTIME={__proto__:null,c:function(P){return C.H.useMemoCache(P)}},Se.cache=function(P){return function(){return P.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(P,te,oe){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var he=G({},P.props),Te=P.key;if(te!=null)for(Ce in te.key!==void 0&&(Te=""+te.key),te)!R.call(te,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&te.ref===void 0||(he[Ce]=te[Ce]);var Ce=arguments.length-2;if(Ce===1)he.children=oe;else if(1<Ce){for(var Le=Array(Ce),Dt=0;Dt<Ce;Dt++)Le[Dt]=arguments[Dt+2];he.children=Le}return I(P.type,Te,he)},Se.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Se.createElement=function(P,te,oe){var he,Te={},Ce=null;if(te!=null)for(he in te.key!==void 0&&(Ce=""+te.key),te)R.call(te,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Te[he]=te[he]);var Le=arguments.length-2;if(Le===1)Te.children=oe;else if(1<Le){for(var Dt=Array(Le),st=0;st<Le;st++)Dt[st]=arguments[st+2];Te.children=Dt}if(P&&P.defaultProps)for(he in Le=P.defaultProps,Le)Te[he]===void 0&&(Te[he]=Le[he]);return I(P,Ce,Te)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(P){return{$$typeof:m,render:P}},Se.isValidElement=O,Se.lazy=function(P){return{$$typeof:E,_payload:{_status:-1,_result:P},_init:ge}},Se.memo=function(P,te){return{$$typeof:g,type:P,compare:te===void 0?null:te}},Se.startTransition=function(P){var te=C.T,oe={};C.T=oe;try{var he=P(),Te=C.S;Te!==null&&Te(oe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(le,je)}catch(Ce){je(Ce)}finally{te!==null&&oe.types!==null&&(te.types=oe.types),C.T=te}},Se.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Se.use=function(P){return C.H.use(P)},Se.useActionState=function(P,te,oe){return C.H.useActionState(P,te,oe)},Se.useCallback=function(P,te){return C.H.useCallback(P,te)},Se.useContext=function(P){return C.H.useContext(P)},Se.useDebugValue=function(){},Se.useDeferredValue=function(P,te){return C.H.useDeferredValue(P,te)},Se.useEffect=function(P,te){return C.H.useEffect(P,te)},Se.useEffectEvent=function(P){return C.H.useEffectEvent(P)},Se.useId=function(){return C.H.useId()},Se.useImperativeHandle=function(P,te,oe){return C.H.useImperativeHandle(P,te,oe)},Se.useInsertionEffect=function(P,te){return C.H.useInsertionEffect(P,te)},Se.useLayoutEffect=function(P,te){return C.H.useLayoutEffect(P,te)},Se.useMemo=function(P,te){return C.H.useMemo(P,te)},Se.useOptimistic=function(P,te){return C.H.useOptimistic(P,te)},Se.useReducer=function(P,te,oe){return C.H.useReducer(P,te,oe)},Se.useRef=function(P){return C.H.useRef(P)},Se.useState=function(P){return C.H.useState(P)},Se.useSyncExternalStore=function(P,te,oe){return C.H.useSyncExternalStore(P,te,oe)},Se.useTransition=function(){return C.H.useTransition()},Se.version="19.2.0",Se}var Wv;function Sp(){return Wv||(Wv=1,wm.exports=s1()),wm.exports}var L=Sp();const zn=a0(L);var Rm={exports:{}},Gl={},Cm={exports:{}},Im={};var Jv;function a1(){return Jv||(Jv=1,(function(i){function e(X,ae){var ge=X.length;X.push(ae);e:for(;0<ge;){var je=ge-1>>>1,Ge=X[je];if(0<o(Ge,ae))X[je]=ae,X[ge]=Ge,ge=je;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ae=X[0],ge=X.pop();if(ge!==ae){X[0]=ge;e:for(var je=0,Ge=X.length,P=Ge>>>1;je<P;){var te=2*(je+1)-1,oe=X[te],he=te+1,Te=X[he];if(0>o(oe,ge))he<Ge&&0>o(Te,oe)?(X[je]=Te,X[he]=ge,je=he):(X[je]=oe,X[te]=ge,je=te);else if(he<Ge&&0>o(Te,ge))X[je]=Te,X[he]=ge,je=he;else break e}}return ae}function o(X,ae){var ge=X.sortIndex-ae.sortIndex;return ge!==0?ge:X.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,T=null,w=3,V=!1,k=!1,G=!1,U=!1,Y=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function re(X){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=X)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function ue(X){if(G=!1,re(X),!k)if(n(p)!==null)k=!0,le||(le=!0,j());else{var ae=n(g);ae!==null&&Nt(ue,ae.startTime-X)}}var le=!1,C=-1,R=5,I=-1;function M(){return U?!0:!(i.unstable_now()-I<R)}function O(){if(U=!1,le){var X=i.unstable_now();I=X;var ae=!0;try{e:{k=!1,G&&(G=!1,Z(C),C=-1),V=!0;var ge=w;try{t:{for(re(X),T=n(p);T!==null&&!(T.expirationTime>X&&M());){var je=T.callback;if(typeof je=="function"){T.callback=null,w=T.priorityLevel;var Ge=je(T.expirationTime<=X);if(X=i.unstable_now(),typeof Ge=="function"){T.callback=Ge,re(X),ae=!0;break t}T===n(p)&&s(p),re(X)}else s(p);T=n(p)}if(T!==null)ae=!0;else{var P=n(g);P!==null&&Nt(ue,P.startTime-X),ae=!1}}break e}finally{T=null,w=ge,V=!1}ae=void 0}}finally{ae?j():le=!1}}}var j;if(typeof J=="function")j=function(){J(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,rt=N.port2;N.port1.onmessage=O,j=function(){rt.postMessage(null)}}else j=function(){Y(O,0)};function Nt(X,ae){C=Y(function(){X(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(X){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var ge=w;w=ae;try{return X()}finally{w=ge}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ge=w;w=X;try{return ae()}finally{w=ge}},i.unstable_scheduleCallback=function(X,ae,ge){var je=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?je+ge:je):ge=je,X){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=ge+Ge,X={id:E++,callback:ae,priorityLevel:X,startTime:ge,expirationTime:Ge,sortIndex:-1},ge>je?(X.sortIndex=ge,e(g,X),n(p)===null&&X===n(g)&&(G?(Z(C),C=-1):G=!0,Nt(ue,ge-je))):(X.sortIndex=Ge,e(p,X),k||V||(k=!0,le||(le=!0,j()))),X},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(X){var ae=w;return function(){var ge=w;w=ae;try{return X.apply(this,arguments)}finally{w=ge}}}})(Im)),Im}var Zv;function o1(){return Zv||(Zv=1,Cm.exports=a1()),Cm.exports}var Nm={exports:{}},Qt={};var eE;function l1(){if(eE)return Qt;eE=1;var i=Sp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Qt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Qt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:V}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Qt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,g){return p(g)},Qt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Qt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Qt.version="19.2.0",Qt}var tE;function u1(){if(tE)return Nm.exports;tE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Nm.exports=l1(),Nm.exports}var nE;function c1(){if(nE)return Gl;nE=1;var i=o1(),e=Sp(),n=u1();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,b=f.child;b;){if(b===a){_=!0,a=f,l=d;break}if(b===l){_=!0,l=f,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=f;break}if(b===l){_=!0,l=d,a=f;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function E(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=E(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),J=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case Y:return"Profiler";case U:return"StrictMode";case ue:return"Suspense";case le:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case J:return t.displayName||"Context";case Z:return(t._context.displayName||"Context")+".Consumer";case re:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return r=t.displayName||null,r!==null?r:rt(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return rt(t(r))}catch{}}return null}var Nt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},je=[],Ge=-1;function P(t){return{current:t}}function te(t){0>Ge||(t.current=je[Ge],je[Ge]=null,Ge--)}function oe(t,r){Ge++,je[Ge]=t.current,t.current=r}var he=P(null),Te=P(null),Ce=P(null),Le=P(null);function Dt(t,r){switch(oe(Ce,r),oe(Te,t),oe(he,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?yv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=yv(r),t=_v(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(he),oe(he,t)}function st(){te(he),te(Te),te(Ce)}function Ss(t){t.memoizedState!==null&&oe(Le,t);var r=he.current,a=_v(r,t.type);r!==a&&(oe(Te,t),oe(he,a))}function va(t){Te.current===t&&(te(he),te(Te)),Le.current===t&&(te(Le),zl._currentValue=ge)}var Ea,Ta;function hi(t){if(Ea===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ea=r&&r[1]||"",Ta=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ea+t+Ta}var zo=!1;function As(t,r){if(!t||zo)return"";zo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch($){var F=$}Reflect.construct(t,[],ee)}else{try{ee.call()}catch($){F=$}t.call(ee.prototype)}}else{try{throw Error()}catch($){F=$}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch($){if($&&F&&typeof $.stack=="string")return[$.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var D=_.split(`
`),H=b.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===H.length)for(l=D.length-1,f=H.length-1;1<=l&&0<=f&&D[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==H[f]){var Q=`
`+D[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=f);break}}}finally{zo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?hi(a):""}function Bo(t,r){switch(t.tag){case 26:case 27:case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return t.child!==r&&r!==null?hi("Suspense Fallback"):hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return As(t.type,!1);case 11:return As(t.type.render,!1);case 1:return As(t.type,!0);case 31:return hi("Activity");default:return""}}function qo(t){try{var r="",a=null;do r+=Bo(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var yt=Object.prototype.hasOwnProperty,Ot=i.unstable_scheduleCallback,Tr=i.unstable_cancelCallback,Rf=i.unstable_shouldYield,Du=i.unstable_requestPaint,en=i.unstable_now,ws=i.unstable_getCurrentPriorityLevel,Ho=i.unstable_ImmediatePriority,Fo=i.unstable_UserBlockingPriority,br=i.unstable_NormalPriority,Cf=i.unstable_LowPriority,Ou=i.unstable_IdlePriority,xu=i.log,Mu=i.unstable_setDisableYieldValue,Fn=null,zt=null;function wn(t){if(typeof xu=="function"&&Mu(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Fn,t)}catch{}}var ft=Math.clz32?Math.clz32:ku,Vu=Math.log,ba=Math.LN2;function ku(t){return t>>>=0,t===0?32:31-(Vu(t)/ba|0)|0}var fi=256,Rs=262144,_t=4194304;function di(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mi(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=di(l):(_&=b,_!==0?f=di(_):a||(a=b&~t,a!==0&&(f=di(a))))):(b=l&~d,b!==0?f=di(b):_!==0?f=di(_):a||(a=l&~t,a!==0&&(f=di(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Gn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function If(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pu(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function pi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Cs(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Nf(t,r,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,D=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var Q=31-ft(a),ee=1<<Q;b[Q]=0,D[Q]=-1;var F=H[Q];if(F!==null)for(H[Q]=null,Q=0;Q<F.length;Q++){var $=F[Q];$!==null&&($.lane&=-536870913)}a&=~ee}l!==0&&Is(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function Is(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-ft(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Go(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-ft(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function Ko(t,r){var a=r&-r;return a=(a&42)!==0?1:Ns(a),(a&(t.suspendedLanes|r))!==0?0:a}function Ns(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Lu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:Bv(t.type))}function Kn(t,r){var a=ae.p;try{return ae.p=t,r()}finally{ae.p=a}}var $n=Math.random().toString(36).slice(2),vt="__reactFiber$"+$n,Pt="__reactProps$"+$n,gi="__reactContainer$"+$n,Sa="__reactEvents$"+$n,Df="__reactListeners$"+$n,Uu="__reactHandles$"+$n,ju="__reactResources$"+$n,yi="__reactMarker$"+$n;function Aa(t){delete t[vt],delete t[Pt],delete t[Sa],delete t[Df],delete t[Uu]}function _i(t){var r=t[vt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[gi]||a[vt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=wv(t);t!==null;){if(a=t[vt])return a;t=wv(t)}return r}t=a,a=t.parentNode}return null}function Rn(t){if(t=t[vt]||t[gi]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function pn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function vi(t){var r=t[ju];return r||(r=t[ju]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Et(t){t[yi]=!0}var $o=new Set,Yo={};function Ei(t,r){Ti(t,r),Ti(t+"Capture",r)}function Ti(t,r){for(Yo[t]=r,t=0;t<r.length;t++)$o.add(r[t])}var Qo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xo={},Wo={};function zu(t){return yt.call(Wo,t)?!0:yt.call(Xo,t)?!1:Qo.test(t)?Wo[t]=!0:(Xo[t]=!0,!1)}function wa(t,r,a){if(zu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function gn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Tt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Jo(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ke(t){if(!t._valueTracker){var r=Sr(t)?"checked":"value";t._valueTracker=Jo(t,r,""+t[r])}}function Ds(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Sr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function bi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Os=/[\n"\\]/g;function sn(t){return t.replace(Os,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ra(t,r,a,l,f,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Lt(r)):t.value!==""+Lt(r)&&(t.value=""+Lt(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?Zo(t,_,Lt(r)):a!=null?Zo(t,_,Lt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Lt(b):t.removeAttribute("name")}function Bu(t,r,a,l,f,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Ke(t);return}a=a!=null?""+Lt(a):"",r=r!=null?""+Lt(r):a,b||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Zo(t,r,a){r==="number"&&bi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ar(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function qu(t,r,a){if(r!=null&&(r=""+Lt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Lt(a):""}function wr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Nt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Lt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function an(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function el(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Hu.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function tl(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&el(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&el(t,d,r[d])}function Ca(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(t){return Rr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yn(){}var nl=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cr=null,Si=null;function xs(t){var r=Rn(t);if(r&&(t=r.stateNode)){var a=t[Pt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ra(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[Pt]||null;if(!f)throw Error(s(90));Ra(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ds(l)}break e;case"textarea":qu(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ar(t,!!a.multiple,r,!1)}}}var Na=!1;function Ir(t,r,a){if(Na)return t(r,a);Na=!0;try{var l=t(r);return l}finally{if(Na=!1,(Cr!==null||Si!==null)&&(Lc(),Cr&&(r=Cr,t=Si,Si=Cr=null,xs(r),t)))for(r=0;r<t.length;r++)xs(t[r])}}function Qn(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ms=!1;if(In)try{var Qe={};Object.defineProperty(Qe,"passive",{get:function(){Ms=!0}}),window.addEventListener("test",Qe,Qe),window.removeEventListener("test",Qe,Qe)}catch{Ms=!1}var Ai=null,il=null,Vs=null;function rl(){if(Vs)return Vs;var t,r=il,a=r.length,l,f="value"in Ai?Ai.value:Ai.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===f[d-l];l++);return Vs=f.slice(t,1<l?1-l:void 0)}function ks(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Ki(){return!0}function Xn(){return!1}function Bt(t){function r(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ki:Xn,this.isPropagationStopped=Xn,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),r}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=Bt($i),Nr=T({},$i,{view:0,detail:0}),sl=Bt(Nr),Dr,Da,Ri,Oa=T({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(Dr=t.screenX-Ri.screenX,Da=t.screenY-Ri.screenY):Da=Dr=0,Ri=t),Dr)},movementY:function(t){return"movementY"in t?t.movementY:Da}}),al=Bt(Oa),Ps=T({},Oa,{dataTransfer:0}),Gu=Bt(Ps),Ku=T({},Nr,{relatedTarget:0}),Ls=Bt(Ku),ol=T({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),$u=Bt(ol),xa=T({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yu=Bt(xa),Qu=T({},$i,{data:0}),Ci=Bt(Qu),Xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ju[t])?!!r[t]:!1}function Or(){return Zu}var tn=T({},Nr,{key:function(t){if(t.key){var r=Xu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ks(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(t){return t.type==="keypress"?ks(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ks(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ec=Bt(tn),tc=T({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=Bt(tc),c=T({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or}),y=Bt(c),v=T({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Bt(v),B=T({},Oa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Bt(B),se=T({},$i,{newState:0,oldState:0}),we=Bt(se),dt=[9,13,27,32],qe=In&&"CompositionEvent"in window,at=null;In&&"documentMode"in document&&(at=document.documentMode);var Nn=In&&"TextEvent"in window&&!at,Ii=In&&(!qe||at&&8<at&&11>=at),Wn=" ",Jn=!1;function Us(t,r){switch(t){case"keyup":return dt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ma(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Va=!1;function CA(t,r){switch(t){case"compositionend":return Ma(r);case"keypress":return r.which!==32?null:(Jn=!0,Wn);case"textInput":return t=r.data,t===Wn&&Jn?null:t;default:return null}}function IA(t,r){if(Va)return t==="compositionend"||!qe&&Us(t,r)?(t=rl(),Vs=il=Ai=null,Va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ii&&r.locale!=="ko"?null:r.data;default:return null}}var NA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ig(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!NA[t.type]:r==="textarea"}function Ng(t,r,a,l){Cr?Si?Si.push(l):Si=[l]:Cr=l,r=Fc(r,"onChange"),0<r.length&&(a=new wi("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var ll=null,ul=null;function DA(t){hv(t,0)}function nc(t){var r=pn(t);if(Ds(r))return t}function Dg(t,r){if(t==="change")return r}var Og=!1;if(In){var Of;if(In){var xf="oninput"in document;if(!xf){var xg=document.createElement("div");xg.setAttribute("oninput","return;"),xf=typeof xg.oninput=="function"}Of=xf}else Of=!1;Og=Of&&(!document.documentMode||9<document.documentMode)}function Mg(){ll&&(ll.detachEvent("onpropertychange",Vg),ul=ll=null)}function Vg(t){if(t.propertyName==="value"&&nc(ul)){var r=[];Ng(r,ul,t,Cn(t)),Ir(DA,r)}}function OA(t,r,a){t==="focusin"?(Mg(),ll=r,ul=a,ll.attachEvent("onpropertychange",Vg)):t==="focusout"&&Mg()}function xA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nc(ul)}function MA(t,r){if(t==="click")return nc(r)}function VA(t,r){if(t==="input"||t==="change")return nc(r)}function kA(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var yn=typeof Object.is=="function"?Object.is:kA;function cl(t,r){if(yn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!yt.call(r,f)||!yn(t[f],r[f]))return!1}return!0}function kg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pg(t,r){var a=kg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kg(a)}}function Lg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Lg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Ug(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=bi(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=bi(t.document)}return r}function Mf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var PA=In&&"documentMode"in document&&11>=document.documentMode,ka=null,Vf=null,hl=null,kf=!1;function jg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kf||ka==null||ka!==bi(l)||(l=ka,"selectionStart"in l&&Mf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hl&&cl(hl,l)||(hl=l,l=Fc(Vf,"onSelect"),0<l.length&&(r=new wi("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=ka)))}function js(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Pa={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionrun:js("Transition","TransitionRun"),transitionstart:js("Transition","TransitionStart"),transitioncancel:js("Transition","TransitionCancel"),transitionend:js("Transition","TransitionEnd")},Pf={},zg={};In&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function zs(t){if(Pf[t])return Pf[t];if(!Pa[t])return t;var r=Pa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in zg)return Pf[t]=r[a];return t}var Bg=zs("animationend"),qg=zs("animationiteration"),Hg=zs("animationstart"),LA=zs("transitionrun"),UA=zs("transitionstart"),jA=zs("transitioncancel"),Fg=zs("transitionend"),Gg=new Map,Lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lf.push("scrollEnd");function Zn(t,r){Gg.set(t,r),Ei(r,[t])}var ic=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dn=[],La=0,Uf=0;function rc(){for(var t=La,r=Uf=La=0;r<t;){var a=Dn[r];Dn[r++]=null;var l=Dn[r];Dn[r++]=null;var f=Dn[r];Dn[r++]=null;var d=Dn[r];if(Dn[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Kg(a,f,d)}}function sc(t,r,a,l){Dn[La++]=t,Dn[La++]=r,Dn[La++]=a,Dn[La++]=l,Uf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function jf(t,r,a,l){return sc(t,r,a,l),ac(t)}function Bs(t,r){return sc(t,null,null,r),ac(t)}function Kg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-ft(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function ac(t){if(50<Ml)throw Ml=0,Yd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ua={};function zA(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,r,a,l){return new zA(t,r,a,l)}function zf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qi(t,r){var a=t.alternate;return a===null?(a=_n(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function $g(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function oc(t,r,a,l,f,d){var _=0;if(l=t,typeof t=="function")zf(t)&&(_=1);else if(typeof t=="string")_=Gw(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=_n(31,a,r,f),t.elementType=I,t.lanes=d,t;case G:return qs(a.children,f,d,r);case U:_=8,f|=24;break;case Y:return t=_n(12,a,r,f|2),t.elementType=Y,t.lanes=d,t;case ue:return t=_n(13,a,r,f),t.elementType=ue,t.lanes=d,t;case le:return t=_n(19,a,r,f),t.elementType=le,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:_=10;break e;case Z:_=9;break e;case re:_=11;break e;case C:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=_n(_,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function qs(t,r,a,l){return t=_n(7,t,l,r),t.lanes=a,t}function Bf(t,r,a){return t=_n(6,t,null,r),t.lanes=a,t}function Yg(t){var r=_n(18,null,null,0);return r.stateNode=t,r}function qf(t,r,a){return r=_n(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Qg=new WeakMap;function On(t,r){if(typeof t=="object"&&t!==null){var a=Qg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:qo(r)},Qg.set(t,r),r)}return{value:t,source:r,stack:qo(r)}}var ja=[],za=0,lc=null,fl=0,xn=[],Mn=0,xr=null,Ni=1,Di="";function Xi(t,r){ja[za++]=fl,ja[za++]=lc,lc=t,fl=r}function Xg(t,r,a){xn[Mn++]=Ni,xn[Mn++]=Di,xn[Mn++]=xr,xr=t;var l=Ni;t=Di;var f=32-ft(l)-1;l&=~(1<<f),a+=1;var d=32-ft(r)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ni=1<<32-ft(r)+f|a<<f|l,Di=d+t}else Ni=1<<d|a<<f|l,Di=t}function Hf(t){t.return!==null&&(Xi(t,1),Xg(t,1,0))}function Ff(t){for(;t===lc;)lc=ja[--za],ja[za]=null,fl=ja[--za],ja[za]=null;for(;t===xr;)xr=xn[--Mn],xn[Mn]=null,Di=xn[--Mn],xn[Mn]=null,Ni=xn[--Mn],xn[Mn]=null}function Wg(t,r){xn[Mn++]=Ni,xn[Mn++]=Di,xn[Mn++]=xr,Ni=r.id,Di=r.overflow,xr=t}var qt=null,et=null,Pe=!1,Mr=null,Vn=!1,Gf=Error(s(519));function Vr(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dl(On(r,t)),Gf}function Jg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[vt]=t,r[Pt]=l,a){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(a=0;a<kl.length;a++)De(kl[a],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":De("invalid",r),Bu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",r);break;case"textarea":De("invalid",r),wr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||pv(r.textContent,a)?(l.popover!=null&&(De("beforetoggle",r),De("toggle",r)),l.onScroll!=null&&De("scroll",r),l.onScrollEnd!=null&&De("scrollend",r),l.onClick!=null&&(r.onclick=Yn),r=!0):r=!1,r||Vr(t,!0)}function Zg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:qt=qt.return}}function Ba(t){if(t!==qt)return!1;if(!Pe)return Zg(t),Pe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||um(t.type,t.memoizedProps)),a=!a),a&&et&&Vr(t),Zg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));et=Av(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));et=Av(t)}else r===27?(r=et,Yr(t.type)?(t=mm,mm=null,et=t):et=r):et=qt?Pn(t.stateNode.nextSibling):null;return!0}function Hs(){et=qt=null,Pe=!1}function Kf(){var t=Mr;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Mr=null),t}function dl(t){Mr===null?Mr=[t]:Mr.push(t)}var $f=P(null),Fs=null,Wi=null;function kr(t,r,a){oe($f,r._currentValue),r._currentValue=a}function Ji(t){t._currentValue=$f.current,te($f)}function Yf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Qf(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var D=0;D<r.length;D++)if(b.context===r[D]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Yf(d.return,a,t),l||(_=null);break e}d=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Yf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function qa(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=f.type;yn(f.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(f===Le.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(zl):t=[zl])}f=f.return}t!==null&&Qf(r,t,a,l),r.flags|=262144}function uc(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gs(t){Fs=t,Wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return ey(Fs,t)}function cc(t,r){return Fs===null&&Gs(t),ey(t,r)}function ey(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Wi===null){if(t===null)throw Error(s(308));Wi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Wi=Wi.next=r;return a}var BA=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},qA=i.unstable_scheduleCallback,HA=i.unstable_NormalPriority,bt={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xf(){return{controller:new BA,data:new Map,refCount:0}}function ml(t){t.refCount--,t.refCount===0&&qA(HA,function(){t.controller.abort()})}var pl=null,Wf=0,Ha=0,Fa=null;function FA(t,r){if(pl===null){var a=pl=[];Wf=0,Ha=em(),Fa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Wf++,r.then(ty,ty),r}function ty(){if(--Wf===0&&pl!==null){Fa!==null&&(Fa.status="fulfilled");var t=pl;pl=null,Ha=0,Fa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function GA(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var ny=X.S;X.S=function(t,r){j_=en(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&FA(t,r),ny!==null&&ny(t,r)};var Ks=P(null);function Jf(){var t=Ks.current;return t!==null?t:Ze.pooledCache}function hc(t,r){r===null?oe(Ks,Ks.current):oe(Ks,r.pool)}function iy(){var t=Jf();return t===null?null:{parent:bt._currentValue,pool:t}}var Ga=Error(s(460)),Zf=Error(s(474)),fc=Error(s(542)),dc={then:function(){}};function ry(t){return t=t.status,t==="fulfilled"||t==="rejected"}function sy(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Yn,Yn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,oy(t),t;default:if(typeof r.status=="string")r.then(Yn,Yn);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,oy(t),t}throw Ys=r,Ga}}function $s(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ys=a,Ga):a}}var Ys=null;function ay(){if(Ys===null)throw Error(s(459));var t=Ys;return Ys=null,t}function oy(t){if(t===Ga||t===fc)throw Error(s(483))}var Ka=null,gl=0;function mc(t){var r=gl;return gl+=1,Ka===null&&(Ka=[]),sy(Ka,t,r)}function yl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function pc(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function ly(t){function r(z,x){if(t){var q=z.deletions;q===null?(z.deletions=[x],z.flags|=16):q.push(x)}}function a(z,x){if(!t)return null;for(;x!==null;)r(z,x),x=x.sibling;return null}function l(z){for(var x=new Map;z!==null;)z.key!==null?x.set(z.key,z):x.set(z.index,z),z=z.sibling;return x}function f(z,x){return z=Qi(z,x),z.index=0,z.sibling=null,z}function d(z,x,q){return z.index=q,t?(q=z.alternate,q!==null?(q=q.index,q<x?(z.flags|=67108866,x):q):(z.flags|=67108866,x)):(z.flags|=1048576,x)}function _(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function b(z,x,q,W){return x===null||x.tag!==6?(x=Bf(q,z.mode,W),x.return=z,x):(x=f(x,q),x.return=z,x)}function D(z,x,q,W){var pe=q.type;return pe===G?Q(z,x,q.props.children,W,q.key):x!==null&&(x.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&$s(pe)===x.type)?(x=f(x,q.props),yl(x,q),x.return=z,x):(x=oc(q.type,q.key,q.props,null,z.mode,W),yl(x,q),x.return=z,x)}function H(z,x,q,W){return x===null||x.tag!==4||x.stateNode.containerInfo!==q.containerInfo||x.stateNode.implementation!==q.implementation?(x=qf(q,z.mode,W),x.return=z,x):(x=f(x,q.children||[]),x.return=z,x)}function Q(z,x,q,W,pe){return x===null||x.tag!==7?(x=qs(q,z.mode,W,pe),x.return=z,x):(x=f(x,q),x.return=z,x)}function ee(z,x,q){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Bf(""+x,z.mode,q),x.return=z,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case V:return q=oc(x.type,x.key,x.props,null,z.mode,q),yl(q,x),q.return=z,q;case k:return x=qf(x,z.mode,q),x.return=z,x;case R:return x=$s(x),ee(z,x,q)}if(Nt(x)||j(x))return x=qs(x,z.mode,q,null),x.return=z,x;if(typeof x.then=="function")return ee(z,mc(x),q);if(x.$$typeof===J)return ee(z,cc(z,x),q);pc(z,x)}return null}function F(z,x,q,W){var pe=x!==null?x.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return pe!==null?null:b(z,x,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case V:return q.key===pe?D(z,x,q,W):null;case k:return q.key===pe?H(z,x,q,W):null;case R:return q=$s(q),F(z,x,q,W)}if(Nt(q)||j(q))return pe!==null?null:Q(z,x,q,W,null);if(typeof q.then=="function")return F(z,x,mc(q),W);if(q.$$typeof===J)return F(z,x,cc(z,q),W);pc(z,q)}return null}function $(z,x,q,W,pe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(q)||null,b(x,z,""+W,pe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case V:return z=z.get(W.key===null?q:W.key)||null,D(x,z,W,pe);case k:return z=z.get(W.key===null?q:W.key)||null,H(x,z,W,pe);case R:return W=$s(W),$(z,x,q,W,pe)}if(Nt(W)||j(W))return z=z.get(q)||null,Q(x,z,W,pe,null);if(typeof W.then=="function")return $(z,x,q,mc(W),pe);if(W.$$typeof===J)return $(z,x,q,cc(x,W),pe);pc(x,W)}return null}function fe(z,x,q,W){for(var pe=null,ze=null,de=x,Ie=x=0,xe=null;de!==null&&Ie<q.length;Ie++){de.index>Ie?(xe=de,de=null):xe=de.sibling;var Be=F(z,de,q[Ie],W);if(Be===null){de===null&&(de=xe);break}t&&de&&Be.alternate===null&&r(z,de),x=d(Be,x,Ie),ze===null?pe=Be:ze.sibling=Be,ze=Be,de=xe}if(Ie===q.length)return a(z,de),Pe&&Xi(z,Ie),pe;if(de===null){for(;Ie<q.length;Ie++)de=ee(z,q[Ie],W),de!==null&&(x=d(de,x,Ie),ze===null?pe=de:ze.sibling=de,ze=de);return Pe&&Xi(z,Ie),pe}for(de=l(de);Ie<q.length;Ie++)xe=$(de,z,Ie,q[Ie],W),xe!==null&&(t&&xe.alternate!==null&&de.delete(xe.key===null?Ie:xe.key),x=d(xe,x,Ie),ze===null?pe=xe:ze.sibling=xe,ze=xe);return t&&de.forEach(function(Zr){return r(z,Zr)}),Pe&&Xi(z,Ie),pe}function _e(z,x,q,W){if(q==null)throw Error(s(151));for(var pe=null,ze=null,de=x,Ie=x=0,xe=null,Be=q.next();de!==null&&!Be.done;Ie++,Be=q.next()){de.index>Ie?(xe=de,de=null):xe=de.sibling;var Zr=F(z,de,Be.value,W);if(Zr===null){de===null&&(de=xe);break}t&&de&&Zr.alternate===null&&r(z,de),x=d(Zr,x,Ie),ze===null?pe=Zr:ze.sibling=Zr,ze=Zr,de=xe}if(Be.done)return a(z,de),Pe&&Xi(z,Ie),pe;if(de===null){for(;!Be.done;Ie++,Be=q.next())Be=ee(z,Be.value,W),Be!==null&&(x=d(Be,x,Ie),ze===null?pe=Be:ze.sibling=Be,ze=Be);return Pe&&Xi(z,Ie),pe}for(de=l(de);!Be.done;Ie++,Be=q.next())Be=$(de,z,Ie,Be.value,W),Be!==null&&(t&&Be.alternate!==null&&de.delete(Be.key===null?Ie:Be.key),x=d(Be,x,Ie),ze===null?pe=Be:ze.sibling=Be,ze=Be);return t&&de.forEach(function(n1){return r(z,n1)}),Pe&&Xi(z,Ie),pe}function Je(z,x,q,W){if(typeof q=="object"&&q!==null&&q.type===G&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case V:e:{for(var pe=q.key;x!==null;){if(x.key===pe){if(pe=q.type,pe===G){if(x.tag===7){a(z,x.sibling),W=f(x,q.props.children),W.return=z,z=W;break e}}else if(x.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&$s(pe)===x.type){a(z,x.sibling),W=f(x,q.props),yl(W,q),W.return=z,z=W;break e}a(z,x);break}else r(z,x);x=x.sibling}q.type===G?(W=qs(q.props.children,z.mode,W,q.key),W.return=z,z=W):(W=oc(q.type,q.key,q.props,null,z.mode,W),yl(W,q),W.return=z,z=W)}return _(z);case k:e:{for(pe=q.key;x!==null;){if(x.key===pe)if(x.tag===4&&x.stateNode.containerInfo===q.containerInfo&&x.stateNode.implementation===q.implementation){a(z,x.sibling),W=f(x,q.children||[]),W.return=z,z=W;break e}else{a(z,x);break}else r(z,x);x=x.sibling}W=qf(q,z.mode,W),W.return=z,z=W}return _(z);case R:return q=$s(q),Je(z,x,q,W)}if(Nt(q))return fe(z,x,q,W);if(j(q)){if(pe=j(q),typeof pe!="function")throw Error(s(150));return q=pe.call(q),_e(z,x,q,W)}if(typeof q.then=="function")return Je(z,x,mc(q),W);if(q.$$typeof===J)return Je(z,x,cc(z,q),W);pc(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,x!==null&&x.tag===6?(a(z,x.sibling),W=f(x,q),W.return=z,z=W):(a(z,x),W=Bf(q,z.mode,W),W.return=z,z=W),_(z)):a(z,x)}return function(z,x,q,W){try{gl=0;var pe=Je(z,x,q,W);return Ka=null,pe}catch(de){if(de===Ga||de===fc)throw de;var ze=_n(29,de,null,z.mode);return ze.lanes=W,ze.return=z,ze}finally{}}}var Qs=ly(!0),uy=ly(!1),Pr=!1;function ed(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function td(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Lr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ur(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=ac(t),Kg(t,null,a),r}return sc(t,l,r,a),ac(t)}function _l(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Go(t,a)}}function nd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var id=!1;function vl(){if(id){var t=Fa;if(t!==null)throw t}}function El(t,r,a,l){id=!1;var f=t.updateQueue;Pr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var D=b,H=D.next;D.next=null,_===null?d=H:_.next=H,_=D;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,b=Q.lastBaseUpdate,b!==_&&(b===null?Q.firstBaseUpdate=H:b.next=H,Q.lastBaseUpdate=D))}if(d!==null){var ee=f.baseState;_=0,Q=H=D=null,b=d;do{var F=b.lane&-536870913,$=F!==b.lane;if($?(Oe&F)===F:(l&F)===F){F!==0&&F===Ha&&(id=!0),Q!==null&&(Q=Q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var fe=t,_e=b;F=r;var Je=a;switch(_e.tag){case 1:if(fe=_e.payload,typeof fe=="function"){ee=fe.call(Je,ee,F);break e}ee=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=_e.payload,F=typeof fe=="function"?fe.call(Je,ee,F):fe,F==null)break e;ee=T({},ee,F);break e;case 2:Pr=!0}}F=b.callback,F!==null&&(t.flags|=64,$&&(t.flags|=8192),$=f.callbacks,$===null?f.callbacks=[F]:$.push(F))}else $={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Q===null?(H=Q=$,D=ee):Q=Q.next=$,_|=F;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;$=b,b=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);Q===null&&(D=ee),f.baseState=D,f.firstBaseUpdate=H,f.lastBaseUpdate=Q,d===null&&(f.shared.lanes=0),Hr|=_,t.lanes=_,t.memoizedState=ee}}function cy(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function hy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)cy(a[t],r)}var $a=P(null),gc=P(0);function fy(t,r){t=or,oe(gc,t),oe($a,r),or=t|r.baseLanes}function rd(){oe(gc,or),oe($a,$a.current)}function sd(){or=gc.current,te($a),te(gc)}var vn=P(null),kn=null;function jr(t){var r=t.alternate;oe(mt,mt.current&1),oe(vn,t),kn===null&&(r===null||$a.current!==null||r.memoizedState!==null)&&(kn=t)}function ad(t){oe(mt,mt.current),oe(vn,t),kn===null&&(kn=t)}function dy(t){t.tag===22?(oe(mt,mt.current),oe(vn,t),kn===null&&(kn=t)):zr()}function zr(){oe(mt,mt.current),oe(vn,vn.current)}function En(t){te(vn),kn===t&&(kn=null),te(mt)}var mt=P(0);function yc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||fm(a)||dm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Zi=0,Re=null,Xe=null,St=null,_c=!1,Ya=!1,Xs=!1,vc=0,Tl=0,Qa=null,KA=0;function ct(){throw Error(s(321))}function od(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!yn(t[a],r[a]))return!1;return!0}function ld(t,r,a,l,f,d){return Zi=d,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=t===null||t.memoizedState===null?Xy:Sd,Xs=!1,d=a(l,f),Xs=!1,Ya&&(d=py(r,a,l,f)),my(t),d}function my(t){X.H=Al;var r=Xe!==null&&Xe.next!==null;if(Zi=0,St=Xe=Re=null,_c=!1,Tl=0,Qa=null,r)throw Error(s(300));t===null||At||(t=t.dependencies,t!==null&&uc(t)&&(At=!0))}function py(t,r,a,l){Re=t;var f=0;do{if(Ya&&(Qa=null),Tl=0,Ya=!1,25<=f)throw Error(s(301));if(f+=1,St=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=Wy,d=r(a,l)}while(Ya);return d}function $A(){var t=X.H,r=t.useState()[0];return r=typeof r.then=="function"?bl(r):r,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Re.flags|=1024),r}function ud(){var t=vc!==0;return vc=0,t}function cd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function hd(t){if(_c){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}_c=!1}Zi=0,St=Xe=Re=null,Ya=!1,Tl=vc=0,Qa=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Re.memoizedState=St=t:St=St.next=t,St}function pt(){if(Xe===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var r=St===null?Re.memoizedState:St.next;if(r!==null)St=r,Xe=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},St===null?Re.memoizedState=St=t:St=St.next=t}return St}function Ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(t){var r=Tl;return Tl+=1,Qa===null&&(Qa=[]),t=sy(Qa,t,r),r=Re,(St===null?r.memoizedState:St.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?Xy:Sd),t}function Tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bl(t);if(t.$$typeof===J)return Ht(t)}throw Error(s(438,String(t)))}function fd(t){var r=null,a=Re.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Ec(),Re.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=M;return r.index++,a}function er(t,r){return typeof r=="function"?r(t):r}function bc(t){var r=pt();return dd(r,Xe,t)}function dd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var b=_=null,D=null,H=r,Q=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(Oe&ee)===ee:(Zi&ee)===ee){var F=H.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===Ha&&(Q=!0);else if((Zi&F)===F){H=H.next,F===Ha&&(Q=!0);continue}else ee={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(b=D=ee,_=d):D=D.next=ee,Re.lanes|=F,Hr|=F;ee=H.action,Xs&&a(d,ee),d=H.hasEagerState?H.eagerState:a(d,ee)}else F={lane:ee,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(b=D=F,_=d):D=D.next=F,Re.lanes|=ee,Hr|=ee;H=H.next}while(H!==null&&H!==r);if(D===null?_=d:D.next=b,!yn(d,t.memoizedState)&&(At=!0,Q&&(a=Fa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function md(t){var r=pt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);yn(d,r.memoizedState)||(At=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function gy(t,r,a){var l=Re,f=pt(),d=Pe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!yn((Xe||f).memoizedState,a);if(_&&(f.memoizedState=a,At=!0),f=f.queue,yd(vy.bind(null,l,f,t),[t]),f.getSnapshot!==r||_||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,Xa(9,{destroy:void 0},_y.bind(null,l,f,a,r),null),Ze===null)throw Error(s(349));d||(Zi&127)!==0||yy(l,r,a)}return a}function yy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Re.updateQueue,r===null?(r=Ec(),Re.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function _y(t,r,a,l){r.value=a,r.getSnapshot=l,Ey(r)&&Ty(t)}function vy(t,r,a){return a(function(){Ey(r)&&Ty(t)})}function Ey(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!yn(t,a)}catch{return!0}}function Ty(t){var r=Bs(t,2);r!==null&&hn(r,t,2)}function pd(t){var r=nn();if(typeof t=="function"){var a=t;if(t=a(),Xs){wn(!0);try{a()}finally{wn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:t},r}function by(t,r,a,l){return t.baseState=a,dd(t,Xe,typeof l=="function"?l:er)}function YA(t,r,a,l,f){if(wc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Sy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Sy(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=X.T,_={};X.T=_;try{var b=a(f,l),D=X.S;D!==null&&D(_,b),Ay(t,r,b)}catch(H){gd(t,r,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(f,l),Ay(t,r,d)}catch(H){gd(t,r,H)}}function Ay(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){wy(t,r,l)},function(l){return gd(t,r,l)}):wy(t,r,a)}function wy(t,r,a){r.status="fulfilled",r.value=a,Ry(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Sy(t,a)))}function gd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Ry(r),r=r.next;while(r!==l)}t.action=null}function Ry(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Cy(t,r){return r}function Iy(t,r){if(Pe){var a=Ze.formState;if(a!==null){e:{var l=Re;if(Pe){if(et){t:{for(var f=et,d=Vn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Pn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){et=Pn(f.nextSibling),l=f.data==="F!";break e}}Vr(l)}l=!1}l&&(r=a[0])}}return a=nn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cy,lastRenderedState:r},a.queue=l,a=$y.bind(null,Re,l),l.dispatch=a,l=pd(!1),d=bd.bind(null,Re,!1,l.queue),l=nn(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=YA.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function Ny(t){var r=pt();return Dy(r,Xe,t)}function Dy(t,r,a){if(r=dd(t,r,Cy)[0],t=bc(er)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=bl(r)}catch(_){throw _===Ga?fc:_}else l=r;r=pt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Re.flags|=2048,Xa(9,{destroy:void 0},QA.bind(null,f,a),null)),[l,d,t]}function QA(t,r){t.action=r}function Oy(t){var r=pt(),a=Xe;if(a!==null)return Dy(r,a,t);pt(),r=r.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Xa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Re.updateQueue,r===null&&(r=Ec(),Re.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function xy(){return pt().memoizedState}function Sc(t,r,a,l){var f=nn();Re.flags|=t,f.memoizedState=Xa(1|r,{destroy:void 0},a,l===void 0?null:l)}function Ac(t,r,a,l){var f=pt();l=l===void 0?null:l;var d=f.memoizedState.inst;Xe!==null&&l!==null&&od(l,Xe.memoizedState.deps)?f.memoizedState=Xa(r,d,a,l):(Re.flags|=t,f.memoizedState=Xa(1|r,d,a,l))}function My(t,r){Sc(8390656,8,t,r)}function yd(t,r){Ac(2048,8,t,r)}function XA(t){Re.flags|=4;var r=Re.updateQueue;if(r===null)r=Ec(),Re.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function Vy(t){var r=pt().memoizedState;return XA({ref:r,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function ky(t,r){return Ac(4,2,t,r)}function Py(t,r){return Ac(4,4,t,r)}function Ly(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Uy(t,r,a){a=a!=null?a.concat([t]):null,Ac(4,4,Ly.bind(null,r,t),a)}function _d(){}function jy(t,r){var a=pt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&od(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function zy(t,r){var a=pt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&od(r,l[1]))return l[0];if(l=t(),Xs){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[l,r],l}function vd(t,r,a){return a===void 0||(Zi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=B_(),Re.lanes|=t,Hr|=t,a)}function By(t,r,a,l){return yn(a,r)?a:$a.current!==null?(t=vd(t,a,l),yn(t,r)||(At=!0),t):(Zi&42)===0||(Zi&1073741824)!==0&&(Oe&261930)===0?(At=!0,t.memoizedState=a):(t=B_(),Re.lanes|=t,Hr|=t,r)}function qy(t,r,a,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=X.T,b={};X.T=b,bd(t,!1,r,a);try{var D=f(),H=X.S;if(H!==null&&H(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Q=GA(D,l);Sl(t,r,Q,Sn(t))}else Sl(t,r,l,Sn(t))}catch(ee){Sl(t,r,{then:function(){},status:"rejected",reason:ee},Sn())}finally{ae.p=d,_!==null&&b.types!==null&&(_.types=b.types),X.T=_}}function WA(){}function Ed(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=Hy(t).queue;qy(t,f,r,ge,a===null?WA:function(){return Fy(t),a(l)})}function Hy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:ge},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Fy(t){var r=Hy(t);r.next===null&&(r=t.alternate.memoizedState),Sl(t,r.next.queue,{},Sn())}function Td(){return Ht(zl)}function Gy(){return pt().memoizedState}function Ky(){return pt().memoizedState}function JA(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Sn();t=Lr(a);var l=Ur(r,t,a);l!==null&&(hn(l,r,a),_l(l,r,a)),r={cache:Xf()},t.payload=r;return}r=r.return}}function ZA(t,r,a){var l=Sn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},wc(t)?Yy(r,a):(a=jf(t,r,a,l),a!==null&&(hn(a,t,l),Qy(a,r,l)))}function $y(t,r,a){var l=Sn();Sl(t,r,a,l)}function Sl(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(wc(t))Yy(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,b=d(_,a);if(f.hasEagerState=!0,f.eagerState=b,yn(b,_))return sc(t,r,f,0),Ze===null&&rc(),!1}catch{}finally{}if(a=jf(t,r,f,l),a!==null)return hn(a,t,l),Qy(a,r,l),!0}return!1}function bd(t,r,a,l){if(l={lane:2,revertLane:em(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},wc(t)){if(r)throw Error(s(479))}else r=jf(t,a,l,2),r!==null&&hn(r,t,2)}function wc(t){var r=t.alternate;return t===Re||r!==null&&r===Re}function Yy(t,r){Ya=_c=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Qy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Go(t,a)}}var Al={readContext:Ht,use:Tc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};Al.useEffectEvent=ct;var Xy={readContext:Ht,use:Tc,useCallback:function(t,r){return nn().memoizedState=[t,r===void 0?null:r],t},useContext:Ht,useEffect:My,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Sc(4194308,4,Ly.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Sc(4194308,4,t,r)},useInsertionEffect:function(t,r){Sc(4,2,t,r)},useMemo:function(t,r){var a=nn();r=r===void 0?null:r;var l=t();if(Xs){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=nn();if(a!==void 0){var f=a(r);if(Xs){wn(!0);try{a(r)}finally{wn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=ZA.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var r=nn();return t={current:t},r.memoizedState=t},useState:function(t){t=pd(t);var r=t.queue,a=$y.bind(null,Re,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:_d,useDeferredValue:function(t,r){var a=nn();return vd(a,t,r)},useTransition:function(){var t=pd(!1);return t=qy.bind(null,Re,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Re,f=nn();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Ze===null)throw Error(s(349));(Oe&127)!==0||yy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,My(vy.bind(null,l,d,t),[t]),l.flags|=2048,Xa(9,{destroy:void 0},_y.bind(null,l,d,a,r),null),a},useId:function(){var t=nn(),r=Ze.identifierPrefix;if(Pe){var a=Di,l=Ni;a=(l&~(1<<32-ft(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=vc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=KA++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Td,useFormState:Iy,useActionState:Iy,useOptimistic:function(t){var r=nn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=bd.bind(null,Re,!0,a),a.dispatch=r,[t,r]},useMemoCache:fd,useCacheRefresh:function(){return nn().memoizedState=JA.bind(null,Re)},useEffectEvent:function(t){var r=nn(),a={impl:t};return r.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Sd={readContext:Ht,use:Tc,useCallback:jy,useContext:Ht,useEffect:yd,useImperativeHandle:Uy,useInsertionEffect:ky,useLayoutEffect:Py,useMemo:zy,useReducer:bc,useRef:xy,useState:function(){return bc(er)},useDebugValue:_d,useDeferredValue:function(t,r){var a=pt();return By(a,Xe.memoizedState,t,r)},useTransition:function(){var t=bc(er)[0],r=pt().memoizedState;return[typeof t=="boolean"?t:bl(t),r]},useSyncExternalStore:gy,useId:Gy,useHostTransitionStatus:Td,useFormState:Ny,useActionState:Ny,useOptimistic:function(t,r){var a=pt();return by(a,Xe,t,r)},useMemoCache:fd,useCacheRefresh:Ky};Sd.useEffectEvent=Vy;var Wy={readContext:Ht,use:Tc,useCallback:jy,useContext:Ht,useEffect:yd,useImperativeHandle:Uy,useInsertionEffect:ky,useLayoutEffect:Py,useMemo:zy,useReducer:md,useRef:xy,useState:function(){return md(er)},useDebugValue:_d,useDeferredValue:function(t,r){var a=pt();return Xe===null?vd(a,t,r):By(a,Xe.memoizedState,t,r)},useTransition:function(){var t=md(er)[0],r=pt().memoizedState;return[typeof t=="boolean"?t:bl(t),r]},useSyncExternalStore:gy,useId:Gy,useHostTransitionStatus:Td,useFormState:Oy,useActionState:Oy,useOptimistic:function(t,r){var a=pt();return Xe!==null?by(a,Xe,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:fd,useCacheRefresh:Ky};Wy.useEffectEvent=Vy;function Ad(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var wd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Sn(),f=Lr(l);f.payload=r,a!=null&&(f.callback=a),r=Ur(t,f,l),r!==null&&(hn(r,t,l),_l(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Sn(),f=Lr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Ur(t,f,l),r!==null&&(hn(r,t,l),_l(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Sn(),l=Lr(a);l.tag=2,r!=null&&(l.callback=r),r=Ur(t,l,a),r!==null&&(hn(r,t,a),_l(r,t,a))}};function Jy(t,r,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!cl(a,l)||!cl(f,d):!0}function Zy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&wd.enqueueReplaceState(r,r.state,null)}function Ws(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function e_(t){ic(t)}function t_(t){console.error(t)}function n_(t){ic(t)}function Rc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function i_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Rd(t,r,a){return a=Lr(a),a.tag=3,a.payload={element:null},a.callback=function(){Rc(t,r)},a}function r_(t){return t=Lr(t),t.tag=3,t}function s_(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){i_(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){i_(r,a,l),typeof f!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function ew(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&qa(r,a,f,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?Uc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===dc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Wd(t,l,f)),!1;case 22:return a.flags|=65536,l===dc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Wd(t,l,f)),!1}throw Error(s(435,a.tag))}return Wd(t,l,f),Uc(),!1}if(Pe)return r=vn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Gf&&(t=Error(s(422),{cause:l}),dl(On(t,a)))):(l!==Gf&&(r=Error(s(423),{cause:l}),dl(On(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=On(l,a),f=Rd(t.stateNode,l,f),nd(t,f),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=On(d,a),xl===null?xl=[d]:xl.push(d),ht!==4&&(ht=2),r===null)return!0;l=On(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Rd(a.stateNode,l,t),nd(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fr===null||!Fr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=r_(f),s_(f,t,a,l),nd(a,f),!1}a=a.return}while(a!==null);return!1}var Cd=Error(s(461)),At=!1;function Ft(t,r,a,l){r.child=t===null?uy(r,null,a,l):Qs(r,t.child,a,l)}function a_(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return Gs(r),l=ld(t,r,a,_,d,f),b=ud(),t!==null&&!At?(cd(t,r,f),tr(t,r,f)):(Pe&&b&&Hf(r),r.flags|=1,Ft(t,r,l,f),r.child)}function o_(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!zf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,l_(t,r,d,l,f)):(t=oc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!kd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:cl,a(_,l)&&t.ref===r.ref)return tr(t,r,f)}return r.flags|=1,t=Qi(d,l),t.ref=r.ref,t.return=r,r.child=t}function l_(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(cl(d,l)&&t.ref===r.ref)if(At=!1,r.pendingProps=l=d,kd(t,f))(t.flags&131072)!==0&&(At=!0);else return r.lanes=t.lanes,tr(t,r,f)}return Id(t,r,a,l,f)}function u_(t,r,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return c_(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&hc(r,d!==null?d.cachePool:null),d!==null?fy(r,d):rd(),dy(r);else return l=r.lanes=536870912,c_(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(hc(r,d.cachePool),fy(r,d),zr(),r.memoizedState=null):(t!==null&&hc(r,null),rd(),zr());return Ft(t,r,f,a),r.child}function wl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function c_(t,r,a,l,f){var d=Jf();return d=d===null?null:{parent:bt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&hc(r,null),rd(),dy(r),t!==null&&qa(t,r,l,!0),r.childLanes=f,null}function Cc(t,r){return r=Nc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function h_(t,r,a){return Qs(r,t.child,null,a),t=Cc(r,r.pendingProps),t.flags|=2,En(r),r.memoizedState=null,t}function tw(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=Cc(r,l),r.lanes=536870912,wl(null,t);if(ad(r),(t=et)?(t=Sv(t,Vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:xr!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=Yg(t),a.return=r,r.child=a,qt=r,et=null)):t=null,t===null)throw Vr(r);return r.lanes=536870912,null}return Cc(r,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(ad(r),f)if(r.flags&256)r.flags&=-257,r=h_(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(At||qa(t,r,a,!1),f=(a&t.childLanes)!==0,At||f){if(l=Ze,l!==null&&(_=Ko(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Bs(t,_),hn(l,t,_),Cd;Uc(),r=h_(t,r,a)}else t=d.treeContext,et=Pn(_.nextSibling),qt=r,Pe=!0,Mr=null,Vn=!1,t!==null&&Wg(r,t),r=Cc(r,l),r.flags|=4096;return r}return t=Qi(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Ic(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Id(t,r,a,l,f){return Gs(r),a=ld(t,r,a,l,void 0,f),l=ud(),t!==null&&!At?(cd(t,r,f),tr(t,r,f)):(Pe&&l&&Hf(r),r.flags|=1,Ft(t,r,a,f),r.child)}function f_(t,r,a,l,f,d){return Gs(r),r.updateQueue=null,a=py(r,l,a,f),my(t),l=ud(),t!==null&&!At?(cd(t,r,d),tr(t,r,d)):(Pe&&l&&Hf(r),r.flags|=1,Ft(t,r,a,d),r.child)}function d_(t,r,a,l,f){if(Gs(r),r.stateNode===null){var d=Ua,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=wd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},ed(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):Ua,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Ad(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&wd.enqueueReplaceState(d,d.state,null),El(r,l,d,f),vl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var b=r.memoizedProps,D=Ws(a,b);d.props=D;var H=d.context,Q=a.contextType;_=Ua,typeof Q=="object"&&Q!==null&&(_=Ht(Q));var ee=a.getDerivedStateFromProps;Q=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||H!==_)&&Zy(r,d,l,_),Pr=!1;var F=r.memoizedState;d.state=F,El(r,l,d,f),vl(),H=r.memoizedState,b||F!==H||Pr?(typeof ee=="function"&&(Ad(r,a,ee,l),H=r.memoizedState),(D=Pr||Jy(r,a,D,l,F,H,_))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,td(t,r),_=r.memoizedProps,Q=Ws(a,_),d.props=Q,ee=r.pendingProps,F=d.context,H=a.contextType,D=Ua,typeof H=="object"&&H!==null&&(D=Ht(H)),b=a.getDerivedStateFromProps,(H=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||F!==D)&&Zy(r,d,l,D),Pr=!1,F=r.memoizedState,d.state=F,El(r,l,d,f),vl();var $=r.memoizedState;_!==ee||F!==$||Pr||t!==null&&t.dependencies!==null&&uc(t.dependencies)?(typeof b=="function"&&(Ad(r,a,b,l),$=r.memoizedState),(Q=Pr||Jy(r,a,Q,l,F,$,D)||t!==null&&t.dependencies!==null&&uc(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,D)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=$),d.props=l,d.state=$,d.context=D,l=Q):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Ic(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Qs(r,t.child,null,f),r.child=Qs(r,null,a,f)):Ft(t,r,a,f),r.memoizedState=d.state,t=r.child):t=tr(t,r,f),t}function m_(t,r,a,l){return Hs(),r.flags|=256,Ft(t,r,a,l),r.child}var Nd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dd(t){return{baseLanes:t,cachePool:iy()}}function Od(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=bn),t}function p_(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Pe){if(f?jr(r):zr(),(t=et)?(t=Sv(t,Vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:xr!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=Yg(t),a.return=r,r.child=a,qt=r,et=null)):t=null,t===null)throw Vr(r);return dm(t)?r.lanes=32:r.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(zr(),f=r.mode,b=Nc({mode:"hidden",children:b},f),l=qs(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,l=r.child,l.memoizedState=Dd(a),l.childLanes=Od(t,_,a),r.memoizedState=Nd,wl(null,l)):(jr(r),xd(r,b))}var D=t.memoizedState;if(D!==null&&(b=D.dehydrated,b!==null)){if(d)r.flags&256?(jr(r),r.flags&=-257,r=Md(t,r,a)):r.memoizedState!==null?(zr(),r.child=t.child,r.flags|=128,r=null):(zr(),b=l.fallback,f=r.mode,l=Nc({mode:"visible",children:l.children},f),b=qs(b,f,a,null),b.flags|=2,l.return=r,b.return=r,l.sibling=b,r.child=l,Qs(r,t.child,null,a),l=r.child,l.memoizedState=Dd(a),l.childLanes=Od(t,_,a),r.memoizedState=Nd,r=wl(null,l));else if(jr(r),dm(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,dl({value:l,source:null,stack:null}),r=Md(t,r,a)}else if(At||qa(t,r,a,!1),_=(a&t.childLanes)!==0,At||_){if(_=Ze,_!==null&&(l=Ko(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Bs(t,l),hn(_,t,l),Cd;fm(b)||Uc(),r=Md(t,r,a)}else fm(b)?(r.flags|=192,r.child=t.child,r=null):(t=D.treeContext,et=Pn(b.nextSibling),qt=r,Pe=!0,Mr=null,Vn=!1,t!==null&&Wg(r,t),r=xd(r,l.children),r.flags|=4096);return r}return f?(zr(),b=l.fallback,f=r.mode,D=t.child,H=D.sibling,l=Qi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,H!==null?b=Qi(H,b):(b=qs(b,f,a,null),b.flags|=2),b.return=r,l.return=r,l.sibling=b,r.child=l,wl(null,l),l=r.child,b=t.child.memoizedState,b===null?b=Dd(a):(f=b.cachePool,f!==null?(D=bt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=iy(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=Od(t,_,a),r.memoizedState=Nd,wl(t.child,l)):(jr(r),a=t.child,t=a.sibling,a=Qi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function xd(t,r){return r=Nc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Nc(t,r){return t=_n(22,t,null,r),t.lanes=0,t}function Md(t,r,a){return Qs(r,t.child,null,a),t=xd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function g_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Yf(t.return,r,a)}function Vd(t,r,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function y_(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=mt.current,b=(_&2)!==0;if(b?(_=_&1|2,r.flags|=128):_&=1,oe(mt,_),Ft(t,r,l,a),l=Pe?fl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&g_(t,a,r);else if(t.tag===19)g_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&yc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Vd(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&yc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Vd(r,!0,a,null,d,l);break;case"together":Vd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function tr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Hr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(qa(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Qi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Qi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function kd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&uc(t)))}function nw(t,r,a){switch(r.tag){case 3:Dt(r,r.stateNode.containerInfo),kr(r,bt,t.memoizedState.cache),Hs();break;case 27:case 5:Ss(r);break;case 4:Dt(r,r.stateNode.containerInfo);break;case 10:kr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ad(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(jr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?p_(t,r,a):(jr(r),t=tr(t,r,a),t!==null?t.sibling:null);jr(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(qa(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return y_(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(mt,mt.current),l)break;return null;case 22:return r.lanes=0,u_(t,r,a,r.pendingProps);case 24:kr(r,bt,t.memoizedState.cache)}return tr(t,r,a)}function __(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)At=!0;else{if(!kd(t,a)&&(r.flags&128)===0)return At=!1,nw(t,r,a);At=(t.flags&131072)!==0}else At=!1,Pe&&(r.flags&1048576)!==0&&Xg(r,fl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=$s(r.elementType),r.type=t,typeof t=="function")zf(t)?(l=Ws(t,l),r.tag=1,r=d_(null,r,t,l,a)):(r.tag=0,r=Id(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===re){r.tag=11,r=a_(null,r,t,l,a);break e}else if(f===C){r.tag=14,r=o_(null,r,t,l,a);break e}}throw r=rt(t)||t,Error(s(306,r,""))}}return r;case 0:return Id(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Ws(l,r.pendingProps),d_(t,r,l,f,a);case 3:e:{if(Dt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,td(t,r),El(r,l,null,a);var _=r.memoizedState;if(l=_.cache,kr(r,bt,l),l!==d.cache&&Qf(r,[bt],a,!0),vl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=m_(t,r,l,a);break e}else if(l!==f){f=On(Error(s(424)),r),dl(f),r=m_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(et=Pn(t.firstChild),qt=r,Pe=!0,Mr=null,Vn=!0,a=uy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Hs(),l===f){r=tr(t,r,a);break e}Ft(t,r,l,a)}r=r.child}return r;case 26:return Ic(t,r),t===null?(a=Nv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Pe||(a=r.type,t=r.pendingProps,l=Gc(Ce.current).createElement(a),l[vt]=r,l[Pt]=t,Gt(l,a,t),Et(l),r.stateNode=l):r.memoizedState=Nv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Ss(r),t===null&&Pe&&(l=r.stateNode=Rv(r.type,r.pendingProps,Ce.current),qt=r,Vn=!0,f=et,Yr(r.type)?(mm=f,et=Pn(l.firstChild)):et=f),Ft(t,r,r.pendingProps.children,a),Ic(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Pe&&((f=l=et)&&(l=xw(l,r.type,r.pendingProps,Vn),l!==null?(r.stateNode=l,qt=r,et=Pn(l.firstChild),Vn=!1,f=!0):f=!1),f||Vr(r)),Ss(r),f=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,um(f,d)?l=null:_!==null&&um(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=ld(t,r,$A,null,null,a),zl._currentValue=f),Ic(t,r),Ft(t,r,l,a),r.child;case 6:return t===null&&Pe&&((t=a=et)&&(a=Mw(a,r.pendingProps,Vn),a!==null?(r.stateNode=a,qt=r,et=null,t=!0):t=!1),t||Vr(r)),null;case 13:return p_(t,r,a);case 4:return Dt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Qs(r,null,l,a):Ft(t,r,l,a),r.child;case 11:return a_(t,r,r.type,r.pendingProps,a);case 7:return Ft(t,r,r.pendingProps,a),r.child;case 8:return Ft(t,r,r.pendingProps.children,a),r.child;case 12:return Ft(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,kr(r,r.type,l.value),Ft(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Gs(r),f=Ht(f),l=l(f),r.flags|=1,Ft(t,r,l,a),r.child;case 14:return o_(t,r,r.type,r.pendingProps,a);case 15:return l_(t,r,r.type,r.pendingProps,a);case 19:return y_(t,r,a);case 31:return tw(t,r,a);case 22:return u_(t,r,a,r.pendingProps);case 24:return Gs(r),l=Ht(bt),t===null?(f=Jf(),f===null&&(f=Ze,d=Xf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},ed(r),kr(r,bt,f)):((t.lanes&a)!==0&&(td(t,r),El(r,null,null,a),vl()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),kr(r,bt,l)):(l=d.cache,kr(r,bt,l),l!==f.cache&&Qf(r,[bt],a,!0))),Ft(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function nr(t){t.flags|=4}function Pd(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(G_())t.flags|=8192;else throw Ys=dc,Zf}else t.flags&=-16777217}function v_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Vv(r))if(G_())t.flags|=8192;else throw Ys=dc,Zf}function Dc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Pu():536870912,t.lanes|=r,eo|=r)}function Rl(t,r){if(!Pe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function tt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function iw(t,r,a){var l=r.pendingProps;switch(Ff(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(r),null;case 1:return tt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ji(bt),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ba(r)?nr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Kf())),tt(r),null;case 26:var f=r.type,d=r.memoizedState;return t===null?(nr(r),d!==null?(tt(r),v_(r,d)):(tt(r),Pd(r,f,null,l,a))):d?d!==t.memoizedState?(nr(r),tt(r),v_(r,d)):(tt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&nr(r),tt(r),Pd(r,f,t,l,a)),null;case 27:if(va(r),a=Ce.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&nr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return tt(r),null}t=he.current,Ba(r)?Jg(r):(t=Rv(f,l,a),r.stateNode=t,nr(r))}return tt(r),null;case 5:if(va(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&nr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return tt(r),null}if(d=he.current,Ba(r))Jg(r);else{var _=Gc(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[vt]=r,d[Pt]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;e:switch(Gt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&nr(r)}}return tt(r),Pd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&nr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ce.current,Ba(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=qt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[vt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||pv(t.nodeValue,a)),t||Vr(r,!0)}else t=Gc(t).createTextNode(l),t[vt]=r,r.stateNode=t}return tt(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Ba(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[vt]=r}else Hs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;tt(r),t=!1}else a=Kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(En(r),r):(En(r),null);if((r.flags&128)!==0)throw Error(s(558))}return tt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ba(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[vt]=r}else Hs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;tt(r),f=!1}else f=Kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(En(r),r):(En(r),null)}return En(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Dc(r,r.updateQueue),tt(r),null);case 4:return st(),t===null&&rm(r.stateNode.containerInfo),tt(r),null;case 10:return Ji(r.type),tt(r),null;case 19:if(te(mt),l=r.memoizedState,l===null)return tt(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)Rl(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=yc(t),d!==null){for(r.flags|=128,Rl(l,!1),t=d.updateQueue,r.updateQueue=t,Dc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)$g(a,t),a=a.sibling;return oe(mt,mt.current&1|2),Pe&&Xi(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&en()>kc&&(r.flags|=128,f=!0,Rl(l,!1),r.lanes=4194304)}else{if(!f)if(t=yc(d),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Dc(r,t),Rl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return tt(r),null}else 2*en()-l.renderingStartTime>kc&&a!==536870912&&(r.flags|=128,f=!0,Rl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=mt.current,oe(mt,f?a&1|2:a&1),Pe&&Xi(r,l.treeForkCount),t):(tt(r),null);case 22:case 23:return En(r),sd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(tt(r),r.subtreeFlags&6&&(r.flags|=8192)):tt(r),a=r.updateQueue,a!==null&&Dc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&te(Ks),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ji(bt),tt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function rw(t,r){switch(Ff(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ji(bt),st(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return va(r),null;case 31:if(r.memoizedState!==null){if(En(r),r.alternate===null)throw Error(s(340));Hs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(En(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Hs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return te(mt),null;case 4:return st(),null;case 10:return Ji(r.type),null;case 22:case 23:return En(r),sd(),t!==null&&te(Ks),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Ji(bt),null;case 25:return null;default:return null}}function E_(t,r){switch(Ff(r),r.tag){case 3:Ji(bt),st();break;case 26:case 27:case 5:va(r);break;case 4:st();break;case 31:r.memoizedState!==null&&En(r);break;case 13:En(r);break;case 19:te(mt);break;case 10:Ji(r.type);break;case 22:case 23:En(r),sd(),t!==null&&te(Ks);break;case 24:Ji(bt)}}function Cl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(b){Ye(r,r.return,b)}}function Br(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=r;var D=a,H=b;try{H()}catch(Q){Ye(f,D,Q)}}}l=l.next}while(l!==d)}}catch(Q){Ye(r,r.return,Q)}}function T_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{hy(r,a)}catch(l){Ye(t,t.return,l)}}}function b_(t,r,a){a.props=Ws(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,r,l)}}function Il(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Ye(t,r,f)}}function Oi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ye(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ye(t,r,f)}else a.current=null}function S_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ye(t,t.return,f)}}function Ld(t,r,a){try{var l=t.stateNode;Rw(l,t.type,a,r),l[Pt]=r}catch(f){Ye(t,t.return,f)}}function A_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yr(t.type)||t.tag===4}function Ud(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||A_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Yn));else if(l!==4&&(l===27&&Yr(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(jd(t,r,a),t=t.sibling;t!==null;)jd(t,r,a),t=t.sibling}function Oc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Yr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Oc(t,r,a),t=t.sibling;t!==null;)Oc(t,r,a),t=t.sibling}function w_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Gt(r,l,a),r[vt]=t,r[Pt]=a}catch(d){Ye(t,t.return,d)}}var ir=!1,wt=!1,zd=!1,R_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function sw(t,r){if(t=t.containerInfo,om=Jc,t=Ug(t),Mf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,D=-1,H=0,Q=0,ee=t,F=null;t:for(;;){for(var $;ee!==a||f!==0&&ee.nodeType!==3||(b=_+f),ee!==d||l!==0&&ee.nodeType!==3||(D=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),($=ee.firstChild)!==null;)F=ee,ee=$;for(;;){if(ee===t)break t;if(F===a&&++H===f&&(b=_),F===d&&++Q===l&&(D=_),($=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=$}a=b===-1||D===-1?null:{start:b,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(lm={focusedElem:t,selectionRange:a},Jc=!1,Ut=r;Ut!==null;)if(r=Ut,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Ut=t;else for(;Ut!==null;){switch(r=Ut,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Ws(a.type,f);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Ye(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)hm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Ut=t;break}Ut=r.return}}function C_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:sr(t,a),l&4&&Cl(5,a);break;case 1:if(sr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var f=Ws(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&T_(a),l&512&&Il(a,a.return);break;case 3:if(sr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{hy(t,r)}catch(_){Ye(a,a.return,_)}}break;case 27:r===null&&l&4&&w_(a);case 26:case 5:sr(t,a),r===null&&l&4&&S_(a),l&512&&Il(a,a.return);break;case 12:sr(t,a);break;case 31:sr(t,a),l&4&&D_(t,a);break;case 13:sr(t,a),l&4&&O_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=mw.bind(null,a),Vw(t,a))));break;case 22:if(l=a.memoizedState!==null||ir,!l){r=r!==null&&r.memoizedState!==null||wt,f=ir;var d=wt;ir=l,(wt=r)&&!d?ar(t,a,(a.subtreeFlags&8772)!==0):sr(t,a),ir=f,wt=d}break;case 30:break;default:sr(t,a)}}function I_(t){var r=t.alternate;r!==null&&(t.alternate=null,I_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Aa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,on=!1;function rr(t,r,a){for(a=a.child;a!==null;)N_(t,r,a),a=a.sibling}function N_(t,r,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Fn,a)}catch{}switch(a.tag){case 26:wt||Oi(a,r),rr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wt||Oi(a,r);var l=ot,f=on;Yr(a.type)&&(ot=a.stateNode,on=!1),rr(t,r,a),Ll(a.stateNode),ot=l,on=f;break;case 5:wt||Oi(a,r);case 6:if(l=ot,f=on,ot=null,rr(t,r,a),ot=l,on=f,ot!==null)if(on)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Ye(a,r,d)}else try{ot.removeChild(a.stateNode)}catch(d){Ye(a,r,d)}break;case 18:ot!==null&&(on?(t=ot,Tv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),lo(t)):Tv(ot,a.stateNode));break;case 4:l=ot,f=on,ot=a.stateNode.containerInfo,on=!0,rr(t,r,a),ot=l,on=f;break;case 0:case 11:case 14:case 15:Br(2,a,r),wt||Br(4,a,r),rr(t,r,a);break;case 1:wt||(Oi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&b_(a,r,l)),rr(t,r,a);break;case 21:rr(t,r,a);break;case 22:wt=(l=wt)||a.memoizedState!==null,rr(t,r,a),wt=l;break;default:rr(t,r,a)}}function D_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{lo(t)}catch(a){Ye(r,r.return,a)}}}function O_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{lo(t)}catch(a){Ye(r,r.return,a)}}function aw(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new R_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new R_),r;default:throw Error(s(435,t.tag))}}function xc(t,r){var a=aw(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=pw.bind(null,t,l);l.then(f,f)}})}function ln(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=r,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Yr(b.type)){ot=b.stateNode,on=!1;break e}break;case 5:ot=b.stateNode,on=!1;break e;case 3:case 4:ot=b.stateNode.containerInfo,on=!0;break e}b=b.return}if(ot===null)throw Error(s(160));N_(d,_,f),ot=null,on=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)x_(r,t),r=r.sibling}var ei=null;function x_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(r,t),un(t),l&4&&(Br(3,t,t.return),Cl(3,t),Br(5,t,t.return));break;case 1:ln(r,t),un(t),l&512&&(wt||a===null||Oi(a,a.return)),l&64&&ir&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ei;if(ln(r,t),un(t),l&512&&(wt||a===null||Oi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[yi]||d[vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Gt(d,l,a),d[vt]=t,Et(d),l=d;break e;case"link":var _=xv("link","href",f).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=f.createElement(l),Gt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=xv("meta","content",f).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=f.createElement(l),Gt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[vt]=t,Et(d),l=d}t.stateNode=l}else Mv(f,t.type,t.stateNode);else t.stateNode=Ov(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Mv(f,t.type,t.stateNode):Ov(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ld(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(r,t),un(t),l&512&&(wt||a===null||Oi(a,a.return)),a!==null&&l&4&&Ld(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(r,t),un(t),l&512&&(wt||a===null||Oi(a,a.return)),t.flags&32){f=t.stateNode;try{an(f,"")}catch(fe){Ye(t,t.return,fe)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Ld(t,f,a!==null?a.memoizedProps:f)),l&1024&&(zd=!0);break;case 6:if(ln(r,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){Ye(t,t.return,fe)}}break;case 3:if(Yc=null,f=ei,ei=Kc(r.containerInfo),ln(r,t),ei=f,un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{lo(r.containerInfo)}catch(fe){Ye(t,t.return,fe)}zd&&(zd=!1,M_(t));break;case 4:l=ei,ei=Kc(t.stateNode.containerInfo),ln(r,t),un(t),ei=l;break;case 12:ln(r,t),un(t);break;case 31:ln(r,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xc(t,l)));break;case 13:ln(r,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vc=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xc(t,l)));break;case 22:f=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,H=ir,Q=wt;if(ir=H||f,wt=Q||D,ln(r,t),wt=Q,ir=H,un(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||D||ir||wt||Js(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){D=a=r;try{if(d=D.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=D.stateNode;var ee=D.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;b.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(fe){Ye(D,D.return,fe)}}}else if(r.tag===6){if(a===null){D=r;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(fe){Ye(D,D.return,fe)}}}else if(r.tag===18){if(a===null){D=r;try{var $=D.stateNode;f?bv($,!0):bv(D.stateNode,!1)}catch(fe){Ye(D,D.return,fe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,xc(t,a))));break;case 19:ln(r,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xc(t,l)));break;case 30:break;case 21:break;default:ln(r,t),un(t)}}function un(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(A_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Ud(t);Oc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(an(_,""),a.flags&=-33);var b=Ud(t);Oc(t,b,_);break;case 3:case 4:var D=a.stateNode.containerInfo,H=Ud(t);jd(t,H,D);break;default:throw Error(s(161))}}catch(Q){Ye(t,t.return,Q)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function M_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;M_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function sr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)C_(t,r.alternate,r),r=r.sibling}function Js(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Br(4,r,r.return),Js(r);break;case 1:Oi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&b_(r,r.return,a),Js(r);break;case 27:Ll(r.stateNode);case 26:case 5:Oi(r,r.return),Js(r);break;case 22:r.memoizedState===null&&Js(r);break;case 30:Js(r);break;default:Js(r)}t=t.sibling}}function ar(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:ar(f,d,a),Cl(4,d);break;case 1:if(ar(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){Ye(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)cy(D[f],b)}catch(H){Ye(l,l.return,H)}}a&&_&64&&T_(d),Il(d,d.return);break;case 27:w_(d);case 26:case 5:ar(f,d,a),a&&l===null&&_&4&&S_(d),Il(d,d.return);break;case 12:ar(f,d,a);break;case 31:ar(f,d,a),a&&_&4&&D_(f,d);break;case 13:ar(f,d,a),a&&_&4&&O_(f,d);break;case 22:d.memoizedState===null&&ar(f,d,a),Il(d,d.return);break;case 30:break;default:ar(f,d,a)}r=r.sibling}}function Bd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ml(a))}function qd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ml(t))}function ti(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)V_(t,r,a,l),r=r.sibling}function V_(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ti(t,r,a,l),f&2048&&Cl(9,r);break;case 1:ti(t,r,a,l);break;case 3:ti(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ml(t)));break;case 12:if(f&2048){ti(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Ye(r,r.return,D)}}else ti(t,r,a,l);break;case 31:ti(t,r,a,l);break;case 13:ti(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?ti(t,r,a,l):Nl(t,r):d._visibility&2?ti(t,r,a,l):(d._visibility|=2,Wa(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Bd(_,r);break;case 24:ti(t,r,a,l),f&2048&&qd(r.alternate,r);break;default:ti(t,r,a,l)}}function Wa(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,_=r,b=a,D=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Wa(d,_,b,D,f),Cl(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?Wa(d,_,b,D,f):Nl(d,_):(Q._visibility|=2,Wa(d,_,b,D,f)),f&&H&2048&&Bd(_.alternate,_);break;case 24:Wa(d,_,b,D,f),f&&H&2048&&qd(_.alternate,_);break;default:Wa(d,_,b,D,f)}r=r.sibling}}function Nl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:Nl(a,l),f&2048&&Bd(l.alternate,l);break;case 24:Nl(a,l),f&2048&&qd(l.alternate,l);break;default:Nl(a,l)}r=r.sibling}}var Dl=8192;function Ja(t,r,a){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)k_(t,r,a),t=t.sibling}function k_(t,r,a){switch(t.tag){case 26:Ja(t,r,a),t.flags&Dl&&t.memoizedState!==null&&Kw(a,ei,t.memoizedState,t.memoizedProps);break;case 5:Ja(t,r,a);break;case 3:case 4:var l=ei;ei=Kc(t.stateNode.containerInfo),Ja(t,r,a),ei=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Dl,Dl=16777216,Ja(t,r,a),Dl=l):Ja(t,r,a));break;default:Ja(t,r,a)}}function P_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Ol(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ut=l,U_(l,t)}P_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)L_(t),t=t.sibling}function L_(t){switch(t.tag){case 0:case 11:case 15:Ol(t),t.flags&2048&&Br(9,t,t.return);break;case 3:Ol(t);break;case 12:Ol(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Mc(t)):Ol(t);break;default:Ol(t)}}function Mc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ut=l,U_(l,t)}P_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Br(8,r,r.return),Mc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Mc(r));break;default:Mc(r)}t=t.sibling}}function U_(t,r){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Br(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var f=l.sibling,d=l.return;if(I_(l),l===a){Ut=null;break e}if(f!==null){f.return=d,Ut=f;break e}Ut=d}}}var ow={getCacheForType:function(t){var r=Ht(bt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Ht(bt).controller.signal}},lw=typeof WeakMap=="function"?WeakMap:Map,He=0,Ze=null,Ne=null,Oe=0,$e=0,Tn=null,qr=!1,Za=!1,Hd=!1,or=0,ht=0,Hr=0,Zs=0,Fd=0,bn=0,eo=0,xl=null,cn=null,Gd=!1,Vc=0,j_=0,kc=1/0,Pc=null,Fr=null,xt=0,Gr=null,to=null,lr=0,Kd=0,$d=null,z_=null,Ml=0,Yd=null;function Sn(){return(He&2)!==0&&Oe!==0?Oe&-Oe:X.T!==null?em():Lu()}function B_(){if(bn===0)if((Oe&536870912)===0||Pe){var t=Rs;Rs<<=1,(Rs&3932160)===0&&(Rs=262144),bn=t}else bn=536870912;return t=vn.current,t!==null&&(t.flags|=32),bn}function hn(t,r,a){(t===Ze&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(no(t,0),Kr(t,Oe,bn,!1)),Cs(t,a),((He&2)===0||t!==Ze)&&(t===Ze&&((He&2)===0&&(Zs|=a),ht===4&&Kr(t,Oe,bn,!1)),xi(t))}function q_(t,r,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Gn(t,r),f=l?hw(t,r):Xd(t,r,!0),d=l;do{if(f===0){Za&&!l&&Kr(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!uw(a)){f=Xd(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var b=t;f=xl;var D=b.current.memoizedState.isDehydrated;if(D&&(no(b,_).flags|=256),_=Xd(b,_,!1),_!==2){if(Hd&&!D){b.errorRecoveryDisabledLanes|=d,Zs|=d,f=4;break e}d=cn,cn=f,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){no(t,0),Kr(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Kr(l,r,bn,!qr);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Vc+300-en(),10<f)){if(Kr(l,r,bn,!qr),mi(l,0,!0)!==0)break e;lr=r,l.timeoutHandle=vv(H_.bind(null,l,a,cn,Pc,Gd,r,bn,Zs,eo,qr,d,"Throttled",-0,0),f);break e}H_(l,a,cn,Pc,Gd,r,bn,Zs,eo,qr,d,null,-0,0)}}break}while(!0);xi(t)}function H_(t,r,a,l,f,d,_,b,D,H,Q,ee,F,$){if(t.timeoutHandle=-1,ee=r.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},k_(r,d,ee);var fe=(d&62914560)===d?Vc-en():(d&4194048)===d?j_-en():0;if(fe=$w(ee,fe),fe!==null){lr=d,t.cancelPendingCommit=fe(W_.bind(null,t,r,d,a,l,f,_,b,D,Q,ee,null,F,$)),Kr(t,d,_,!H);return}}W_(t,r,d,a,l,f,_,b,D)}function uw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!yn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Kr(t,r,a,l){r&=~Fd,r&=~Zs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-ft(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Is(t,a,r)}function Lc(){return(He&6)===0?(Vl(0),!1):!0}function Qd(){if(Ne!==null){if($e===0)var t=Ne.return;else t=Ne,Wi=Fs=null,hd(t),Ka=null,gl=0,t=Ne;for(;t!==null;)E_(t.alternate,t),t=t.return;Ne=null}}function no(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Nw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),lr=0,Qd(),Ze=t,Ne=a=Qi(t.current,null),Oe=r,$e=0,Tn=null,qr=!1,Za=Gn(t,r),Hd=!1,eo=bn=Fd=Zs=Hr=ht=0,cn=xl=null,Gd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-ft(l),d=1<<f;r|=t[f],l&=~d}return or=r,rc(),a}function F_(t,r){Re=null,X.H=Al,r===Ga||r===fc?(r=ay(),$e=3):r===Zf?(r=ay(),$e=4):$e=r===Cd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Tn=r,Ne===null&&(ht=1,Rc(t,On(r,t.current)))}function G_(){var t=vn.current;return t===null?!0:(Oe&4194048)===Oe?kn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===kn:!1}function K_(){var t=X.H;return X.H=Al,t===null?Al:t}function $_(){var t=X.A;return X.A=ow,t}function Uc(){ht=4,qr||(Oe&4194048)!==Oe&&vn.current!==null||(Za=!0),(Hr&134217727)===0&&(Zs&134217727)===0||Ze===null||Kr(Ze,Oe,bn,!1)}function Xd(t,r,a){var l=He;He|=2;var f=K_(),d=$_();(Ze!==t||Oe!==r)&&(Pc=null,no(t,r)),r=!1;var _=ht;e:do try{if($e!==0&&Ne!==null){var b=Ne,D=Tn;switch($e){case 8:Qd(),_=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(r=!0);var H=$e;if($e=0,Tn=null,io(t,b,D,H),a&&Za){_=0;break e}break;default:H=$e,$e=0,Tn=null,io(t,b,D,H)}}cw(),_=ht;break}catch(Q){F_(t,Q)}while(!0);return r&&t.shellSuspendCounter++,Wi=Fs=null,He=l,X.H=f,X.A=d,Ne===null&&(Ze=null,Oe=0,rc()),_}function cw(){for(;Ne!==null;)Y_(Ne)}function hw(t,r){var a=He;He|=2;var l=K_(),f=$_();Ze!==t||Oe!==r?(Pc=null,kc=en()+500,no(t,r)):Za=Gn(t,r);e:do try{if($e!==0&&Ne!==null){r=Ne;var d=Tn;t:switch($e){case 1:$e=0,Tn=null,io(t,r,d,1);break;case 2:case 9:if(ry(d)){$e=0,Tn=null,Q_(r);break}r=function(){$e!==2&&$e!==9||Ze!==t||($e=7),xi(t)},d.then(r,r);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:ry(d)?($e=0,Tn=null,Q_(r)):($e=0,Tn=null,io(t,r,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var b=Ne;if(_?Vv(_):b.stateNode.complete){$e=0,Tn=null;var D=b.sibling;if(D!==null)Ne=D;else{var H=b.return;H!==null?(Ne=H,jc(H)):Ne=null}break t}}$e=0,Tn=null,io(t,r,d,5);break;case 6:$e=0,Tn=null,io(t,r,d,6);break;case 8:Qd(),ht=6;break e;default:throw Error(s(462))}}fw();break}catch(Q){F_(t,Q)}while(!0);return Wi=Fs=null,X.H=l,X.A=f,He=a,Ne!==null?0:(Ze=null,Oe=0,rc(),ht)}function fw(){for(;Ne!==null&&!Rf();)Y_(Ne)}function Y_(t){var r=__(t.alternate,t,or);t.memoizedProps=t.pendingProps,r===null?jc(t):Ne=r}function Q_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=f_(a,r,r.pendingProps,r.type,void 0,Oe);break;case 11:r=f_(a,r,r.pendingProps,r.type.render,r.ref,Oe);break;case 5:hd(r);default:E_(a,r),r=Ne=$g(r,or),r=__(a,r,or)}t.memoizedProps=t.pendingProps,r===null?jc(t):Ne=r}function io(t,r,a,l){Wi=Fs=null,hd(r),Ka=null,gl=0;var f=r.return;try{if(ew(t,f,r,a,Oe)){ht=1,Rc(t,On(a,t.current)),Ne=null;return}}catch(d){if(f!==null)throw Ne=f,d;ht=1,Rc(t,On(a,t.current)),Ne=null;return}r.flags&32768?(Pe||l===1?t=!0:Za||(Oe&536870912)!==0?t=!1:(qr=t=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),X_(r,t)):jc(r)}function jc(t){var r=t;do{if((r.flags&32768)!==0){X_(r,qr);return}t=r.return;var a=iw(r.alternate,r,or);if(a!==null){Ne=a;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=t}while(r!==null);ht===0&&(ht=5)}function X_(t,r){do{var a=rw(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ht=6,Ne=null}function W_(t,r,a,l,f,d,_,b,D){t.cancelPendingCommit=null;do zc();while(xt!==0);if((He&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Uf,Nf(t,a,d,_,b,D),t===Ze&&(Ne=Ze=null,Oe=0),to=r,Gr=t,lr=a,Kd=d,$d=f,z_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,gw(br,function(){return nv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=ae.p,ae.p=2,_=He,He|=4;try{sw(t,r,a)}finally{He=_,ae.p=f,X.T=l}}xt=1,J_(),Z_(),ev()}}function J_(){if(xt===1){xt=0;var t=Gr,r=to,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=ae.p;ae.p=2;var f=He;He|=4;try{x_(r,t);var d=lm,_=Ug(t.containerInfo),b=d.focusedElem,D=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&Lg(b.ownerDocument.documentElement,b)){if(D!==null&&Mf(b)){var H=D.start,Q=D.end;if(Q===void 0&&(Q=H),"selectionStart"in b)b.selectionStart=H,b.selectionEnd=Math.min(Q,b.value.length);else{var ee=b.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var $=F.getSelection(),fe=b.textContent.length,_e=Math.min(D.start,fe),Je=D.end===void 0?_e:Math.min(D.end,fe);!$.extend&&_e>Je&&(_=Je,Je=_e,_e=_);var z=Pg(b,_e),x=Pg(b,Je);if(z&&x&&($.rangeCount!==1||$.anchorNode!==z.node||$.anchorOffset!==z.offset||$.focusNode!==x.node||$.focusOffset!==x.offset)){var q=ee.createRange();q.setStart(z.node,z.offset),$.removeAllRanges(),_e>Je?($.addRange(q),$.extend(x.node,x.offset)):(q.setEnd(x.node,x.offset),$.addRange(q))}}}}for(ee=[],$=b;$=$.parentNode;)$.nodeType===1&&ee.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ee.length;b++){var W=ee[b];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Jc=!!om,lm=om=null}finally{He=f,ae.p=l,X.T=a}}t.current=r,xt=2}}function Z_(){if(xt===2){xt=0;var t=Gr,r=to,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=ae.p;ae.p=2;var f=He;He|=4;try{C_(t,r.alternate,r)}finally{He=f,ae.p=l,X.T=a}}xt=3}}function ev(){if(xt===4||xt===3){xt=0,Du();var t=Gr,r=to,a=lr,l=z_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?xt=5:(xt=0,to=Gr=null,tv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Fr=null),Gi(a),r=r.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Fn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,f=ae.p,ae.p=2,X.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{X.T=r,ae.p=f}}(lr&3)!==0&&zc(),xi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Yd?Ml++:(Ml=0,Yd=t):Ml=0,Vl(0)}}function tv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ml(r)))}function zc(){return J_(),Z_(),ev(),nv()}function nv(){if(xt!==5)return!1;var t=Gr,r=Kd;Kd=0;var a=Gi(lr),l=X.T,f=ae.p;try{ae.p=32>a?32:a,X.T=null,a=$d,$d=null;var d=Gr,_=lr;if(xt=0,to=Gr=null,lr=0,(He&6)!==0)throw Error(s(331));var b=He;if(He|=4,L_(d.current),V_(d,d.current,_,a),He=b,Vl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Fn,d)}catch{}return!0}finally{ae.p=f,X.T=l,tv(t,r)}}function iv(t,r,a){r=On(a,r),r=Rd(t.stateNode,r,2),t=Ur(t,r,2),t!==null&&(Cs(t,2),xi(t))}function Ye(t,r,a){if(t.tag===3)iv(t,t,a);else for(;r!==null;){if(r.tag===3){iv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fr===null||!Fr.has(l))){t=On(a,t),a=r_(2),l=Ur(r,a,2),l!==null&&(s_(a,l,r,t),Cs(l,2),xi(l));break}}r=r.return}}function Wd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new lw;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Hd=!0,f.add(a),t=dw.bind(null,t,r,a),r.then(t,t))}function dw(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(Oe&a)===a&&(ht===4||ht===3&&(Oe&62914560)===Oe&&300>en()-Vc?(He&2)===0&&no(t,0):Fd|=a,eo===Oe&&(eo=0)),xi(t)}function rv(t,r){r===0&&(r=Pu()),t=Bs(t,r),t!==null&&(Cs(t,r),xi(t))}function mw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),rv(t,a)}function pw(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),rv(t,a)}function gw(t,r){return Ot(t,r)}var Bc=null,ro=null,Jd=!1,qc=!1,Zd=!1,$r=0;function xi(t){t!==ro&&t.next===null&&(ro===null?Bc=ro=t:ro=ro.next=t),qc=!0,Jd||(Jd=!0,_w())}function Vl(t,r){if(!Zd&&qc){Zd=!0;do for(var a=!1,l=Bc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-ft(42|t)+1)-1,d&=f&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,lv(l,d))}else d=Oe,d=mi(l,l===Ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Gn(l,d)||(a=!0,lv(l,d));l=l.next}while(a);Zd=!1}}function yw(){sv()}function sv(){qc=Jd=!1;var t=0;$r!==0&&Iw()&&(t=$r);for(var r=en(),a=null,l=Bc;l!==null;){var f=l.next,d=av(l,r);d===0?(l.next=null,a===null?Bc=f:a.next=f,f===null&&(ro=a)):(a=l,(t!==0||(d&3)!==0)&&(qc=!0)),l=f}xt!==0&&xt!==5||Vl(t),$r!==0&&($r=0)}function av(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-ft(d),b=1<<_,D=f[_];D===-1?((b&a)===0||(b&l)!==0)&&(f[_]=If(b,r)):D<=r&&(t.expiredLanes|=b),d&=~b}if(r=Ze,a=Oe,a=mi(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Tr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Gn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Tr(l),Gi(a)){case 2:case 8:a=Fo;break;case 32:a=br;break;case 268435456:a=Ou;break;default:a=br}return l=ov.bind(null,t),a=Ot(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Tr(l),t.callbackPriority=2,t.callbackNode=null,2}function ov(t,r){if(xt!==0&&xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(zc()&&t.callbackNode!==a)return null;var l=Oe;return l=mi(t,t===Ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(q_(t,l,r),av(t,en()),t.callbackNode!=null&&t.callbackNode===a?ov.bind(null,t):null)}function lv(t,r){if(zc())return null;q_(t,r,!0)}function _w(){Dw(function(){(He&6)!==0?Ot(Ho,yw):sv()})}function em(){if($r===0){var t=Ha;t===0&&(t=fi,fi<<=1,(fi&261888)===0&&(fi=256)),$r=t}return $r}function uv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ia(""+t)}function cv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function vw(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=uv((f[Pt]||null).action),_=l.submitter;_&&(r=(r=_[Pt]||null)?uv(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var b=new wi("action","action",null,l,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($r!==0){var D=_?cv(f,_):new FormData(f);Ed(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(b.preventDefault(),D=_?cv(f,_):new FormData(f),Ed(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var tm=0;tm<Lf.length;tm++){var nm=Lf[tm],Ew=nm.toLowerCase(),Tw=nm[0].toUpperCase()+nm.slice(1);Zn(Ew,"on"+Tw)}Zn(Bg,"onAnimationEnd"),Zn(qg,"onAnimationIteration"),Zn(Hg,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(LA,"onTransitionRun"),Zn(UA,"onTransitionStart"),Zn(jA,"onTransitionCancel"),Zn(Fg,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function hv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var b=l[_],D=b.instance,H=b.currentTarget;if(b=b.listener,D!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=H;try{d(f)}catch(Q){ic(Q)}f.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(b=l[_],D=b.instance,H=b.currentTarget,b=b.listener,D!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=H;try{d(f)}catch(Q){ic(Q)}f.currentTarget=null,d=D}}}}function De(t,r){var a=r[Sa];a===void 0&&(a=r[Sa]=new Set);var l=t+"__bubble";a.has(l)||(fv(r,t,2,!1),a.add(l))}function im(t,r,a){var l=0;r&&(l|=4),fv(a,t,l,r)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function rm(t){if(!t[Hc]){t[Hc]=!0,$o.forEach(function(a){a!=="selectionchange"&&(bw.has(a)||im(a,!1,t),im(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Hc]||(r[Hc]=!0,im("selectionchange",!1,r))}}function fv(t,r,a,l){switch(Bv(r)){case 2:var f=Xw;break;case 8:f=Ww;break;default:f=vm}a=f.bind(null,r,a,t),f=void 0,!Ms||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function sm(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===f)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;b!==null;){if(_=_i(b),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}b=b.parentNode}}l=l.return}Ir(function(){var H=d,Q=Cn(a),ee=[];e:{var F=Gg.get(t);if(F!==void 0){var $=wi,fe=t;switch(t){case"keypress":if(ks(a)===0)break e;case"keydown":case"keyup":$=ec;break;case"focusin":fe="focus",$=Ls;break;case"focusout":fe="blur",$=Ls;break;case"beforeblur":case"afterblur":$=Ls;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=y;break;case Bg:case qg:case Hg:$=$u;break;case Fg:$=S;break;case"scroll":case"scrollend":$=sl;break;case"wheel":$=K;break;case"copy":case"cut":case"paste":$=Yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Yi;break;case"toggle":case"beforetoggle":$=we}var _e=(r&4)!==0,Je=!_e&&(t==="scroll"||t==="scrollend"),z=_e?F!==null?F+"Capture":null:F;_e=[];for(var x=H,q;x!==null;){var W=x;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||z===null||(W=Qn(x,z),W!=null&&_e.push(Pl(x,W,q))),Je)break;x=x.return}0<_e.length&&(F=new $(F,fe,null,a,Q),ee.push({event:F,listeners:_e}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",F&&a!==nl&&(fe=a.relatedTarget||a.fromElement)&&(_i(fe)||fe[gi]))break e;if(($||F)&&(F=Q.window===Q?Q:(F=Q.ownerDocument)?F.defaultView||F.parentWindow:window,$?(fe=a.relatedTarget||a.toElement,$=H,fe=fe?_i(fe):null,fe!==null&&(Je=u(fe),_e=fe.tag,fe!==Je||_e!==5&&_e!==27&&_e!==6)&&(fe=null)):($=null,fe=H),$!==fe)){if(_e=al,W="onMouseLeave",z="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Yi,W="onPointerLeave",z="onPointerEnter",x="pointer"),Je=$==null?F:pn($),q=fe==null?F:pn(fe),F=new _e(W,x+"leave",$,a,Q),F.target=Je,F.relatedTarget=q,W=null,_i(Q)===H&&(_e=new _e(z,x+"enter",fe,a,Q),_e.target=q,_e.relatedTarget=Je,W=_e),Je=W,$&&fe)t:{for(_e=Sw,z=$,x=fe,q=0,W=z;W;W=_e(W))q++;W=0;for(var pe=x;pe;pe=_e(pe))W++;for(;0<q-W;)z=_e(z),q--;for(;0<W-q;)x=_e(x),W--;for(;q--;){if(z===x||x!==null&&z===x.alternate){_e=z;break t}z=_e(z),x=_e(x)}_e=null}else _e=null;$!==null&&dv(ee,F,$,_e,!1),fe!==null&&Je!==null&&dv(ee,Je,fe,_e,!0)}}e:{if(F=H?pn(H):window,$=F.nodeName&&F.nodeName.toLowerCase(),$==="select"||$==="input"&&F.type==="file")var ze=Dg;else if(Ig(F))if(Og)ze=VA;else{ze=xA;var de=OA}else $=F.nodeName,!$||$.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Ca(H.elementType)&&(ze=Dg):ze=MA;if(ze&&(ze=ze(t,H))){Ng(ee,ze,a,Q);break e}de&&de(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&Zo(F,"number",F.value)}switch(de=H?pn(H):window,t){case"focusin":(Ig(de)||de.contentEditable==="true")&&(ka=de,Vf=H,hl=null);break;case"focusout":hl=Vf=ka=null;break;case"mousedown":kf=!0;break;case"contextmenu":case"mouseup":case"dragend":kf=!1,jg(ee,a,Q);break;case"selectionchange":if(PA)break;case"keydown":case"keyup":jg(ee,a,Q)}var Ie;if(qe)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Va?Us(t,a)&&(xe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(Ii&&a.locale!=="ko"&&(Va||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Va&&(Ie=rl()):(Ai=Q,il="value"in Ai?Ai.value:Ai.textContent,Va=!0)),de=Fc(H,xe),0<de.length&&(xe=new Ci(xe,t,null,a,Q),ee.push({event:xe,listeners:de}),Ie?xe.data=Ie:(Ie=Ma(a),Ie!==null&&(xe.data=Ie)))),(Ie=Nn?CA(t,a):IA(t,a))&&(xe=Fc(H,"onBeforeInput"),0<xe.length&&(de=new Ci("onBeforeInput","beforeinput",null,a,Q),ee.push({event:de,listeners:xe}),de.data=Ie)),vw(ee,t,H,a,Q)}hv(ee,r)})}function Pl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Fc(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Qn(t,a),f!=null&&l.unshift(Pl(t,f,d)),f=Qn(t,r),f!=null&&l.push(Pl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function Sw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function dv(t,r,a,l,f){for(var d=r._reactName,_=[];a!==null&&a!==l;){var b=a,D=b.alternate,H=b.stateNode;if(b=b.tag,D!==null&&D===l)break;b!==5&&b!==26&&b!==27||H===null||(D=H,f?(H=Qn(a,d),H!=null&&_.unshift(Pl(a,H,D))):f||(H=Qn(a,d),H!=null&&_.push(Pl(a,H,D)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var Aw=/\r\n?/g,ww=/\u0000|\uFFFD/g;function mv(t){return(typeof t=="string"?t:""+t).replace(Aw,`
`).replace(ww,"")}function pv(t,r){return r=mv(r),mv(t)===r}function We(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&an(t,""+l);break;case"className":gn(t,"class",l);break;case"tabIndex":gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,l);break;case"style":tl(t,l,d);break;case"data":if(r!=="object"){gn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&We(t,r,"name",f.name,f,null),We(t,r,"formEncType",f.formEncType,f,null),We(t,r,"formMethod",f.formMethod,f,null),We(t,r,"formTarget",f.formTarget,f,null)):(We(t,r,"encType",f.encType,f,null),We(t,r,"method",f.method,f,null),We(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ia(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),wa(t,"popover",l);break;case"xlinkActuate":Tt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Fu.get(a)||a,wa(t,a,l))}}function am(t,r,a,l,f,d){switch(a){case"style":tl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[Pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):wa(t,a,l)}}}function Gt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,d,_,a,null)}}f&&We(t,r,"srcSet",a.srcSet,a,null),l&&We(t,r,"src",a.src,a,null);return;case"input":De("invalid",t);var b=d=_=f=null,D=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":f=Q;break;case"type":_=Q;break;case"checked":D=Q;break;case"defaultChecked":H=Q;break;case"value":d=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:We(t,r,l,Q,a,null)}}Bu(t,d,b,D,H,_,f,!1);return;case"select":De("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:We(t,r,f,b,a,null)}r=d,a=_,t.multiple=!!l,r!=null?Ar(t,!!l,r,!1):a!=null&&Ar(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:We(t,r,_,b,a,null)}wr(t,l,f,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,r,D,l,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<kl.length;l++)De(kl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,H,l,a,null)}return;default:if(Ca(r)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&am(t,r,Q,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&We(t,r,b,l,a,null))}function Rw(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,b=null,D=null,H=null,Q=null;for($ in a){var ee=a[$];if(a.hasOwnProperty($)&&ee!=null)switch($){case"checked":break;case"value":break;case"defaultValue":D=ee;default:l.hasOwnProperty($)||We(t,r,$,null,l,ee)}}for(var F in l){var $=l[F];if(ee=a[F],l.hasOwnProperty(F)&&($!=null||ee!=null))switch(F){case"type":d=$;break;case"name":f=$;break;case"checked":H=$;break;case"defaultChecked":Q=$;break;case"value":_=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==ee&&We(t,r,F,$,l,ee)}}Ra(t,_,b,D,H,Q,d,f);return;case"select":$=_=b=F=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":$=D;default:l.hasOwnProperty(d)||We(t,r,d,null,l,D)}for(f in l)if(d=l[f],D=a[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":F=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==D&&We(t,r,f,d,l,D)}r=b,a=_,l=$,F!=null?Ar(t,!!a,F,!1):!!l!=!!a&&(r!=null?Ar(t,!!a,r,!0):Ar(t,!!a,a?[]:"",!1));return;case"textarea":$=F=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:We(t,r,b,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":F=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&We(t,r,_,f,l,d)}qu(t,F,$);return;case"option":for(var fe in a)if(F=a[fe],a.hasOwnProperty(fe)&&F!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:We(t,r,fe,null,l,F)}for(D in l)if(F=l[D],$=a[D],l.hasOwnProperty(D)&&F!==$&&(F!=null||$!=null))switch(D){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:We(t,r,D,F,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)F=a[_e],a.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e)&&We(t,r,_e,null,l,F);for(H in l)if(F=l[H],$=a[H],l.hasOwnProperty(H)&&F!==$&&(F!=null||$!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:We(t,r,H,F,l,$)}return;default:if(Ca(r)){for(var Je in a)F=a[Je],a.hasOwnProperty(Je)&&F!==void 0&&!l.hasOwnProperty(Je)&&am(t,r,Je,void 0,l,F);for(Q in l)F=l[Q],$=a[Q],!l.hasOwnProperty(Q)||F===$||F===void 0&&$===void 0||am(t,r,Q,F,l,$);return}}for(var z in a)F=a[z],a.hasOwnProperty(z)&&F!=null&&!l.hasOwnProperty(z)&&We(t,r,z,null,l,F);for(ee in l)F=l[ee],$=a[ee],!l.hasOwnProperty(ee)||F===$||F==null&&$==null||We(t,r,ee,F,l,$)}function gv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Cw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,b=f.duration;if(d&&b&&gv(_)){for(_=0,b=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],H=D.startTime;if(H>b)break;var Q=D.transferSize,ee=D.initiatorType;Q&&gv(ee)&&(D=D.responseEnd,_+=Q*(D<b?1:(b-H)/(D-H)))}if(--l,r+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var om=null,lm=null;function Gc(t){return t.nodeType===9?t:t.ownerDocument}function yv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _v(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function um(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var cm=null;function Iw(){var t=window.event;return t&&t.type==="popstate"?t===cm?!1:(cm=t,!0):(cm=null,!1)}var vv=typeof setTimeout=="function"?setTimeout:void 0,Nw=typeof clearTimeout=="function"?clearTimeout:void 0,Ev=typeof Promise=="function"?Promise:void 0,Dw=typeof queueMicrotask=="function"?queueMicrotask:typeof Ev<"u"?function(t){return Ev.resolve(null).then(t).catch(Ow)}:vv;function Ow(t){setTimeout(function(){throw t})}function Yr(t){return t==="head"}function Tv(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),lo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ll(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ll(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[yi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Ll(t.ownerDocument.body);a=f}while(a);lo(r)}function bv(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function hm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hm(a),Aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function xw(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[yi])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function Mw(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Pn(t.nextSibling),t===null))return null;return t}function Sv(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Pn(t.nextSibling),t===null))return null;return t}function fm(t){return t.data==="$?"||t.data==="$~"}function dm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Vw(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var mm=null;function Av(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Pn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function wv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Rv(t,r,a){switch(r=Gc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ll(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Aa(t)}var Ln=new Map,Cv=new Set;function Kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ur=ae.d;ae.d={f:kw,r:Pw,D:Lw,C:Uw,L:jw,m:zw,X:qw,S:Bw,M:Hw};function kw(){var t=ur.f(),r=Lc();return t||r}function Pw(t){var r=Rn(t);r!==null&&r.tag===5&&r.type==="form"?Fy(r):ur.r(t)}var so=typeof document>"u"?null:document;function Iv(t,r,a){var l=so;if(l&&typeof r=="string"&&r){var f=sn(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Cv.has(f)||(Cv.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Gt(r,"link",t),Et(r),l.head.appendChild(r)))}}function Lw(t){ur.D(t),Iv("dns-prefetch",t,null)}function Uw(t,r){ur.C(t,r),Iv("preconnect",t,r)}function jw(t,r,a){ur.L(t,r,a);var l=so;if(l&&t&&r){var f='link[rel="preload"][as="'+sn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+sn(a.imageSizes)+'"]')):f+='[href="'+sn(t)+'"]';var d=f;switch(r){case"style":d=ao(t);break;case"script":d=oo(t)}Ln.has(d)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Ln.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Ul(d))||r==="script"&&l.querySelector(jl(d))||(r=l.createElement("link"),Gt(r,"link",t),Et(r),l.head.appendChild(r)))}}function zw(t,r){ur.m(t,r);var a=so;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=oo(t)}if(!Ln.has(d)&&(t=T({rel:"modulepreload",href:t},r),Ln.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jl(d)))return}l=a.createElement("link"),Gt(l,"link",t),Et(l),a.head.appendChild(l)}}}function Bw(t,r,a){ur.S(t,r,a);var l=so;if(l&&t){var f=vi(l).hoistableStyles,d=ao(t);r=r||"default";var _=f.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Ul(d)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Ln.get(d))&&pm(t,a);var D=_=l.createElement("link");Et(D),Gt(D,"link",t),D._p=new Promise(function(H,Q){D.onload=H,D.onerror=Q}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,$c(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(d,_)}}}function qw(t,r){ur.X(t,r);var a=so;if(a&&t){var l=vi(a).hoistableScripts,f=oo(t),d=l.get(f);d||(d=a.querySelector(jl(f)),d||(t=T({src:t,async:!0},r),(r=Ln.get(f))&&gm(t,r),d=a.createElement("script"),Et(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Hw(t,r){ur.M(t,r);var a=so;if(a&&t){var l=vi(a).hoistableScripts,f=oo(t),d=l.get(f);d||(d=a.querySelector(jl(f)),d||(t=T({src:t,async:!0,type:"module"},r),(r=Ln.get(f))&&gm(t,r),d=a.createElement("script"),Et(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Nv(t,r,a,l){var f=(f=Ce.current)?Kc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=ao(a.href),a=vi(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ao(a.href);var d=vi(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Ul(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||Fw(f,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=oo(a),a=vi(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ao(t){return'href="'+sn(t)+'"'}function Ul(t){return'link[rel="stylesheet"]['+t+"]"}function Dv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function Fw(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Gt(r,"link",a),Et(r),t.head.appendChild(r))}function oo(t){return'[src="'+sn(t)+'"]'}function jl(t){return"script[async]"+t}function Ov(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(l)return r.instance=l,Et(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Et(l),Gt(l,"style",f),$c(l,a.precedence,t),r.instance=l;case"stylesheet":f=ao(a.href);var d=t.querySelector(Ul(f));if(d)return r.state.loading|=4,r.instance=d,Et(d),d;l=Dv(a),(f=Ln.get(f))&&pm(l,f),d=(t.ownerDocument||t).createElement("link"),Et(d);var _=d;return _._p=new Promise(function(b,D){_.onload=b,_.onerror=D}),Gt(d,"link",l),r.state.loading|=4,$c(d,a.precedence,t),r.instance=d;case"script":return d=oo(a.src),(f=t.querySelector(jl(d)))?(r.instance=f,Et(f),f):(l=a,(f=Ln.get(d))&&(l=T({},a),gm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Et(f),Gt(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,$c(l,a.precedence,t));return r.instance}function $c(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===r)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function pm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function gm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Yc=null;function xv(t,r,a){if(Yc===null){var l=new Map,f=Yc=new Map;f.set(a,l)}else f=Yc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[yi]||d[vt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function Mv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function Gw(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Vv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Kw(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=ao(l.href),d=r.querySelector(Ul(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Qc.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,Et(d);return}d=r.ownerDocument||r,l=Dv(l),(f=Ln.get(f))&&pm(l,f),d=d.createElement("link"),Et(d);var _=d;_._p=new Promise(function(b,D){_.onload=b,_.onerror=D}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Qc.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var ym=0;function $w(t,r){return t.stylesheets&&t.count===0&&Wc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Wc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&ym===0&&(ym=62500*Cw());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Wc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>ym?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xc=null;function Wc(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xc=new Map,r.forEach(Yw,t),Xc=null,Qc.call(t))}function Yw(t,r){if(!(r.state.loading&4)){var a=Xc.get(t);if(a)var l=a.get(null);else{a=new Map,Xc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Qc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var zl={$$typeof:J,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function Qw(t,r,a,l,f,d,_,b,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function kv(t,r,a,l,f,d,_,b,D,H,Q,ee){return t=new Qw(t,r,a,_,D,H,Q,ee,b),r=1,d===!0&&(r|=24),d=_n(3,null,null,r),t.current=d,d.stateNode=t,r=Xf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},ed(d),t}function Pv(t){return t?(t=Ua,t):Ua}function Lv(t,r,a,l,f,d){f=Pv(f),l.context===null?l.context=f:l.pendingContext=f,l=Lr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ur(t,l,r),a!==null&&(hn(a,t,r),_l(a,t,r))}function Uv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function _m(t,r){Uv(t,r),(t=t.alternate)&&Uv(t,r)}function jv(t){if(t.tag===13||t.tag===31){var r=Bs(t,67108864);r!==null&&hn(r,t,67108864),_m(t,67108864)}}function zv(t){if(t.tag===13||t.tag===31){var r=Sn();r=Ns(r);var a=Bs(t,r);a!==null&&hn(a,t,r),_m(t,r)}}var Jc=!0;function Xw(t,r,a,l){var f=X.T;X.T=null;var d=ae.p;try{ae.p=2,vm(t,r,a,l)}finally{ae.p=d,X.T=f}}function Ww(t,r,a,l){var f=X.T;X.T=null;var d=ae.p;try{ae.p=8,vm(t,r,a,l)}finally{ae.p=d,X.T=f}}function vm(t,r,a,l){if(Jc){var f=Em(l);if(f===null)sm(t,r,l,Zc,a),qv(t,l);else if(Zw(f,t,r,a,l))l.stopPropagation();else if(qv(t,l),r&4&&-1<Jw.indexOf(t)){for(;f!==null;){var d=Rn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=di(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var D=1<<31-ft(_);b.entanglements[1]|=D,_&=~D}xi(d),(He&6)===0&&(kc=en()+500,Vl(0))}}break;case 31:case 13:b=Bs(d,2),b!==null&&hn(b,d,2),Lc(),_m(d,2)}if(d=Em(l),d===null&&sm(t,r,l,Zc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else sm(t,r,l,null,a)}}function Em(t){return t=Cn(t),Tm(t)}var Zc=null;function Tm(t){if(Zc=null,t=_i(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Zc=t,null}function Bv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ws()){case Ho:return 2;case Fo:return 8;case br:case Cf:return 32;case Ou:return 268435456;default:return 32}default:return 32}}var bm=!1,Qr=null,Xr=null,Wr=null,Bl=new Map,ql=new Map,Jr=[],Jw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qv(t,r){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Bl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(r.pointerId)}}function Hl(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Rn(r),r!==null&&jv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function Zw(t,r,a,l,f){switch(r){case"focusin":return Qr=Hl(Qr,t,r,a,l,f),!0;case"dragenter":return Xr=Hl(Xr,t,r,a,l,f),!0;case"mouseover":return Wr=Hl(Wr,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Bl.set(d,Hl(Bl.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,ql.set(d,Hl(ql.get(d)||null,t,r,a,l,f)),!0}return!1}function Hv(t){var r=_i(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,Kn(t.priority,function(){zv(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,Kn(t.priority,function(){zv(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Em(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);nl=l,a.target.dispatchEvent(l),nl=null}else return r=Rn(a),r!==null&&jv(r),t.blockedOn=a,!1;r.shift()}return!0}function Fv(t,r,a){eh(t)&&a.delete(r)}function e1(){bm=!1,Qr!==null&&eh(Qr)&&(Qr=null),Xr!==null&&eh(Xr)&&(Xr=null),Wr!==null&&eh(Wr)&&(Wr=null),Bl.forEach(Fv),ql.forEach(Fv)}function th(t,r){t.blockedOn===r&&(t.blockedOn=null,bm||(bm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,e1)))}var nh=null;function Gv(t){nh!==t&&(nh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){nh===t&&(nh=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Tm(l||a)===null)continue;break}var d=Rn(a);d!==null&&(t.splice(r,3),r-=3,Ed(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function lo(t){function r(D){return th(D,t)}Qr!==null&&th(Qr,t),Xr!==null&&th(Xr,t),Wr!==null&&th(Wr,t),Bl.forEach(r),ql.forEach(r);for(var a=0;a<Jr.length;a++){var l=Jr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Jr.length&&(a=Jr[0],a.blockedOn===null);)Hv(a),a.blockedOn===null&&Jr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Pt]||null;if(typeof d=="function")_||Gv(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Pt]||null)b=_.formAction;else if(Tm(f)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Gv(a)}}}function Kv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Sm(t){this._internalRoot=t}ih.prototype.render=Sm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Sn();Lv(a,l,t,r,null,null)},ih.prototype.unmount=Sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Lv(t.current,2,null,t,null,null),Lc(),r[gi]=null}};function ih(t){this._internalRoot=t}ih.prototype.unstable_scheduleHydration=function(t){if(t){var r=Lu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Jr.length&&r!==0&&r<Jr[a].priority;a++);Jr.splice(a,0,t),a===0&&Hv(t)}};var $v=e.version;if($v!=="19.2.0")throw Error(s(527,$v,"19.2.0"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var t1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{Fn=rh.inject(t1),zt=rh}catch{}}return Gl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=e_,d=t_,_=n_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=kv(t,1,!1,null,null,a,l,null,f,d,_,Kv),t[gi]=r.current,rm(t),new Sm(r)},Gl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=e_,_=t_,b=n_,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),r=kv(t,1,!0,r,a??null,l,f,D,d,_,b,Kv),r.context=Pv(null),a=r.current,l=Sn(),l=Ns(l),f=Lr(l),f.callback=null,Ur(a,f,l),a=l,r.current.lanes=a,Cs(r,a),xi(r),t[gi]=r.current,rm(t),new ih(r)},Gl.version="19.2.0",Gl}var iE;function h1(){if(iE)return Rm.exports;iE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Rm.exports=c1(),Rm.exports}var f1=h1();const d1=a0(f1);var rE="popstate";function m1(i={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return Ym("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:ou(o)}return g1(e,n,null,i)}function lt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function oi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function p1(){return Math.random().toString(36).substring(2,10)}function sE(i,e){return{usr:i.state,key:i.key,idx:e}}function Ym(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Do(e):e,state:n,key:e&&e.key||s||p1()}}function ou({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Do(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function g1(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let U=E(),Y=U==null?null:U-g;g=U,p&&p({action:m,location:G.location,delta:Y})}function w(U,Y){m="PUSH";let Z=Ym(G.location,U,Y);g=E()+1;let J=sE(Z,g),re=G.createHref(Z);try{h.pushState(J,"",re)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(re)}u&&p&&p({action:m,location:G.location,delta:1})}function V(U,Y){m="REPLACE";let Z=Ym(G.location,U,Y);g=E();let J=sE(Z,g),re=G.createHref(Z);h.replaceState(J,"",re),u&&p&&p({action:m,location:G.location,delta:0})}function k(U){return y1(U)}let G={get action(){return m},get location(){return i(o,h)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(rE,T),p=U,()=>{o.removeEventListener(rE,T),p=null}},createHref(U){return e(o,U)},createURL:k,encodeLocation(U){let Y=k(U);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:w,replace:V,go(U){return h.go(U)}};return G}function y1(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:ou(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function o0(i,e,n="/"){return _1(i,e,n,!1)}function _1(i,e,n,s){let o=typeof e=="string"?Do(e):e,u=pr(o.pathname||"/",n);if(u==null)return null;let h=l0(i);v1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=D1(u);m=I1(h[p],g,s)}return m}function l0(i,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;lt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=dr([s,E.relativePath]),w=n.concat(E);h.children&&h.children.length>0&&(lt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),l0(h.children,e,w,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:R1(T,h.index),routesMeta:w})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of u0(h.path))u(h,m,!0,p)}),e}function u0(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=u0(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function v1(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:C1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var E1=/^:[\w-]+$/,T1=3,b1=2,S1=1,A1=10,w1=-2,aE=i=>i==="*";function R1(i,e){let n=i.split("/"),s=n.length;return n.some(aE)&&(s+=w1),e&&(s+=b1),n.filter(o=>!aE(o)).reduce((o,u)=>o+(E1.test(u)?T1:u===""?S1:A1),s)}function C1(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function I1(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:dr([u,T.pathname]),pathnameBase:V1(dr([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=dr([u,T.pathnameBase]))}return h}function wh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=N1(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},w)=>{if(E==="*"){let k=m[w]||"";h=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const V=m[w];return T&&!V?g[E]=void 0:g[E]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function N1(i,e=!1,n=!0){oi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function D1(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function pr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function O1(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Do(i):i;return{pathname:n?n.startsWith("/")?n:x1(n,e):e,search:k1(s),hash:P1(o)}}function x1(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Dm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function M1(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ap(i){let e=M1(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function wp(i,e,n,s=!1){let o;typeof i=="string"?o=Do(i):(o={...i},lt(!o.pathname||!o.pathname.includes("?"),Dm("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Dm("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Dm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?e[T]:"/"}let p=O1(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var dr=i=>i.join("/").replace(/\/\/+/g,"/"),V1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),k1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,P1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function L1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var c0=["POST","PUT","PATCH","DELETE"];new Set(c0);var U1=["GET",...c0];new Set(U1);var Oo=L.createContext(null);Oo.displayName="DataRouter";var Zh=L.createContext(null);Zh.displayName="DataRouterState";L.createContext(!1);var h0=L.createContext({isTransitioning:!1});h0.displayName="ViewTransition";var j1=L.createContext(new Map);j1.displayName="Fetchers";var z1=L.createContext(null);z1.displayName="Await";var ui=L.createContext(null);ui.displayName="Navigation";var _u=L.createContext(null);_u.displayName="Location";var ci=L.createContext({outlet:null,matches:[],isDataRoute:!1});ci.displayName="Route";var Rp=L.createContext(null);Rp.displayName="RouteError";function B1(i,{relative:e}={}){lt(xo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(ui),{hash:o,pathname:u,search:h}=vu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:dr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function xo(){return L.useContext(_u)!=null}function vs(){return lt(xo(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(_u).location}var f0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function d0(i){L.useContext(ui).static||L.useLayoutEffect(i)}function Mo(){let{isDataRoute:i}=L.useContext(ci);return i?eR():q1()}function q1(){lt(xo(),"useNavigate() may be used only in the context of a <Router> component.");let i=L.useContext(Oo),{basename:e,navigator:n}=L.useContext(ui),{matches:s}=L.useContext(ci),{pathname:o}=vs(),u=JSON.stringify(Ap(s)),h=L.useRef(!1);return d0(()=>{h.current=!0}),L.useCallback((p,g={})=>{if(oi(h.current,f0),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=wp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:dr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}L.createContext(null);function m0(){let{matches:i}=L.useContext(ci),e=i[i.length-1];return e?e.params:{}}function vu(i,{relative:e}={}){let{matches:n}=L.useContext(ci),{pathname:s}=vs(),o=JSON.stringify(Ap(n));return L.useMemo(()=>wp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function H1(i,e){return p0(i,e)}function p0(i,e,n,s,o){lt(xo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=L.useContext(ui),{matches:h}=L.useContext(ci),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let Z=T&&T.path||"";g0(g,!T||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let w=vs(),V;if(e){let Z=typeof e=="string"?Do(e):e;lt(E==="/"||Z.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),V=Z}else V=w;let k=V.pathname||"/",G=k;if(E!=="/"){let Z=E.replace(/^\//,"").split("/");G="/"+k.replace(/^\//,"").split("/").slice(Z.length).join("/")}let U=o0(i,{pathname:G});oi(T||U!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),oi(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=Y1(U&&U.map(Z=>Object.assign({},Z,{params:Object.assign({},p,Z.params),pathname:dr([E,u.encodeLocation?u.encodeLocation(Z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?E:dr([E,u.encodeLocation?u.encodeLocation(Z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathnameBase])})),h,n,s,o);return e&&Y?L.createElement(_u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},Y):Y}function F1(){let i=Z1(),e=L1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,h)}var G1=L.createElement(F1,null),K1=class extends L.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?L.createElement(ci.Provider,{value:this.props.routeContext},L.createElement(Rp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $1({routeContext:i,match:e,children:n}){let s=L.useContext(Oo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(ci.Provider,{value:i},n)}function Y1(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n?.errors;if(h!=null){let g=u.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);lt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let E=u[g];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=g),E.route.id){let{loaderData:T,errors:w}=n,V=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!w||w[E.route.id]===void 0);if(E.route.lazy||V){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,E,T)=>{let w,V=!1,k=null,G=null;n&&(w=h&&E.route.id?h[E.route.id]:void 0,k=E.route.errorElement||G1,m&&(p<0&&T===0?(g0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,G=null):p===T&&(V=!0,G=E.route.hydrateFallbackElement||null)));let U=e.concat(u.slice(0,T+1)),Y=()=>{let Z;return w?Z=k:V?Z=G:E.route.Component?Z=L.createElement(E.route.Component,null):E.route.element?Z=E.route.element:Z=g,L.createElement($1,{match:E,routeContext:{outlet:g,matches:U,isDataRoute:n!=null},children:Z})};return n&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?L.createElement(K1,{location:n.location,revalidation:n.revalidation,component:k,error:w,children:Y(),routeContext:{outlet:null,matches:U,isDataRoute:!0},unstable_onError:s}):Y()},null)}function Cp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q1(i){let e=L.useContext(Oo);return lt(e,Cp(i)),e}function X1(i){let e=L.useContext(Zh);return lt(e,Cp(i)),e}function W1(i){let e=L.useContext(ci);return lt(e,Cp(i)),e}function Ip(i){let e=W1(i),n=e.matches[e.matches.length-1];return lt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function J1(){return Ip("useRouteId")}function Z1(){let i=L.useContext(Rp),e=X1("useRouteError"),n=Ip("useRouteError");return i!==void 0?i:e.errors?.[n]}function eR(){let{router:i}=Q1("useNavigate"),e=Ip("useNavigate"),n=L.useRef(!1);return d0(()=>{n.current=!0}),L.useCallback(async(o,u={})=>{oi(n.current,f0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var oE={};function g0(i,e,n){!e&&!oE[i]&&(oE[i]=!0,oi(!1,n))}L.memo(tR);function tR({routes:i,future:e,state:n,unstable_onError:s}){return p0(i,void 0,n,s,e)}function lE({to:i,replace:e,state:n,relative:s}){lt(xo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(ui);oi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=L.useContext(ci),{pathname:h}=vs(),m=Mo(),p=wp(i,Ap(u),h,s==="path"),g=JSON.stringify(p);return L.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function uo(i){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nR({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){lt(!xo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=L.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Do(n));let{pathname:p="/",search:g="",hash:E="",state:T=null,key:w="default"}=n,V=L.useMemo(()=>{let k=pr(p,h);return k==null?null:{location:{pathname:k,search:g,hash:E,state:T,key:w},navigationType:s}},[h,p,g,E,T,w,s]);return oi(V!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:L.createElement(ui.Provider,{value:m},L.createElement(_u.Provider,{children:e,value:V}))}function iR({children:i,location:e}){return H1(Qm(i),e)}function Qm(i,e=[]){let n=[];return L.Children.forEach(i,(s,o)=>{if(!L.isValidElement(s))return;let u=[...e,o];if(s.type===L.Fragment){n.push.apply(n,Qm(s.props.children,u));return}lt(s.type===uo,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Qm(s.props.children,u)),n.push(h)}),n}var dh="get",mh="application/x-www-form-urlencoded";function ef(i){return i!=null&&typeof i.tagName=="string"}function rR(i){return ef(i)&&i.tagName.toLowerCase()==="button"}function sR(i){return ef(i)&&i.tagName.toLowerCase()==="form"}function aR(i){return ef(i)&&i.tagName.toLowerCase()==="input"}function oR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function lR(i,e){return i.button===0&&(!e||e==="_self")&&!oR(i)}var sh=null;function uR(){if(sh===null)try{new FormData(document.createElement("form"),0),sh=!1}catch{sh=!0}return sh}var cR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Om(i){return i!=null&&!cR.has(i)?(oi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mh}"`),null):i}function hR(i,e){let n,s,o,u,h;if(sR(i)){let m=i.getAttribute("action");s=m?pr(m,e):null,n=i.getAttribute("method")||dh,o=Om(i.getAttribute("enctype"))||mh,u=new FormData(i)}else if(rR(i)||aR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?pr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||dh,o=Om(i.getAttribute("formenctype"))||Om(m.getAttribute("enctype"))||mh,u=new FormData(m,i),!uR()){let{name:g,type:E,value:T}=i;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,T)}}else{if(ef(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dh,s=null,o=mh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Np(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function fR(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&pr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function dR(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function pR(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await dR(u,n);return h.links?h.links():[]}return[]}));return vR(s.flat(1).filter(mR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function uE(i,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function gR(i,e,{includeHydrateFallback:n}={}){return yR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function yR(i){return[...new Set(i)]}function _R(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function vR(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(_R(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function y0(){let i=L.useContext(Oo);return Np(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function ER(){let i=L.useContext(Zh);return Np(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Dp=L.createContext(void 0);Dp.displayName="FrameworkContext";function _0(){let i=L.useContext(Dp);return Np(i,"You must render this element inside a <HydratedRouter> element"),i}function TR(i,e){let n=L.useContext(Dp),[s,o]=L.useState(!1),[u,h]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,w=L.useRef(null);L.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let G=Y=>{Y.forEach(Z=>{h(Z.isIntersecting)})},U=new IntersectionObserver(G,{threshold:.5});return w.current&&U.observe(w.current),()=>{U.disconnect()}}},[i]),L.useEffect(()=>{if(s){let G=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(G)}}},[s]);let V=()=>{o(!0)},k=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,w,{}]:[u,w,{onFocus:Kl(m,V),onBlur:Kl(p,k),onMouseEnter:Kl(g,V),onMouseLeave:Kl(E,k),onTouchStart:Kl(T,V)}]:[!1,w,{}]}function Kl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function bR({page:i,...e}){let{router:n}=y0(),s=L.useMemo(()=>o0(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?L.createElement(AR,{page:i,matches:s,...e}):null}function SR(i){let{manifest:e,routeModules:n}=_0(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return pR(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function AR({page:i,matches:e,...n}){let s=vs(),{manifest:o,routeModules:u}=_0(),{basename:h}=y0(),{loaderData:m,matches:p}=ER(),g=L.useMemo(()=>uE(i,e,p,o,s,"data"),[i,e,p,o,s]),E=L.useMemo(()=>uE(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=L.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let k=new Set,G=!1;if(e.forEach(Y=>{let Z=o.routes[Y.route.id];!Z||!Z.hasLoader||(!g.some(J=>J.route.id===Y.route.id)&&Y.route.id in m&&u[Y.route.id]?.shouldRevalidate||Z.hasClientLoader?G=!0:k.add(Y.route.id))}),k.size===0)return[];let U=fR(i,h,"data");return G&&k.size>0&&U.searchParams.set("_routes",e.filter(Y=>k.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[U.pathname+U.search]},[h,m,s,o,g,e,i,u]),w=L.useMemo(()=>gR(E,o),[E,o]),V=SR(E);return L.createElement(L.Fragment,null,T.map(k=>L.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),w.map(k=>L.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),V.map(({key:k,link:G})=>L.createElement("link",{key:k,nonce:n.nonce,...G})))}function wR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var v0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{v0&&(window.__reactRouterVersion="7.9.5")}catch{}function RR({basename:i,children:e,window:n}){let s=L.useRef();s.current==null&&(s.current=m1({window:n,v5Compat:!0}));let o=s.current,[u,h]=L.useState({action:o.action,location:o.location}),m=L.useCallback(p=>{L.startTransition(()=>h(p))},[h]);return L.useLayoutEffect(()=>o.listen(m),[o,m]),L.createElement(nR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var E0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ts=L.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,...w},V){let{basename:k}=L.useContext(ui),G=typeof g=="string"&&E0.test(g),U,Y=!1;if(typeof g=="string"&&G&&(U=g,v0))try{let I=new URL(window.location.href),M=g.startsWith("//")?new URL(I.protocol+g):new URL(g),O=pr(M.pathname,k);M.origin===I.origin&&O!=null?g=O+M.search+M.hash:Y=!0}catch{oi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=B1(g,{relative:o}),[J,re,ue]=TR(s,w),le=DR(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T});function C(I){e&&e(I),I.defaultPrevented||le(I)}let R=L.createElement("a",{...w,...ue,href:U||Z,onClick:Y||u?e:C,ref:wR(V,re),target:p,"data-discover":!G&&n==="render"?"true":void 0});return J&&!G?L.createElement(L.Fragment,null,R,L.createElement(bR,{page:Z})):R});ts.displayName="Link";var CR=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let T=vu(h,{relative:g.relative}),w=vs(),V=L.useContext(Zh),{navigator:k,basename:G}=L.useContext(ui),U=V!=null&&kR(T)&&m===!0,Y=k.encodeLocation?k.encodeLocation(T).pathname:T.pathname,Z=w.pathname,J=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(Z=Z.toLowerCase(),J=J?J.toLowerCase():null,Y=Y.toLowerCase()),J&&G&&(J=pr(J,G)||J);const re=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ue=Z===Y||!o&&Z.startsWith(Y)&&Z.charAt(re)==="/",le=J!=null&&(J===Y||!o&&J.startsWith(Y)&&J.charAt(Y.length)==="/"),C={isActive:ue,isPending:le,isTransitioning:U},R=ue?e:void 0,I;typeof s=="function"?I=s(C):I=[s,ue?"active":null,le?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(C):u;return L.createElement(ts,{...g,"aria-current":R,className:I,ref:E,style:M,to:h,viewTransition:m},typeof p=="function"?p(C):p)});CR.displayName="NavLink";var IR=L.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=dh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...w},V)=>{let k=MR(),G=VR(m,{relative:g}),U=h.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&E0.test(m),Z=J=>{if(p&&p(J),J.defaultPrevented)return;J.preventDefault();let re=J.nativeEvent.submitter,ue=re?.getAttribute("formmethod")||h;k(re||J.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T})};return L.createElement("form",{ref:V,method:U,action:G,onSubmit:s?p:Z,...w,"data-discover":!Y&&i==="render"?"true":void 0})});IR.displayName="Form";function NR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T0(i){let e=L.useContext(Oo);return lt(e,NR(i)),e}function DR(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=Mo(),p=vs(),g=vu(i,{relative:u});return L.useCallback(E=>{if(lR(E,e)){E.preventDefault();let T=n!==void 0?n:ou(p)===ou(g);m(i,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,i,o,u,h])}var OR=0,xR=()=>`__${String(++OR)}__`;function MR(){let{router:i}=T0("useSubmit"),{basename:e}=L.useContext(ui),n=J1();return L.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=hR(s,e);if(o.navigate===!1){let E=o.fetcherKey||xR();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function VR(i,{relative:e}={}){let{basename:n}=L.useContext(ui),s=L.useContext(ci);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...vu(i||".",{relative:e})},h=vs();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:dr([n,u.pathname])),ou(u)}function kR(i,{relative:e}={}){let n=L.useContext(h0);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=T0("useViewTransitionState"),o=vu(i,{relative:e});if(!n.isTransitioning)return!1;let u=pr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=pr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return wh(o.pathname,h)!=null||wh(o.pathname,u)!=null}const b0=L.createContext(null);function Vo(){const i=L.useContext(b0);if(!i)throw new Error("useAuth must be used within <AuthProvider>");return i}const si=i=>`/urbanfrill/${String(i||"").replace(/^\/+/,"")}`,Rh=i=>{if(!i)return"images/logo.png";let e=String(i).trim();if(/^(https?:)?\/\//i.test(e)||e.startsWith("data:"))return e;const n="/urbanfrill/";return e.startsWith(n)&&(e=e.slice(n.length)),e=e.replace(/^\.\/+/,"").replace(/^public\/+/,"").replace(/^\/+/,""),e=e.replace(/^urbanfrill\/+/,""),e.startsWith("images/")||(e=`images/${e}`),e=e.replace(/\.(jpe?g)$/i,".webp"),e},To=i=>i&&(/^(https?:)?\/\//i.test(i)||String(i).startsWith("data:"))?i:si(Rh(i)),PR=()=>{};var cE={};const S0=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},LR=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},A0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,V=g&63;p||(V=64,h||(w=64)),s.push(n[E],n[T],n[w],n[V])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(S0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):LR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new UR;const w=u<<2|m>>4;if(s.push(w),g!==64){const V=m<<4&240|g>>2;if(s.push(V),T!==64){const k=g<<6&192|T;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class UR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jR=function(i){const e=S0(i);return A0.encodeByteArray(e,!0)},Ch=function(i){return jR(i).replace(/\./g,"")},w0=function(i){try{return A0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function zR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const BR=()=>zR().__FIREBASE_DEFAULTS__,qR=()=>{if(typeof process>"u"||typeof cE>"u")return;const i=cE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},HR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&w0(i[1]);return e&&JSON.parse(e)},tf=()=>{try{return PR()||BR()||qR()||HR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},R0=i=>tf()?.emulatorHosts?.[i],C0=i=>{const e=R0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},I0=()=>tf()?.config,N0=i=>tf()?.[`_${i}`];class FR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function fa(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Op(i){return(await fetch(i,{credentials:"include"})).ok}function D0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Ch(JSON.stringify(n)),Ch(JSON.stringify(h)),""].join(".")}const Zl={};function GR(){const i={prod:[],emulator:[]};for(const e of Object.keys(Zl))Zl[e]?i.emulator.push(e):i.prod.push(e);return i}function KR(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let hE=!1;function xp(i,e){if(typeof window>"u"||typeof document>"u"||!fa(window.location.host)||Zl[i]===e||Zl[i]||hE)return;Zl[i]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=GR().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,V){w.setAttribute("width","24"),w.setAttribute("id",V),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{hE=!0,h()},w}function E(w,V){w.setAttribute("id",V),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=KR(s),V=n("text"),k=document.getElementById(V)||document.createElement("span"),G=n("learnmore"),U=document.getElementById(G)||document.createElement("a"),Y=n("preprendIcon"),Z=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const J=w.element;m(J),E(U,G);const re=g();p(Z,Y),J.append(Z,k,U,re),document.body.appendChild(J)}u?(k.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $R(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function YR(){const i=tf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Mp(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function XR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WR(){const i=Zt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function JR(){return!YR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vp(){try{return typeof indexedDB=="object"}catch{return!1}}function kp(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function O0(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ZR="FirebaseError";class Hn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ZR,Object.setPrototypeOf(this,Hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,da.prototype.create)}}class da{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?eC(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Hn(o,m,s)}}function eC(i,e){return i.replace(tC,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const tC=/\{\$([^}]+)}/g;function nC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function fs(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(fE(u)&&fE(h)){if(!fs(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function fE(i){return i!==null&&typeof i=="object"}function Eu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function $l(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Yl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function iC(i,e){const n=new rC(i,e);return n.subscribe.bind(n)}class rC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");sC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=xm),o.error===void 0&&(o.error=xm),o.complete===void 0&&(o.complete=xm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sC(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function xm(){}const aC=1e3,oC=2,lC=14400*1e3,uC=.5;function dE(i,e=aC,n=oC){const s=e*Math.pow(n,i),o=Math.round(uC*s*(Math.random()-.5)*2);return Math.min(lC,s+o)}function It(i){return i&&i._delegate?i._delegate:i}class Bn{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ta="[DEFAULT]";class cC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new FR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fC(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:hC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hC(i){return i===ta?void 0:i}function fC(i){return i.instantiationMode==="EAGER"}class dC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const mC={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},pC=Me.INFO,gC={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},yC=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=gC[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nf{constructor(e){this.name=e,this._logLevel=pC,this._logHandler=yC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const _C=(i,e)=>e.some(n=>i instanceof n);let mE,pE;function vC(){return mE||(mE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EC(){return pE||(pE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x0=new WeakMap,Xm=new WeakMap,M0=new WeakMap,Mm=new WeakMap,Pp=new WeakMap;function TC(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(as(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&x0.set(n,i)}).catch(()=>{}),Pp.set(e,i),e}function bC(i){if(Xm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Xm.set(i,e)}let Wm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Xm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||M0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function SC(i){Wm=i(Wm)}function AC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Vm(this),e,...n);return M0.set(s,e.sort?e.sort():[e]),as(s)}:EC().includes(i)?function(...e){return i.apply(Vm(this),e),as(x0.get(this))}:function(...e){return as(i.apply(Vm(this),e))}}function wC(i){return typeof i=="function"?AC(i):(i instanceof IDBTransaction&&bC(i),_C(i,vC())?new Proxy(i,Wm):i)}function as(i){if(i instanceof IDBRequest)return TC(i);if(Mm.has(i))return Mm.get(i);const e=wC(i);return e!==i&&(Mm.set(i,e),Pp.set(e,i)),e}const Vm=i=>Pp.get(i);function V0(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=as(h);return s&&h.addEventListener("upgradeneeded",p=>{s(as(h.result),p.oldVersion,p.newVersion,as(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const RC=["get","getKey","getAll","getAllKeys","count"],CC=["put","add","delete","clear"],km=new Map;function gE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(km.get(e))return km.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=CC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||RC.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return km.set(e,u),u}SC(i=>({...i,get:(e,n,s)=>gE(e,n)||i.get(e,n,s),has:(e,n)=>!!gE(e,n)||i.has(e,n)}));class IC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function NC(i){return i.getComponent()?.type==="VERSION"}const Jm="@firebase/app",yE="0.14.5";const gr=new nf("@firebase/app"),DC="@firebase/app-compat",OC="@firebase/analytics-compat",xC="@firebase/analytics",MC="@firebase/app-check-compat",VC="@firebase/app-check",kC="@firebase/auth",PC="@firebase/auth-compat",LC="@firebase/database",UC="@firebase/data-connect",jC="@firebase/database-compat",zC="@firebase/functions",BC="@firebase/functions-compat",qC="@firebase/installations",HC="@firebase/installations-compat",FC="@firebase/messaging",GC="@firebase/messaging-compat",KC="@firebase/performance",$C="@firebase/performance-compat",YC="@firebase/remote-config",QC="@firebase/remote-config-compat",XC="@firebase/storage",WC="@firebase/storage-compat",JC="@firebase/firestore",ZC="@firebase/ai",eI="@firebase/firestore-compat",tI="firebase",nI="12.5.0";const Zm="[DEFAULT]",iI={[Jm]:"fire-core",[DC]:"fire-core-compat",[xC]:"fire-analytics",[OC]:"fire-analytics-compat",[VC]:"fire-app-check",[MC]:"fire-app-check-compat",[kC]:"fire-auth",[PC]:"fire-auth-compat",[LC]:"fire-rtdb",[UC]:"fire-data-connect",[jC]:"fire-rtdb-compat",[zC]:"fire-fn",[BC]:"fire-fn-compat",[qC]:"fire-iid",[HC]:"fire-iid-compat",[FC]:"fire-fcm",[GC]:"fire-fcm-compat",[KC]:"fire-perf",[$C]:"fire-perf-compat",[YC]:"fire-rc",[QC]:"fire-rc-compat",[XC]:"fire-gcs",[WC]:"fire-gcs-compat",[JC]:"fire-fst",[eI]:"fire-fst-compat",[ZC]:"fire-vertex","fire-js":"fire-js",[tI]:"fire-js-all"};const lu=new Map,rI=new Map,ep=new Map;function _E(i,e){try{i.container.addComponent(e)}catch(n){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function li(i){const e=i.name;if(ep.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;ep.set(e,i);for(const n of lu.values())_E(n,i);for(const n of rI.values())_E(n,i);return!0}function Es(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function dn(i){return i==null?!1:i.settings!==void 0}const sI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new da("app","Firebase",sI);class aI{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Bn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}const ma=nI;function k0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Zm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw os.create("bad-app-name",{appName:String(o)});if(n||(n=I0()),!n)throw os.create("no-options");const u=lu.get(o);if(u){if(fs(n,u.options)&&fs(s,u.config))return u;throw os.create("duplicate-app",{appName:o})}const h=new dC(o);for(const p of ep.values())h.addComponent(p);const m=new aI(n,s,h);return lu.set(o,m),m}function rf(i=Zm){const e=lu.get(i);if(!e&&i===Zm&&I0())return k0();if(!e)throw os.create("no-app",{appName:i});return e}function vE(){return Array.from(lu.values())}function mn(i,e,n){let s=iI[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(h.join(" "));return}li(new Bn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const oI="firebase-heartbeat-database",lI=1,uu="firebase-heartbeat-store";let Pm=null;function P0(){return Pm||(Pm=V0(oI,lI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(uu)}catch(n){console.warn(n)}}}}).catch(i=>{throw os.create("idb-open",{originalErrorMessage:i.message})})),Pm}async function uI(i){try{const n=(await P0()).transaction(uu),s=await n.objectStore(uu).get(L0(i));return await n.done,s}catch(e){if(e instanceof Hn)gr.warn(e.message);else{const n=os.create("idb-get",{originalErrorMessage:e?.message});gr.warn(n.message)}}}async function EE(i,e){try{const s=(await P0()).transaction(uu,"readwrite");await s.objectStore(uu).put(e,L0(i)),await s.done}catch(n){if(n instanceof Hn)gr.warn(n.message);else{const s=os.create("idb-set",{originalErrorMessage:n?.message});gr.warn(s.message)}}}function L0(i){return`${i.name}!${i.options.appId}`}const cI=1024,hI=30;class fI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=TE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>hI){const o=pI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=TE(),{heartbeatsToSend:n,unsentEntries:s}=dI(this._heartbeatsCache.heartbeats),o=Ch(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return gr.warn(e),""}}}function TE(){return new Date().toISOString().substring(0,10)}function dI(i,e=cI){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),bE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),bE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class mI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Vp()?kp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return EE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return EE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function bE(i){return Ch(JSON.stringify({version:2,heartbeats:i})).length}function pI(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function gI(i){li(new Bn("platform-logger",e=>new IC(e),"PRIVATE")),li(new Bn("heartbeat",e=>new fI(e),"PRIVATE")),mn(Jm,yE,i),mn(Jm,yE,"esm2020"),mn("fire-js","")}gI("");var yI="firebase",_I="12.5.0";mn(yI,_I,"app");function U0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vI=U0,j0=new da("auth","Firebase",U0());const Ih=new nf("@firebase/auth");function EI(i,...e){Ih.logLevel<=Me.WARN&&Ih.warn(`Auth (${ma}): ${i}`,...e)}function ph(i,...e){Ih.logLevel<=Me.ERROR&&Ih.error(`Auth (${ma}): ${i}`,...e)}function qn(i,...e){throw Up(i,...e)}function ai(i,...e){return Up(i,...e)}function Lp(i,e,n){const s={...vI(),[e]:n};return new da("auth","Firebase",s).create(e,{appName:i.name})}function mr(i){return Lp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TI(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&qn(i,"argument-error"),Lp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Up(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return j0.create(i,...e)}function ve(i,e,...n){if(!i)throw Up(e,...n)}function hr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw ph(e),new Error(e)}function yr(i,e){i||hr(e)}function tp(){return typeof self<"u"&&self.location?.href||""}function bI(){return SE()==="http:"||SE()==="https:"}function SE(){return typeof self<"u"&&self.location?.protocol||null}function SI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bI()||Mp()||"connection"in navigator)?navigator.onLine:!0}function AI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,yr(n>e,"Short delay should be less than long delay!"),this.isMobile=$R()||XR()}get(){return SI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jp(i,e){yr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class z0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const RI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CI=new Tu(3e4,6e4);function Ts(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Er(i,e,n,s,o={}){return B0(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Eu({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return QR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&fa(i.emulatorConfig.host)&&(g.credentials="include"),z0.fetch()(await q0(i,i.config.apiHost,n,m),g)})}async function B0(i,e,n){i._canInitEmulator=!1;const s={...wI,...e};try{const o=new NI(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ah(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw ah(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw ah(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Lp(i,E,g);qn(i,E)}}catch(o){if(o instanceof Hn)throw o;qn(i,"network-request-failed",{message:String(o)})}}async function bu(i,e,n,s,o={}){const u=await Er(i,e,n,s,o);return"mfaPendingCredential"in u&&qn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function q0(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?jp(i.config,o):`${i.config.apiScheme}://${o}`;return RI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function II(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ai(this.auth,"network-request-failed")),CI.get())})}}function ah(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ai(i,e,s);return o.customData._tokenResponse=n,o}function AE(i){return i!==void 0&&i.enterprise!==void 0}class DI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return II(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function OI(i,e){return Er(i,"GET","/v2/recaptchaConfig",Ts(i,e))}async function xI(i,e){return Er(i,"POST","/v1/accounts:delete",e)}async function Nh(i,e){return Er(i,"POST","/v1/accounts:lookup",e)}function eu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MI(i,e=!1){const n=It(i),s=await n.getIdToken(e),o=zp(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:eu(Lm(o.auth_time)),issuedAtTime:eu(Lm(o.iat)),expirationTime:eu(Lm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Lm(i){return Number(i)*1e3}function zp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return ph("JWT malformed, contained fewer than 3 sections"),null;try{const o=w0(n);return o?JSON.parse(o):(ph("Failed to decode base64 JWT payload"),null)}catch(o){return ph("Caught error parsing JWT payload as JSON",o?.toString()),null}}function wE(i){const e=zp(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function bo(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Hn&&VI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function VI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class kI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class np{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Dh(i){const e=i.auth,n=await i.getIdToken(),s=await bo(i,Nh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?H0(o.providerUserInfo):[],h=LI(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new np(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,E)}async function PI(i){const e=It(i);await Dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function H0(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function UI(i,e){const n=await B0(i,{},async()=>{const s=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await q0(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&fa(i.emulatorConfig.host)&&(p.credentials="include"),z0.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jI(i,e){return Er(i,"POST","/v2/accounts:revokeToken",Ts(i,e))}class go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=wE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await UI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new go;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new go,this.toJSON())}_performRefresh(){return hr("not implemented")}}function es(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ni{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new kI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new np(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await bo(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MI(this,e)}reload(){return PI(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Dh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dn(this.auth.app))return Promise.reject(mr(this.auth));const e=await this.getIdToken();return await bo(this,xI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:V,providerData:k,stsTokenManager:G}=n;ve(T&&G,e,"internal-error");const U=go.fromJSON(this.name,G);ve(typeof T=="string",e,"internal-error"),es(s,e.name),es(o,e.name),ve(typeof w=="boolean",e,"internal-error"),ve(typeof V=="boolean",e,"internal-error"),es(u,e.name),es(h,e.name),es(m,e.name),es(p,e.name),es(g,e.name),es(E,e.name);const Y=new ni({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:V,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:U,createdAt:g,lastLoginAt:E});return k&&Array.isArray(k)&&(Y.providerData=k.map(Z=>({...Z}))),p&&(Y._redirectEventId=p),Y}static async _fromIdTokenResponse(e,n,s=!1){const o=new go;o.updateFromServerResponse(n);const u=new ni({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Dh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?H0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new go;m.updateFromIdToken(s);const p=new ni({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new np(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const RE=new Map;function fr(i){yr(i instanceof Function,"Expected a class definition");let e=RE.get(i);return e?(yr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,RE.set(i,e),e)}class F0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}F0.type="NONE";const CE=F0;function gh(i,e,n){return`firebase:${i}:${e}:${n}`}class yo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=gh(this.userKey,o.apiKey,u),this.fullPersistenceKey=gh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nh(this.auth,{idToken:e}).catch(()=>{});return n?ni._fromGetAccountInfoResponse(this.auth,n,e):null}return ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new yo(fr(CE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||fr(CE);const h=gh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let T;if(typeof E=="string"){const w=await Nh(e,{idToken:E}).catch(()=>{});if(!w)break;T=await ni._fromGetAccountInfoResponse(e,w,E)}else T=ni._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new yo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new yo(u,e,s))}}function IE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Y0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(G0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(X0(e))return"Blackberry";if(W0(e))return"Webos";if(K0(e))return"Safari";if((e.includes("chrome/")||$0(e))&&!e.includes("edge/"))return"Chrome";if(Q0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function G0(i=Zt()){return/firefox\//i.test(i)}function K0(i=Zt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $0(i=Zt()){return/crios\//i.test(i)}function Y0(i=Zt()){return/iemobile/i.test(i)}function Q0(i=Zt()){return/android/i.test(i)}function X0(i=Zt()){return/blackberry/i.test(i)}function W0(i=Zt()){return/webos/i.test(i)}function Bp(i=Zt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function zI(i=Zt()){return Bp(i)&&!!window.navigator?.standalone}function BI(){return WR()&&document.documentMode===10}function J0(i=Zt()){return Bp(i)||Q0(i)||W0(i)||X0(i)||/windows phone/i.test(i)||Y0(i)}function Z0(i,e=[]){let n;switch(i){case"Browser":n=IE(Zt());break;case"Worker":n=`${IE(Zt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ma}/${s}`}class qI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function HI(i,e={}){return Er(i,"GET","/v2/passwordPolicy",Ts(i,e))}const FI=6;class GI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??FI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class KI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NE(this),this.idTokenSubscription=new NE(this),this.beforeStateQueue=new qI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await yo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nh(this,{idToken:e}),s=await ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(dn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dn(this.app))return Promise.reject(mr(this));const n=e?It(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dn(this.app)?Promise.reject(mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dn(this.app)?Promise.reject(mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HI(this),n=new GI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new da("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await jI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Z0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&EI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function bs(i){return It(i)}class NE{constructor(e){this.auth=e,this.observer=null,this.addObserver=iC(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $I(i){sf=i}function eb(i){return sf.loadJS(i)}function YI(){return sf.recaptchaEnterpriseScript}function QI(){return sf.gapiScript}function XI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class WI{constructor(){this.enterprise=new JI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class JI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ZI="recaptcha-enterprise",tb="NO_RECAPTCHA";class eN{constructor(e){this.type=ZI,this.auth=bs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{OI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new DI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;AE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(tb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&AE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=YI();p.length!==0&&(p+=m),eb(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function DE(i,e,n,s=!1,o=!1){const u=new eN(i);let h;if(o)h=tb;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function ip(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await DE(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await DE(i,e,n,n==="getOobCode");return s(i,h)}else return Promise.reject(u)})}function tN(i,e){const n=Es(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(fs(u,e??{}))return o;qn(o,"already-initialized")}return n.initialize({options:e})}function nN(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(fr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function iN(i,e,n){const s=bs(i);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=nb(e),{host:h,port:m}=rN(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(fs(g,s.config.emulator)&&fs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,fa(h)?(Op(`${u}//${h}${p}`),xp("Auth",!0)):sN()}function nb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function rN(i){const e=nb(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:OE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:OE(h)}}}function OE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function sN(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class qp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hr("not implemented")}_getIdTokenResponse(e){return hr("not implemented")}_linkToIdToken(e,n){return hr("not implemented")}_getReauthenticationResolver(e){return hr("not implemented")}}async function aN(i,e){return Er(i,"POST","/v1/accounts:signUp",e)}async function oN(i,e){return bu(i,"POST","/v1/accounts:signInWithPassword",Ts(i,e))}async function lN(i,e){return bu(i,"POST","/v1/accounts:signInWithEmailLink",Ts(i,e))}async function uN(i,e){return bu(i,"POST","/v1/accounts:signInWithEmailLink",Ts(i,e))}class cu extends qp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new cu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new cu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ip(e,n,"signInWithPassword",oN);case"emailLink":return lN(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ip(e,s,"signUpPassword",aN);case"emailLink":return uN(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function _o(i,e){return bu(i,"POST","/v1/accounts:signInWithIdp",Ts(i,e))}const cN="http://localhost";class aa extends qp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new aa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return _o(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,_o(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_o(e,n)}buildRequest(){const e={requestUri:cN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Eu(n)}return e}}function hN(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fN(i){const e=$l(Yl(i)).link,n=e?$l(Yl(e)).deep_link_id:null,s=$l(Yl(i)).deep_link_id;return(s?$l(Yl(s)).link:null)||s||n||e||i}class Hp{constructor(e){const n=$l(Yl(e)),s=n.apiKey??null,o=n.oobCode??null,u=hN(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=fN(e);try{return new Hp(n)}catch{return null}}}class ko{constructor(){this.providerId=ko.PROVIDER_ID}static credential(e,n){return cu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Hp.parseLink(n);return ve(s,"argument-error"),cu._fromEmailAndCode(e,s.code,s.tenantId)}}ko.PROVIDER_ID="password";ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Fp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Su extends Fp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ns extends Su{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";class cr extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return aa._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return cr.credential(n,s)}catch{return null}}}cr.GOOGLE_SIGN_IN_METHOD="google.com";cr.PROVIDER_ID="google.com";class is extends Su{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";class rs extends Su{constructor(){super("twitter.com")}static credential(e,n){return aa._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return rs.credential(n,s)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";async function dN(i,e){return bu(i,"POST","/v1/accounts:signUp",Ts(i,e))}class oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ni._fromIdTokenResponse(e,s,o),h=xE(s);return new oa({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=xE(s);return new oa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function xE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Oh extends Hn{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Oh(e,n,s,o)}}function ib(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(i,u,e,s):u})}async function mN(i,e,n=!1){const s=await bo(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return oa._forOperation(i,"link",s)}async function pN(i,e,n=!1){const{auth:s}=i;if(dn(s.app))return Promise.reject(mr(s));const o="reauthenticate";try{const u=await bo(i,ib(s,o,e,i),n);ve(u.idToken,s,"internal-error");const h=zp(u.idToken);ve(h,s,"internal-error");const{sub:m}=h;return ve(i.uid===m,s,"user-mismatch"),oa._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&qn(s,"user-mismatch"),u}}async function rb(i,e,n=!1){if(dn(i.app))return Promise.reject(mr(i));const s="signIn",o=await ib(i,s,e),u=await oa._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function gN(i,e){return rb(bs(i),e)}async function sb(i){const e=bs(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yN(i,e,n){if(dn(i.app))return Promise.reject(mr(i));const s=bs(i),h=await ip(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&sb(i),p}),m=await oa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function _N(i,e,n){return dn(i.app)?Promise.reject(mr(i)):gN(It(i),ko.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&sb(i),s})}async function vN(i,e){return Er(i,"POST","/v1/accounts:update",e)}async function EN(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=It(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},h=await bo(s,vN(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function TN(i,e){return It(i).setPersistence(e)}function bN(i,e,n,s){return It(i).onIdTokenChanged(e,n,s)}function SN(i,e,n){return It(i).beforeAuthStateChanged(e,n)}function AN(i,e,n,s){return It(i).onAuthStateChanged(e,n,s)}function wN(i){return It(i).signOut()}const xh="__sak";class ab{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const RN=1e3,CN=10;class ob extends ab{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=J0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);BI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,CN):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},RN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ob.type="LOCAL";const lb=ob;class ub extends ab{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ub.type="SESSION";const cb=ub;function IN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class af{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new af(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await IN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}af.receivers=[];function Gp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class NN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Gp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function ki(){return window}function DN(i){ki().location.href=i}function hb(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function ON(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xN(){return navigator?.serviceWorker?.controller||null}function MN(){return hb()?self:null}const fb="firebaseLocalStorageDb",VN=1,Mh="firebaseLocalStorage",db="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function of(i,e){return i.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function kN(){const i=indexedDB.deleteDatabase(fb);return new Au(i).toPromise()}function rp(){const i=indexedDB.open(fb,VN);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Mh,{keyPath:db})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Mh)?e(s):(s.close(),await kN(),e(await rp()))})})}async function ME(i,e,n){const s=of(i,!0).put({[db]:e,value:n});return new Au(s).toPromise()}async function PN(i,e){const n=of(i,!1).get(e),s=await new Au(n).toPromise();return s===void 0?null:s.value}function VE(i,e){const n=of(i,!0).delete(e);return new Au(n).toPromise()}const LN=800,UN=3;class mb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>UN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=af._getInstance(MN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ON(),!this.activeServiceWorker)return;this.sender=new NN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rp();return await ME(e,xh,"1"),await VE(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>ME(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>PN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>VE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=of(o,!1).getAll();return new Au(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mb.type="LOCAL";const jN=mb;new Tu(3e4,6e4);function pb(i,e){return e?fr(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Kp extends qp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zN(i){return rb(i.auth,new Kp(i),i.bypassAuthState)}function BN(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),pN(n,new Kp(i),i.bypassAuthState)}async function qN(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),mN(n,new Kp(i),i.bypassAuthState)}class gb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zN;case"linkViaPopup":case"linkViaRedirect":return qN;case"reauthViaPopup":case"reauthViaRedirect":return BN;default:qn(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const HN=new Tu(2e3,1e4);async function FN(i,e,n){if(dn(i.app))return Promise.reject(ai(i,"operation-not-supported-in-this-environment"));const s=bs(i);TI(i,e,Fp);const o=pb(s,n);return new na(s,"signInViaPopup",e,o).executeNotNull()}class na extends gb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,na.currentPopupAction&&na.currentPopupAction.cancel(),na.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=Gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,na.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HN.get())};e()}}na.currentPopupAction=null;const GN="pendingRedirect",yh=new Map;class KN extends gb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=yh.get(this.auth._key());if(!e){try{const s=await $N(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}yh.set(this.auth._key(),e)}return this.bypassAuthState||yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $N(i,e){const n=XN(e),s=QN(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function YN(i,e){yh.set(i._key(),e)}function QN(i){return fr(i._redirectPersistence)}function XN(i){return gh(GN,i.config.apiKey,i.name)}async function WN(i,e,n=!1){if(dn(i.app))return Promise.reject(mr(i));const s=bs(i),o=pb(s,e),h=await new KN(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const JN=600*1e3;class ZN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!e2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!yb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ai(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JN&&this.cachedEventUids.clear(),this.cachedEventUids.has(kE(e))}saveEventToCache(e){this.cachedEventUids.add(kE(e)),this.lastProcessedEventTime=Date.now()}}function kE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function yb({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function e2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yb(i);default:return!1}}async function t2(i,e={}){return Er(i,"GET","/v1/projects",e)}const n2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i2=/^https?/;async function r2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await t2(i);for(const n of e)try{if(s2(n))return}catch{}qn(i,"unauthorized-domain")}function s2(i){const e=tp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!i2.test(n))return!1;if(n2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const a2=new Tu(3e4,6e4);function PE(){const i=ki().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function o2(i){return new Promise((e,n)=>{function s(){PE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PE(),n(ai(i,"network-request-failed"))},timeout:a2.get()})}if(ki().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ki().gapi?.load)s();else{const o=XI("iframefcb");return ki()[o]=()=>{gapi.load?s():n(ai(i,"network-request-failed"))},eb(`${QI()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw _h=null,e})}let _h=null;function l2(i){return _h=_h||o2(i),_h}const u2=new Tu(5e3,15e3),c2="__/auth/iframe",h2="emulator/auth/iframe",f2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},d2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m2(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?jp(e,h2):`https://${i.config.authDomain}/${c2}`,s={apiKey:e.apiKey,appName:i.name,v:ma},o=d2.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Eu(s).slice(1)}`}async function p2(i){const e=await l2(i),n=ki().gapi;return ve(n,i,"internal-error"),e.open({where:document.body,url:m2(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ai(i,"network-request-failed"),m=ki().setTimeout(()=>{u(h)},u2.get());function p(){ki().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const g2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},y2=500,_2=600,v2="_blank",E2="http://localhost";class LE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function T2(i,e,n,s=y2,o=_2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...g2,width:s.toString(),height:o.toString(),top:u,left:h},g=Zt().toLowerCase();n&&(m=$0(g)?v2:n),G0(g)&&(e=e||E2,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[V,k])=>`${w}${V}=${k},`,"");if(zI(g)&&m!=="_self")return b2(e||"",m),new LE(null);const T=window.open(e||"",m,E);ve(T,i,"popup-blocked");try{T.focus()}catch{}return new LE(T)}function b2(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const S2="__/auth/handler",A2="emulator/auth/handler",w2=encodeURIComponent("fac");async function UE(i,e,n,s,o,u){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:ma,eventId:o};if(e instanceof Fp){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",nC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof Su){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${w2}=${encodeURIComponent(p)}`:"";return`${R2(i)}?${Eu(m).slice(1)}${g}`}function R2({config:i}){return i.emulator?jp(i,A2):`https://${i.authDomain}/${S2}`}const Um="webStorageSupport";class C2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cb,this._completeRedirectFn=WN,this._overrideRedirectResult=YN}async _openPopup(e,n,s,o){yr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await UE(e,n,s,tp(),o);return T2(e,u,Gp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await UE(e,n,s,tp(),o);return DN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(yr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await p2(e),s=new ZN(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Um,{type:Um},o=>{const u=o?.[0]?.[Um];u!==void 0&&n(!!u),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=r2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return J0()||K0()||Bp()}}const I2=C2;var jE="@firebase/auth",zE="1.11.1";class N2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function D2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O2(i){li(new Bn("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Z0(i)},g=new KI(s,o,u,p);return nN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),li(new Bn("auth-internal",e=>{const n=bs(e.getProvider("auth").getImmediate());return(s=>new N2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mn(jE,zE,D2(i)),mn(jE,zE,"esm2020")}const x2=300,M2=N0("authIdTokenMaxAge")||x2;let BE=null;const V2=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>M2)return;const o=n?.token;BE!==o&&(BE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function k2(i=rf()){const e=Es(i,"auth");if(e.isInitialized())return e.getImmediate();const n=tN(i,{popupRedirectResolver:I2,persistence:[jN,lb,cb]}),s=N0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=V2(u.toString());SN(n,h,()=>h(n.currentUser)),bN(n,m=>h(m))}}const o=R0("auth");return o&&iN(n,`http://${o}`),n}function P2(){return document.getElementsByTagName("head")?.[0]??document}$I({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=ai("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",P2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O2("Browser");var qE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ls,_b;(function(){var i;function e(C,R){function I(){}I.prototype=R.prototype,C.F=R.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,O,j){for(var N=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)N[rt-2]=arguments[rt];return R.prototype[O].apply(M,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,R,I){I||(I=0);const M=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)M[O]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(O=0;O<16;++O)M[O]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=C.g[0],I=C.g[1],O=C.g[2];let j=C.g[3],N;N=R+(j^I&(O^j))+M[0]+3614090360&4294967295,R=I+(N<<7&4294967295|N>>>25),N=j+(O^R&(I^O))+M[1]+3905402710&4294967295,j=R+(N<<12&4294967295|N>>>20),N=O+(I^j&(R^I))+M[2]+606105819&4294967295,O=j+(N<<17&4294967295|N>>>15),N=I+(R^O&(j^R))+M[3]+3250441966&4294967295,I=O+(N<<22&4294967295|N>>>10),N=R+(j^I&(O^j))+M[4]+4118548399&4294967295,R=I+(N<<7&4294967295|N>>>25),N=j+(O^R&(I^O))+M[5]+1200080426&4294967295,j=R+(N<<12&4294967295|N>>>20),N=O+(I^j&(R^I))+M[6]+2821735955&4294967295,O=j+(N<<17&4294967295|N>>>15),N=I+(R^O&(j^R))+M[7]+4249261313&4294967295,I=O+(N<<22&4294967295|N>>>10),N=R+(j^I&(O^j))+M[8]+1770035416&4294967295,R=I+(N<<7&4294967295|N>>>25),N=j+(O^R&(I^O))+M[9]+2336552879&4294967295,j=R+(N<<12&4294967295|N>>>20),N=O+(I^j&(R^I))+M[10]+4294925233&4294967295,O=j+(N<<17&4294967295|N>>>15),N=I+(R^O&(j^R))+M[11]+2304563134&4294967295,I=O+(N<<22&4294967295|N>>>10),N=R+(j^I&(O^j))+M[12]+1804603682&4294967295,R=I+(N<<7&4294967295|N>>>25),N=j+(O^R&(I^O))+M[13]+4254626195&4294967295,j=R+(N<<12&4294967295|N>>>20),N=O+(I^j&(R^I))+M[14]+2792965006&4294967295,O=j+(N<<17&4294967295|N>>>15),N=I+(R^O&(j^R))+M[15]+1236535329&4294967295,I=O+(N<<22&4294967295|N>>>10),N=R+(O^j&(I^O))+M[1]+4129170786&4294967295,R=I+(N<<5&4294967295|N>>>27),N=j+(I^O&(R^I))+M[6]+3225465664&4294967295,j=R+(N<<9&4294967295|N>>>23),N=O+(R^I&(j^R))+M[11]+643717713&4294967295,O=j+(N<<14&4294967295|N>>>18),N=I+(j^R&(O^j))+M[0]+3921069994&4294967295,I=O+(N<<20&4294967295|N>>>12),N=R+(O^j&(I^O))+M[5]+3593408605&4294967295,R=I+(N<<5&4294967295|N>>>27),N=j+(I^O&(R^I))+M[10]+38016083&4294967295,j=R+(N<<9&4294967295|N>>>23),N=O+(R^I&(j^R))+M[15]+3634488961&4294967295,O=j+(N<<14&4294967295|N>>>18),N=I+(j^R&(O^j))+M[4]+3889429448&4294967295,I=O+(N<<20&4294967295|N>>>12),N=R+(O^j&(I^O))+M[9]+568446438&4294967295,R=I+(N<<5&4294967295|N>>>27),N=j+(I^O&(R^I))+M[14]+3275163606&4294967295,j=R+(N<<9&4294967295|N>>>23),N=O+(R^I&(j^R))+M[3]+4107603335&4294967295,O=j+(N<<14&4294967295|N>>>18),N=I+(j^R&(O^j))+M[8]+1163531501&4294967295,I=O+(N<<20&4294967295|N>>>12),N=R+(O^j&(I^O))+M[13]+2850285829&4294967295,R=I+(N<<5&4294967295|N>>>27),N=j+(I^O&(R^I))+M[2]+4243563512&4294967295,j=R+(N<<9&4294967295|N>>>23),N=O+(R^I&(j^R))+M[7]+1735328473&4294967295,O=j+(N<<14&4294967295|N>>>18),N=I+(j^R&(O^j))+M[12]+2368359562&4294967295,I=O+(N<<20&4294967295|N>>>12),N=R+(I^O^j)+M[5]+4294588738&4294967295,R=I+(N<<4&4294967295|N>>>28),N=j+(R^I^O)+M[8]+2272392833&4294967295,j=R+(N<<11&4294967295|N>>>21),N=O+(j^R^I)+M[11]+1839030562&4294967295,O=j+(N<<16&4294967295|N>>>16),N=I+(O^j^R)+M[14]+4259657740&4294967295,I=O+(N<<23&4294967295|N>>>9),N=R+(I^O^j)+M[1]+2763975236&4294967295,R=I+(N<<4&4294967295|N>>>28),N=j+(R^I^O)+M[4]+1272893353&4294967295,j=R+(N<<11&4294967295|N>>>21),N=O+(j^R^I)+M[7]+4139469664&4294967295,O=j+(N<<16&4294967295|N>>>16),N=I+(O^j^R)+M[10]+3200236656&4294967295,I=O+(N<<23&4294967295|N>>>9),N=R+(I^O^j)+M[13]+681279174&4294967295,R=I+(N<<4&4294967295|N>>>28),N=j+(R^I^O)+M[0]+3936430074&4294967295,j=R+(N<<11&4294967295|N>>>21),N=O+(j^R^I)+M[3]+3572445317&4294967295,O=j+(N<<16&4294967295|N>>>16),N=I+(O^j^R)+M[6]+76029189&4294967295,I=O+(N<<23&4294967295|N>>>9),N=R+(I^O^j)+M[9]+3654602809&4294967295,R=I+(N<<4&4294967295|N>>>28),N=j+(R^I^O)+M[12]+3873151461&4294967295,j=R+(N<<11&4294967295|N>>>21),N=O+(j^R^I)+M[15]+530742520&4294967295,O=j+(N<<16&4294967295|N>>>16),N=I+(O^j^R)+M[2]+3299628645&4294967295,I=O+(N<<23&4294967295|N>>>9),N=R+(O^(I|~j))+M[0]+4096336452&4294967295,R=I+(N<<6&4294967295|N>>>26),N=j+(I^(R|~O))+M[7]+1126891415&4294967295,j=R+(N<<10&4294967295|N>>>22),N=O+(R^(j|~I))+M[14]+2878612391&4294967295,O=j+(N<<15&4294967295|N>>>17),N=I+(j^(O|~R))+M[5]+4237533241&4294967295,I=O+(N<<21&4294967295|N>>>11),N=R+(O^(I|~j))+M[12]+1700485571&4294967295,R=I+(N<<6&4294967295|N>>>26),N=j+(I^(R|~O))+M[3]+2399980690&4294967295,j=R+(N<<10&4294967295|N>>>22),N=O+(R^(j|~I))+M[10]+4293915773&4294967295,O=j+(N<<15&4294967295|N>>>17),N=I+(j^(O|~R))+M[1]+2240044497&4294967295,I=O+(N<<21&4294967295|N>>>11),N=R+(O^(I|~j))+M[8]+1873313359&4294967295,R=I+(N<<6&4294967295|N>>>26),N=j+(I^(R|~O))+M[15]+4264355552&4294967295,j=R+(N<<10&4294967295|N>>>22),N=O+(R^(j|~I))+M[6]+2734768916&4294967295,O=j+(N<<15&4294967295|N>>>17),N=I+(j^(O|~R))+M[13]+1309151649&4294967295,I=O+(N<<21&4294967295|N>>>11),N=R+(O^(I|~j))+M[4]+4149444226&4294967295,R=I+(N<<6&4294967295|N>>>26),N=j+(I^(R|~O))+M[11]+3174756917&4294967295,j=R+(N<<10&4294967295|N>>>22),N=O+(R^(j|~I))+M[2]+718787259&4294967295,O=j+(N<<15&4294967295|N>>>17),N=I+(j^(O|~R))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+j&4294967295}s.prototype.v=function(C,R){R===void 0&&(R=C.length);const I=R-this.blockSize,M=this.C;let O=this.h,j=0;for(;j<R;){if(O==0)for(;j<=I;)o(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<R;)if(M[O++]=C.charCodeAt(j++),O==this.blockSize){o(this,M),O=0;break}}else for(;j<R;)if(M[O++]=C[j++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=R},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[R++]=this.g[I]>>>M&255;return C};function u(C,R){var I=m;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=R(C)}function h(C,R){this.h=R;const I=[];let M=!0;for(let O=C.length-1;O>=0;O--){const j=C[O]|0;M&&j==R||(I[O]=j,M=!1)}this.g=I}var m={};function p(C){return-128<=C&&C<128?u(C,function(R){return new h([R|0],R<0?-1:0)}):new h([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return U(g(-C));const R=[];let I=1;for(let M=0;C>=I;M++)R[M]=C/I|0,I*=4294967296;return new h(R,0)}function E(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return U(E(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(R,8));let M=T;for(let j=0;j<C.length;j+=8){var O=Math.min(8,C.length-j);const N=parseInt(C.substring(j,j+O),R);O<8?(O=g(Math.pow(R,O)),M=M.j(O).add(g(N))):(M=M.j(I),M=M.add(g(N)))}return M}var T=p(0),w=p(1),V=p(16777216);i=h.prototype,i.m=function(){if(G(this))return-U(this).m();let C=0,R=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*R,R*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(k(this))return"0";if(G(this))return"-"+U(this).toString(C);const R=g(Math.pow(C,6));var I=this;let M="";for(;;){const O=re(I,R).g;I=Y(I,O.j(R));let j=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=O,k(I))return j+M;for(;j.length<6;)j="0"+j;M=j+M}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function k(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function G(C){return C.h==-1}i.l=function(C){return C=Y(this,C),G(C)?-1:k(C)?0:1};function U(C){const R=C.g.length,I=[];for(let M=0;M<R;M++)I[M]=~C.g[M];return new h(I,~C.h).add(w)}i.abs=function(){return G(this)?U(this):this},i.add=function(C){const R=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let O=0;O<=R;O++){let j=M+(this.i(O)&65535)+(C.i(O)&65535),N=(j>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);M=N>>>16,j&=65535,N&=65535,I[O]=N<<16|j}return new h(I,I[I.length-1]&-2147483648?-1:0)};function Y(C,R){return C.add(U(R))}i.j=function(C){if(k(this)||k(C))return T;if(G(this))return G(C)?U(this).j(U(C)):U(U(this).j(C));if(G(C))return U(this.j(U(C)));if(this.l(V)<0&&C.l(V)<0)return g(this.m()*C.m());const R=this.g.length+C.g.length,I=[];for(var M=0;M<2*R;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<C.g.length;O++){const j=this.i(M)>>>16,N=this.i(M)&65535,rt=C.i(O)>>>16,Nt=C.i(O)&65535;I[2*M+2*O]+=N*Nt,Z(I,2*M+2*O),I[2*M+2*O+1]+=j*Nt,Z(I,2*M+2*O+1),I[2*M+2*O+1]+=N*rt,Z(I,2*M+2*O+1),I[2*M+2*O+2]+=j*rt,Z(I,2*M+2*O+2)}for(C=0;C<R;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=R;C<2*R;C++)I[C]=0;return new h(I,0)};function Z(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function J(C,R){this.g=C,this.h=R}function re(C,R){if(k(R))throw Error("division by zero");if(k(C))return new J(T,T);if(G(C))return R=re(U(C),R),new J(U(R.g),U(R.h));if(G(R))return R=re(C,U(R)),new J(U(R.g),R.h);if(C.g.length>30){if(G(C)||G(R))throw Error("slowDivide_ only works with positive integers.");for(var I=w,M=R;M.l(C)<=0;)I=ue(I),M=ue(M);var O=le(I,1),j=le(M,1);for(M=le(M,2),I=le(I,2);!k(M);){var N=j.add(M);N.l(C)<=0&&(O=O.add(I),j=N),M=le(M,1),I=le(I,1)}return R=Y(C,O.j(R)),new J(O,R)}for(O=T;C.l(R)>=0;){for(I=Math.max(1,Math.floor(C.m()/R.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),j=g(I),N=j.j(R);G(N)||N.l(C)>0;)I-=M,j=g(I),N=j.j(R);k(j)&&(j=w),O=O.add(j),C=Y(C,N)}return new J(O,C)}i.B=function(C){return re(this,C).h},i.and=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<R;M++)I[M]=this.i(M)&C.i(M);return new h(I,this.h&C.h)},i.or=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<R;M++)I[M]=this.i(M)|C.i(M);return new h(I,this.h|C.h)},i.xor=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<R;M++)I[M]=this.i(M)^C.i(M);return new h(I,this.h^C.h)};function ue(C){const R=C.g.length+1,I=[];for(let M=0;M<R;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new h(I,C.h)}function le(C,R){const I=R>>5;R%=32;const M=C.g.length-I,O=[];for(let j=0;j<M;j++)O[j]=R>0?C.i(j+I)>>>R|C.i(j+I+1)<<32-R:C.i(j+I);return new h(O,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,_b=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,ls=h}).apply(typeof qE<"u"?qE:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vb,Ql,Eb,vh,sp,Tb,bb,Sb;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in v))break e;v=v[B]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&v.push([S,y[S]]);return v}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,B,K){for(var se=Array(arguments.length-2),we=2;we<arguments.length;we++)se[we-2]=arguments[we];return y.prototype[B].apply(S,se)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function V(c){const y=c.length;if(y>0){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function k(c,y){for(let S=1;S<arguments.length;S++){const B=arguments[S];var v=typeof B;if(v=v!="object"?v:B?Array.isArray(B)?"array":v:"null",v=="array"||v=="object"&&typeof B.length=="number"){v=c.length||0;const K=B.length||0;c.length=v+K;for(let se=0;se<K;se++)c[v+se]=B[se]}else c.push(B)}}class G{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(c){h.setTimeout(()=>{throw c},0)}function Y(){var c=C;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Z{constructor(){this.h=this.g=null}add(y,v){const S=J.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var J=new G(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,le=!1,C=new Z,R=()=>{const c=Promise.resolve(void 0);ue=()=>{c.then(I)}};function I(){for(var c;c=Y();){try{c.h.call(c.g)}catch(v){U(v)}var y=J;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}le=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function rt(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(rt,O),rt.prototype.init=function(c,y){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Nt="closure_listenable_"+(Math.random()*1e6|0),X=0;function ae(c,y,v,S,B){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=B,this.key=++X,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function Ge(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function P(c){const y={};for(const v in c)y[v]=c[v];return y}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,y){let v,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(v in S)c[v]=S[v];for(let K=0;K<te.length;K++)v=te[K],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,y,v,S,B){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const se=Ce(c,y,S,B);return se>-1?(y=c[se],v||(y.fa=!1)):(y=new ae(y,this.src,K,!!S,B),y.fa=v,c.push(y)),y};function Te(c,y){const v=y.type;if(v in c.g){var S=c.g[v],B=Array.prototype.indexOf.call(S,y,void 0),K;(K=B>=0)&&Array.prototype.splice.call(S,B,1),K&&(ge(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,y,v,S){for(let B=0;B<c.length;++B){const K=c[B];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==S)return B}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Dt={};function st(c,y,v,S,B){if(Array.isArray(y)){for(let K=0;K<y.length;K++)st(c,y[K],v,S,B);return null}return v=qo(v),c&&c[Nt]?c.J(y,v,m(S)?!!S.capture:!1,B):Ss(c,y,v,!1,S,B)}function Ss(c,y,v,S,B,K){if(!y)throw Error("Invalid event type");const se=m(B)?!!B.capture:!!B;let we=As(c);if(we||(c[Le]=we=new he(c)),v=we.add(y,v,S,se,K),v.proxy)return v;if(S=va(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)j||(B=se),B===void 0&&(B=!1),c.addEventListener(y.toString(),S,B);else if(c.attachEvent)c.attachEvent(hi(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function va(){function c(v){return y.call(c.src,c.listener,v)}const y=zo;return c}function Ea(c,y,v,S,B){if(Array.isArray(y))for(var K=0;K<y.length;K++)Ea(c,y[K],v,S,B);else S=m(S)?!!S.capture:!!S,v=qo(v),c&&c[Nt]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],v=Ce(y,v,S,B),v>-1&&(ge(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=As(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ce(y,v,S,B)),(v=c>-1?y[c]:null)&&Ta(v))}function Ta(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Nt])Te(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(hi(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=As(y))?(Te(v,c),v.h==0&&(v.src=null,y[Le]=null)):ge(c)}}}function hi(c){return c in Dt?Dt[c]:Dt[c]="on"+c}function zo(c,y){if(c.da)c=!0;else{y=new rt(y,this);const v=c.listener,S=c.ha||c.src;c.fa&&Ta(c),c=v.call(S,y)}return c}function As(c){return c=c[Le],c instanceof he?c:null}var Bo="__closure_events_fn_"+(Math.random()*1e9>>>0);function qo(c){return typeof c=="function"?c:(c[Bo]||(c[Bo]=function(y){return c.handleEvent(y)}),c[Bo])}function yt(){M.call(this),this.i=new he(this),this.M=this,this.G=null}T(yt,M),yt.prototype[Nt]=!0,yt.prototype.removeEventListener=function(c,y,v,S){Ea(this,c,y,v,S)};function Ot(c,y){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var B=y;y=new O(S,c),oe(y,B)}B=!0;let K,se;if(v)for(se=v.length-1;se>=0;se--)K=y.g=v[se],B=Tr(K,S,!0,y)&&B;if(K=y.g=c,B=Tr(K,S,!0,y)&&B,B=Tr(K,S,!1,y)&&B,v)for(se=0;se<v.length;se++)K=y.g=v[se],B=Tr(K,S,!1,y)&&B}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let S=0;S<v.length;S++)ge(v[S]);delete c.g[y],c.h--}}this.G=null},yt.prototype.J=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},yt.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function Tr(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let K=0;K<y.length;++K){const se=y[K];if(se&&!se.da&&se.capture==v){const we=se.listener,dt=se.ha||se.src;se.fa&&Te(c.i,se),B=we.call(dt,S)!==!1&&B}}return B&&!S.defaultPrevented}function Rf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Du(c){c.g=Rf(()=>{c.g=null,c.i&&(c.i=!1,Du(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class en extends M{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Du(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(c){M.call(this),this.h=c,this.g={}}T(ws,M);var Ho=[];function Fo(c){je(c.g,function(y,v){this.g.hasOwnProperty(v)&&Ta(y)},c),c.g={}}ws.prototype.N=function(){ws.Z.N.call(this),Fo(this)},ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var br=h.JSON.stringify,Cf=h.JSON.parse,Ou=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function xu(){}function Mu(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){O.call(this,"d")}T(zt,O);function wn(){O.call(this,"c")}T(wn,O);var ft={},Vu=null;function ba(){return Vu=Vu||new yt}ft.Ia="serverreachability";function ku(c){O.call(this,ft.Ia,c)}T(ku,O);function fi(c){const y=ba();Ot(y,new ku(y))}ft.STAT_EVENT="statevent";function Rs(c,y){O.call(this,ft.STAT_EVENT,c),this.stat=y}T(Rs,O);function _t(c){const y=ba();Ot(y,new Rs(y,c))}ft.Ja="timingevent";function di(c,y){O.call(this,ft.Ja,c),this.size=y}T(di,O);function mi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function If(c,y,v,S,B,K){c.info(function(){if(c.g)if(K){var se="",we=K.split("&");for(let qe=0;qe<we.length;qe++){var dt=we[qe].split("=");if(dt.length>1){const at=dt[0];dt=dt[1];const Nn=at.split("_");se=Nn.length>=2&&Nn[1]=="type"?se+(at+"="+dt+"&"):se+(at+"=redacted&")}}}else se=null;else se=K;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+y+`
`+v+`
`+se})}function Pu(c,y,v,S,B,K,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+y+`
`+v+`
`+K+" "+se})}function pi(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Nf(c,v)+(S?" "+S:"")})}function Cs(c,y){c.info(function(){return"TIMEOUT: "+y})}Gn.prototype.info=function(){};function Nf(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var v=K[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var B=S[0];if(B!="noop"&&B!="stop"&&B!="close")for(let se=1;se<S.length;se++)S[se]=""}}}}return br(K)}catch{return y}}var Is={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Go={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ko;function Ns(){}T(Ns,xu),Ns.prototype.g=function(){return new XMLHttpRequest},Ko=new Ns;function Gi(c){return encodeURIComponent(String(c))}function Lu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Kn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.S=S||1,this.V=new ws(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var vt={},Pt={};function gi(c,y,v){c.M=1,c.A=Ds(Tt(y)),c.u=v,c.R=!0,Sa(c,null)}function Sa(c,y){c.F=Date.now(),yi(c),c.B=Tt(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Ca(v.i,"t",S),c.C=0,v=c.j.L,c.h=new $n,c.g=Ju(c.j,v?y:null,!c.u),c.P>0&&(c.O=new en(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,S=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(Ho[0]=B.toString()),B=Ho);for(let K=0;K<B.length;K++){const se=st(v,B[K],S||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?P(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),fi(),If(c.i,c.v,c.B,c.l,c.S,c.u)}Kn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Xn(c)==3?y.j():this.Y(c)},Kn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Xn(this.g),dt=this.g.ya(),qe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||we!=4||dt==7||(dt==8||qe<=0?fi(3):fi(2)),_i(this);var y=this.g.ca();this.X=y;var v=Df(this);if(this.o=y==200,Pu(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,B=this.g;if((S=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var K=S;break t}}K=null}if(c=K)pi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,c);else{this.o=!1,this.m=3,_t(12),pn(this),Rn(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<v.length;)if(at=ju(this,v),at==Pt){we==4&&(this.m=4,_t(14),c=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(at==vt){this.m=4,_t(15),pi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else pi(this.i,this.l,at,null),vi(this,at);if(Uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,_t(16),c=!1),this.o=this.o&&c,!c)pi(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ol(se),se.P=!0,_t(11))}}else pi(this.i,this.l,v,null),vi(this,v);we==4&&pn(this),this.o&&!this.K&&(we==4?Yu(this.j,this):(this.o=!1,yi(this)))}else $i(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),pn(this),Rn(this)}}}catch{}finally{}};function Df(c){if(!Uu(c))return c.g.la();const y=Bt(c.g);if(y==="")return"";let v="";const S=y.length,B=Xn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Rn(c),"";c.h.i=new h.TextDecoder}for(let K=0;K<S;K++)c.h.h=!0,v+=c.h.i.decode(y[K],{stream:!(B&&K==S-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Uu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ju(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?Pt:(v=Number(y.substring(v,S)),isNaN(v)?vt:(S+=1,S+v>y.length?Pt:(y=y.slice(S,S+v),c.C=S+v,y)))}Kn.prototype.cancel=function(){this.K=!0,pn(this)};function yi(c){c.T=Date.now()+c.H,Aa(c,c.H)}function Aa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=mi(g(c.aa,c),y)}function _i(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Kn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Cs(this.i,this.B),this.M!=2&&(fi(),_t(17)),pn(this),this.m=2,Rn(this)):Aa(this,this.T-c)};function Rn(c){c.j.I==0||c.K||Yu(c.j,c)}function pn(c){_i(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Fo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function vi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||Ti(v.h,c))){if(!c.L&&Ti(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)xa(v),Dr(v);else break e;Ls(v),_t(18)}}else v.xa=B[1],0<v.xa-v.K&&B[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=mi(g(v.Va,v),6e3));Ei(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ci(v,11)}else if((c.L||v.g==c)&&xa(v),!N(y))for(B=v.Ba.g.parse(y),y=0;y<B.length;y++){let qe=B[y];const at=qe[0];if(!(at<=v.K))if(v.K=at,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const Nn=qe[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const Ii=qe[4];Ii!=null&&(v.za=Ii,v.j.info("SVER="+v.za));const Wn=qe[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(S=1.5*Wn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Jn=c.g;if(Jn){const Us=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Us){var K=S.h;K.g||Us.indexOf("spdy")==-1&&Us.indexOf("quic")==-1&&Us.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Qo(K,K.h),K.h=null))}if(S.G){const Ma=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ma&&(S.wa=Ma,Ke(S.J,S.G,Ma))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var se=c;if(S.na=Wu(S,S.L?S.ba:null,S.W),se.L){Xo(S.h,se);var we=se,dt=S.O;dt&&(we.H=dt),we.D&&(_i(we),yi(we)),S.g=se}else Ku(S);v.i.length>0&&Ri(v)}else qe[0]!="stop"&&qe[0]!="close"||Ci(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ci(v,7):sl(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}fi(4)}catch{}}var Et=class{constructor(c,y){this.g=c,this.map=y}};function $o(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ei(c){return c.h?1:c.g?c.g.size:0}function Ti(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Qo(c,y){c.g?c.g.add(y):c.h=y}function Xo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}$o.prototype.cancel=function(){if(this.i=Wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Wo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return V(c.i)}var zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wa(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let B,K=null;S>=0?(B=c[v].substring(0,S),K=c[v].substring(S+1)):B=c[v],y(B,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof gn?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,Sr(this,c.u),this.h=c.h,Jo(this,Fu(c.i)),this.m=c.m):c&&(y=String(c).match(zu))?(this.l=!1,Lt(this,y[1]||"",!0),this.o=bi(y[2]||""),this.g=bi(y[3]||"",!0),Sr(this,y[4]),this.h=bi(y[5]||"",!0),Jo(this,y[6]||"",!0),this.m=bi(y[7]||"")):(this.l=!1,this.i=new wr(null,this.l))}gn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Os(y,Ra,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Os(y,Ra,!0),"@"),c.push(Gi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Os(v,v.charAt(0)=="/"?Zo:Bu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Os(v,qu)),c.join("")},gn.prototype.resolve=function(c){const y=Tt(this);let v=!!c.j;v?Lt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var S=c.h;if(v)Sr(y,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var B=y.h.lastIndexOf("/");B!=-1&&(S=y.h.slice(0,B+1)+S)}if(B=S,B==".."||B==".")S="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){S=B.lastIndexOf("/",0)==0,B=B.split("/");const K=[];for(let se=0;se<B.length;){const we=B[se++];we=="."?S&&se==B.length&&K.push(""):we==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),S&&se==B.length&&K.push("")):(K.push(we),S=!0)}S=K.join("/")}else S=B}return v?y.h=S:v=c.i.toString()!=="",v?Jo(y,Fu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function Tt(c){return new gn(c)}function Lt(c,y,v){c.j=v?bi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Sr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Jo(c,y,v){y instanceof wr?(c.i=y,Ia(c.i,c.l)):(v||(y=Os(y,Ar)),c.i=new wr(y,c.l))}function Ke(c,y,v){c.i.set(y,v)}function Ds(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function bi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Os(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ra=/[#\/\?@]/g,Bu=/[#\?:]/g,Zo=/[#\?]/g,Ar=/[#\?@]/g,qu=/#/g;function wr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&wa(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=wr.prototype,i.add=function(c,y){an(this),this.i=null,c=Rr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Hu(c,y){an(c),y=Rr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function el(c,y){return an(c),y=Rr(c,y),c.g.has(y)}i.forEach=function(c,y){an(this),this.g.forEach(function(v,S){v.forEach(function(B){c.call(y,B,S,this)},this)},this)};function tl(c,y){an(c);let v=[];if(typeof y=="string")el(c,y)&&(v=v.concat(c.g.get(Rr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}i.set=function(c,y){return an(this),this.i=null,c=Rr(this,c),el(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=tl(this,c),c.length>0?String(c[0]):y):y};function Ca(c,y,v){Hu(c,y),v.length>0&&(c.i=null,c.g.set(Rr(c,y),V(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var v=y[S];const B=Gi(v);v=tl(this,v);for(let K=0;K<v.length;K++){let se=B;v[K]!==""&&(se+="="+Gi(v[K])),c.push(se)}}return this.i=c.join("&")};function Fu(c){const y=new wr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Rr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ia(c,y){y&&!c.j&&(an(c),c.i=null,c.g.forEach(function(v,S){const B=S.toLowerCase();S!=B&&(Hu(this,S),Ca(this,B,v))},c)),c.j=y}function Yn(c,y){const v=new Gn;if(h.Image){const S=new Image;S.onload=E(Cn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=E(Cn,v,"TestLoadImage: error",!1,y,S),S.onabort=E(Cn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=E(Cn,v,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function nl(c,y){const v=new Gn,S=new AbortController,B=setTimeout(()=>{S.abort(),Cn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(B),K.ok?Cn(v,"TestPingServer: ok",!0,y):Cn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Cn(v,"TestPingServer: error",!1,y)})}function Cn(c,y,v,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(v)}catch{}}function Cr(){this.g=new Ou}function Si(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Si,xu),Si.prototype.g=function(){return new xs(this.i,this.h)};function xs(c,y){yt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(xs,yt),i=xs.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Qn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ir(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Na(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Na(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ir(this):Qn(this),this.readyState==3&&Na(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Ir(this))},i.Na=function(c){this.g&&(this.response=c,Ir(this))},i.ga=function(){this.g&&Ir(this)};function Ir(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let y="";return je(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Ms(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=In(v),typeof c=="string"?v!=null&&Gi(v):Ke(c,y,v))}function Qe(c){yt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Qe,yt);var Ai=/^https?$/i,il=["POST","PUT"];i=Qe.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ko.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Vs(this,K);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)v.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())v.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),B=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(il,y,void 0)>=0)||S||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of v)this.g.setRequestHeader(K,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Vs(this,K)}};function Vs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,rl(c),Ki(c)}function rl(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Ki(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),Qe.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?ks(this):this.Xa())},i.Xa=function(){ks(this)};function ks(c){if(c.h&&typeof u<"u"){if(c.v&&Xn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Xn(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=K===0){let se=String(c.D).match(zu)[1]||null;!se&&h.self&&h.self.location&&(se=h.self.location.protocol.slice(0,-1)),S=!Ai.test(se?se.toLowerCase():"")}v=S}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var B=Xn(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",rl(c)}}finally{Ki(c)}}}}function Ki(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Cf(y)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(c){const y={};c=(c.g&&Xn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(N(c[S]))continue;var v=Lu(c[S]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[B]||[];y[B]=K,K.push(v)}Ge(y,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Nr(c){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wi("baseRetryDelayMs",5e3,c),this.Za=wi("retryDelaySeedMs",1e4,c),this.Ta=wi("forwardChannelMaxRetries",2,c),this.va=wi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new $o(c&&c.concurrentRequestLimit),this.Ba=new Cr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Nr.prototype,i.ka=8,i.I=1,i.connect=function(c,y,v,S){_t(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Wu(this,null,this.W),Ri(this)};function sl(c){if(Da(c),c.I==3){var y=c.V++,v=Tt(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),Ps(c,v),y=new Kn(c,c.j,y),y.M=2,y.A=Ds(Tt(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=Ju(y.j,null),y.g.ea(y.A)),y.F=Date.now(),yi(y)}Xu(c)}function Dr(c){c.g&&(ol(c),c.g.cancel(),c.g=null)}function Da(c){Dr(c),c.v&&(h.clearTimeout(c.v),c.v=null),xa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Ri(c){if(!Yo(c.h)&&!c.m){c.m=!0;var y=c.Ea;ue||R(),le||(ue(),le=!0),C.add(y,c),c.D=0}}function Oa(c,y){return Ei(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=mi(g(c.Ea,c,y),Qu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new Kn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=P(K),oe(K,this.U)):K=this.U),this.u!==null||this.R||(B.J=K,K=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Gu(this,B,y),v=Tt(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Ps(this,v),K&&(this.R?y="headers="+Gi(In(K))+"&"+y:this.u&&Ms(v,this.u,K)),Qo(this.h,B),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",y),Ke(v,"SID","null"),B.U=!0,gi(B,v,null)):gi(B,v,y),this.I=2}}else this.I==3&&(c?al(this,c):this.i.length==0||Yo(this.h)||al(this))};function al(c,y){var v;y?v=y.l:v=c.V++;const S=Tt(c.J);Ke(S,"SID",c.M),Ke(S,"RID",v),Ke(S,"AID",c.K),Ps(c,S),c.u&&c.o&&Ms(S,c.u,c.o),v=new Kn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Gu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Qo(c.h,v),gi(v,S,y)}function Ps(c,y){c.H&&je(c.H,function(v,S){Ke(y,S,v)}),c.l&&je({},function(v,S){Ke(y,S,v)})}function Gu(c,y,v){v=Math.min(c.i.length,v);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var B=c.i;let we=-1;for(;;){const dt=["count="+v];we==-1?v>0?(we=B[0].g,dt.push("ofs="+we)):we=0:dt.push("ofs="+we);let qe=!0;for(let at=0;at<v;at++){var K=B[at].g;const Nn=B[at].map;if(K-=we,K<0)we=Math.max(0,B[at].g-100),qe=!1;else try{K="req"+K+"_"||"";try{var se=Nn instanceof Map?Nn:Object.entries(Nn);for(const[Ii,Wn]of se){let Jn=Wn;m(Wn)&&(Jn=br(Wn)),dt.push(K+Ii+"="+encodeURIComponent(Jn))}}catch(Ii){throw dt.push(K+"type="+encodeURIComponent("_badmap")),Ii}}catch{S&&S(Nn)}}if(qe){se=dt.join("&");break e}}se=void 0}return c=c.i.splice(0,v),y.G=c,se}function Ku(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ue||R(),le||(ue(),le=!0),C.add(y,c),c.A=0}}function Ls(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=mi(g(c.Da,c),Qu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,$u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=mi(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),Dr(this),$u(this))};function ol(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function $u(c){c.g=new Kn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Tt(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),Ps(c,y),c.u&&c.o&&Ms(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ds(Tt(y)),v.u=null,v.R=!0,Sa(v,c)}i.Va=function(){this.C!=null&&(this.C=null,Dr(this),Ls(this),_t(19))};function xa(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Yu(c,y){var v=null;if(c.g==y){xa(c),ol(c),c.g=null;var S=2}else if(Ti(c.h,y))v=y.G,Xo(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var B=c.D;S=ba(),Ot(S,new di(S,v)),Ri(c)}else Ku(c);else if(B=y.m,B==3||B==0&&y.X>0||!(S==1&&Oa(c,y)||S==2&&Ls(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),B){case 1:Ci(c,5);break;case 4:Ci(c,10);break;case 3:Ci(c,6);break;default:Ci(c,2)}}}function Qu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ci(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),S=c.Ua;const B=!S;S=new gn(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Lt(S,"https"),Ds(S),B?Yn(S.toString(),v):nl(S.toString(),v)}else _t(2);c.I=0,c.l&&c.l.pa(y),Xu(c),Da(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Xu(c){if(c.I=0,c.ja=[],c.l){const y=Wo(c.h);(y.length!=0||c.i.length!=0)&&(k(c.ja,y),k(c.ja,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.oa()}}function Wu(c,y,v){var S=v instanceof gn?Tt(v):new gn(v);if(S.g!="")y&&(S.g=y+"."+S.g),Sr(S,S.u);else{var B=h.location;S=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const K=new gn(null);S&&Lt(K,S),y&&(K.g=y),B&&Sr(K,B),v&&(K.h=v),S=K}return v=c.G,y=c.wa,v&&y&&Ke(S,v,y),Ke(S,"VER",c.ka),Ps(c,S),S}function Ju(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Qe(new Si({ab:v})):new Qe(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zu(){}i=Zu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Or(){}Or.prototype.g=function(c,y){return new tn(c,y)};function tn(c,y){yt.call(this),this.g=new Nr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!N(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Yi(this)}T(tn,yt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){sl(this.g)},tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=br(c),c=v);y.i.push(new Et(y.Ya++,c)),y.I==3&&Ri(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,tn.Z.N.call(this)};function ec(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(ec,zt);function tc(){wn.call(this),this.status=1}T(tc,wn);function Yi(c){this.g=c}T(Yi,Zu),Yi.prototype.ra=function(){Ot(this.g,"a")},Yi.prototype.qa=function(c){Ot(this.g,new ec(c))},Yi.prototype.pa=function(c){Ot(this.g,new tc)},Yi.prototype.oa=function(){Ot(this.g,"b")},Or.prototype.createWebChannel=Or.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,Sb=function(){return new Or},bb=function(){return ba()},Tb=ft,sp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Is.NO_ERROR=0,Is.TIMEOUT=8,Is.HTTP_ERROR=6,vh=Is,Go.COMPLETE="complete",Eb=Go,Mu.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",yt.prototype.listen=yt.prototype.J,Ql=Mu,Qe.prototype.listenOnce=Qe.prototype.K,Qe.prototype.getLastError=Qe.prototype.Ha,Qe.prototype.getLastErrorCode=Qe.prototype.ya,Qe.prototype.getStatus=Qe.prototype.ca,Qe.prototype.getResponseJson=Qe.prototype.La,Qe.prototype.getResponseText=Qe.prototype.la,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Fa,vb=Qe}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const HE="@firebase/firestore",FE="4.9.2";class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let Po="12.3.0";const la=new nf("@firebase/firestore");function co(){return la.logLevel}function ce(i,...e){if(la.logLevel<=Me.DEBUG){const n=e.map($p);la.debug(`Firestore (${Po}): ${i}`,...n)}}function _r(i,...e){if(la.logLevel<=Me.ERROR){const n=e.map($p);la.error(`Firestore (${Po}): ${i}`,...n)}}function So(i,...e){if(la.logLevel<=Me.WARN){const n=e.map($p);la.warn(`Firestore (${Po}): ${i}`,...n)}}function $p(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Ee(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Ab(i,s,n)}function Ab(i,e,n){let s=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw _r(s),new Error(s)}function Fe(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||Ab(e,o,s)}function Ae(i,e){return i}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Hn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class us{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class wb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class L2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class U2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class j2{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new us;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new us,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new us)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new wb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class z2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class B2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new z2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class GE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new GE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new GE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function H2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class Yp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=H2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(i,e){return i<e?-1:i>e?1:0}function ap(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return jm(o)===jm(u)?Ve(o,u):jm(o)?1:-1}return Ve(i.length,e.length)}const F2=55296,G2=57343;function jm(i){const e=i.charCodeAt(0);return e>=F2&&e<=G2}function Ao(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const KE="__name__";class Mi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Mi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Mi.isNumericId(e),o=Mi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Mi.extractNumericId(e).compare(Mi.extractNumericId(n)):ap(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ls.fromString(e.substring(4,e.length-2))}}class nt extends Mi{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const K2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Mi{construct(e,n,s){return new $t(e,n,s)}static isValidIdentifier(e){return K2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===KE}static keyField(){return new $t([KE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new me(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new me(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(nt.fromString(e))}static fromName(e){return new ye(nt.fromString(e).popFirst(5))}static empty(){return new ye(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new nt(e.slice()))}}function Rb(i,e,n){if(!n)throw new me(ie.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function $2(i,e,n,s){if(e===!0&&s===!0)throw new me(ie.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function $E(i){if(!ye.isDocumentKey(i))throw new me(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function YE(i){if(ye.isDocumentKey(i))throw new me(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Cb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Qp(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function wo(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new me(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qp(i);throw new me(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Ct(i,e){const n={typeString:i};return e&&(n.value=e),n}function wu(i,e){if(!Cb(i))throw new me(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new me(ie.INVALID_ARGUMENT,n);return!0}const QE=-62135596800,XE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*XE);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<QE)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/XE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-QE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Ct("string",it._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new it(0,0))}static max(){return new be(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const hu=-1;function Y2(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new ds(o,ye.empty(),e)}function Q2(i){return new ds(i.readTime,i.key,hu)}class ds{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ds(be.min(),ye.empty(),hu)}static max(){return new ds(be.max(),ye.empty(),hu)}}function X2(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:Ve(i.largestBatchId,e.largestBatchId))}const W2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class J2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Lo(i){if(i.code!==ie.FAILED_PRECONDITION||i.message!==W2)throw i;ce("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function Z2(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uo(i){return i.name==="IndexedDbTransactionError"}class lf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}lf.ce=-1;const Xp=-1;function uf(i){return i==null}function Vh(i){return i===0&&1/i==-1/0}function eD(i){return typeof i=="number"&&Number.isInteger(i)&&!Vh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Ib="";function tD(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=WE(e)),e=nD(i.get(n),e);return WE(e)}function nD(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case Ib:n+="";break;default:n+=u}}return n}function WE(i){return i+Ib+""}function JE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function pa(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Nb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}}class lh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ZE(this.data.getIterator())}getIteratorFrom(e){return new ZE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class ZE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ii{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new ii([])}unionWith(e){let n=new kt($t.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ii(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ao(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class Db extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Db("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const iD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(i){if(Fe(!!i,39018),typeof i=="string"){let e=0;const n=iD.exec(i);if(Fe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(i.seconds),nanos:gt(i.nanos)}}function gt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ps(i){return typeof i=="string"?Yt.fromBase64String(i):Yt.fromUint8Array(i)}const Ob="server_timestamp",xb="__type__",Mb="__previous_value__",Vb="__local_write_time__";function Wp(i){return(i?.mapValue?.fields||{})[xb]?.stringValue===Ob}function cf(i){const e=i.mapValue.fields[Mb];return Wp(e)?cf(e):e}function fu(i){const e=ms(i.mapValue.fields[Vb].timestampValue);return new it(e.seconds,e.nanos)}class rD{constructor(e,n,s,o,u,h,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const kh="(default)";class du{constructor(e,n){this.projectId=e,this.database=n||kh}static empty(){return new du("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof du&&e.projectId===this.projectId&&e.database===this.database}}const kb="__type__",sD="__max__",uh={mapValue:{}},Pb="__vector__",Ph="value";function gs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Wp(i)?4:oD(i)?9007199254740991:aD(i)?10:11:Ee(28295,{value:i})}function Bi(i,e){if(i===e)return!0;const n=gs(i);if(n!==gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return fu(i).isEqual(fu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ms(o.timestampValue),m=ms(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return ps(o.bytesValue).isEqual(ps(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=gt(o.doubleValue),m=gt(u.doubleValue);return h===m?Vh(h)===Vh(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return Ao(i.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(JE(h)!==JE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Bi(h[p],m[p])))return!1;return!0})(i,e);default:return Ee(52216,{left:i})}}function mu(i,e){return(i.values||[]).find((n=>Bi(n,e)))!==void 0}function Ro(i,e){if(i===e)return 0;const n=gs(i),s=gs(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=gt(u.integerValue||u.doubleValue),p=gt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return eT(i.timestampValue,e.timestampValue);case 4:return eT(fu(i),fu(e));case 5:return ap(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=ps(u),p=ps(h);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ve(m[g],p[g]);if(E!==0)return E}return Ve(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ve(gt(u.latitude),gt(h.latitude));return m!==0?m:Ve(gt(u.longitude),gt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return tT(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Ph]?.arrayValue,E=p[Ph]?.arrayValue,T=Ve(g?.values?.length||0,E?.values?.length||0);return T!==0?T:tT(g,E)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===uh.mapValue&&h===uh.mapValue)return 0;if(u===uh.mapValue)return 1;if(h===uh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const w=ap(p[T],E[T]);if(w!==0)return w;const V=Ro(m[p[T]],g[E[T]]);if(V!==0)return V}return Ve(p.length,E.length)})(i.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function eT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const n=ms(i),s=ms(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function tT(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ro(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function Co(i){return op(i)}function op(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=ms(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ps(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ye.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=op(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${op(n.fields[h])}`;return o+"}"})(i.mapValue):Ee(61005,{value:i})}function Eh(i){switch(gs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cf(i);return e?16+Eh(e):16;case 5:return 2*i.stringValue.length;case 6:return ps(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Eh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return pa(s.fields,((u,h)=>{o+=u.length+Eh(h)})),o})(i.mapValue);default:throw Ee(13486,{value:i})}}function lp(i){return!!i&&"integerValue"in i}function Jp(i){return!!i&&"arrayValue"in i}function nT(i){return!!i&&"nullValue"in i}function iT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Th(i){return!!i&&"mapValue"in i}function aD(i){return(i?.mapValue?.fields||{})[kb]?.stringValue===Pb}function tu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return pa(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=tu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tu(i.arrayValue.values[n]);return e}return{...i}}function oD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===sD}class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tu(n)}setAll(e){let n=$t.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=tu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){pa(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Un(tu(this.value))}}function Lb(i){const e=[];return pa(i.fields,((n,s)=>{const o=new $t([n]);if(Th(s)){const u=Lb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new ii(e)}class Jt{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Jt(e,0,be.min(),be.min(),be.min(),Un.empty(),0)}static newFoundDocument(e,n,s,o){return new Jt(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new Jt(e,2,n,be.min(),be.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,be.min(),be.min(),Un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Lh{constructor(e,n){this.position=e,this.inclusive=n}}function rT(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),n.key):s=Ro(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function sT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Bi(i.position[n],e.position[n]))return!1;return!0}class Uh{constructor(e,n="asc"){this.field=e,this.dir=n}}function lD(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Ub{}class Mt extends Ub{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new cD(e,n,s):n==="array-contains"?new dD(e,s):n==="in"?new mD(e,s):n==="not-in"?new pD(e,s):n==="array-contains-any"?new gD(e,s):new Mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new hD(e,s):new fD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ro(n,this.value)):n!==null&&gs(this.value)===gs(n)&&this.matchesComparison(Ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qi extends Ub{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new qi(e,n)}matches(e){return jb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jb(i){return i.op==="and"}function zb(i){return uD(i)&&jb(i)}function uD(i){for(const e of i.filters)if(e instanceof qi)return!1;return!0}function up(i){if(i instanceof Mt)return i.field.canonicalString()+i.op.toString()+Co(i.value);if(zb(i))return i.filters.map((e=>up(e))).join(",");{const e=i.filters.map((n=>up(n))).join(",");return`${i.op}(${e})`}}function Bb(i,e){return i instanceof Mt?(function(s,o){return o instanceof Mt&&s.op===o.op&&s.field.isEqual(o.field)&&Bi(s.value,o.value)})(i,e):i instanceof qi?(function(s,o){return o instanceof qi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&Bb(h,o.filters[m])),!0):!1})(i,e):void Ee(19439)}function qb(i){return i instanceof Mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Co(n.value)}`})(i):i instanceof qi?(function(n){return n.op.toString()+" {"+n.getFilters().map(qb).join(" ,")+"}"})(i):"Filter"}class cD extends Mt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class hD extends Mt{constructor(e,n){super(e,"in",n),this.keys=Hb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class fD extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=Hb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Hb(i,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class dD extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jp(n)&&mu(n.arrayValue,this.value)}}class mD extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mu(this.value.arrayValue,n)}}class pD extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mu(this.value.arrayValue,n)}}class gD extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>mu(this.value.arrayValue,s)))}}class yD{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function aT(i,e=null,n=[],s=[],o=null,u=null,h=null){return new yD(i,e,n,s,o,u,h)}function Zp(i){const e=Ae(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>up(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),uf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Co(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Co(s))).join(",")),e.Te=n}return e.Te}function eg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!lD(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Bb(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!sT(i.startAt,e.startAt)&&sT(i.endAt,e.endAt)}function cp(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class hf{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _D(i,e,n,s,o,u,h,m){return new hf(i,e,n,s,o,u,h,m)}function tg(i){return new hf(i)}function oT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function vD(i){return i.collectionGroup!==null}function nu(i){const e=Ae(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new kt($t.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Uh(u,s))})),n.has($t.keyField().canonicalString())||e.Ie.push(new Uh($t.keyField(),s))}return e.Ie}function Pi(i){const e=Ae(i);return e.Ee||(e.Ee=ED(e,nu(i))),e.Ee}function ED(i,e){if(i.limitType==="F")return aT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Uh(o.field,u)}));const n=i.endAt?new Lh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Lh(i.startAt.position,i.startAt.inclusive):null;return aT(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function hp(i,e,n){return new hf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function ff(i,e){return eg(Pi(i),Pi(e))&&i.limitType===e.limitType}function Fb(i){return`${Zp(Pi(i))}|lt:${i.limitType}`}function ho(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>qb(o))).join(", ")}]`),uf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Co(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Co(o))).join(",")),`Target(${s})`})(Pi(i))}; limitType=${i.limitType})`}function df(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of nu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=rT(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,nu(s),o)||s.endAt&&!(function(h,m,p){const g=rT(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,nu(s),o))})(i,e)}function TD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Gb(i){return(e,n)=>{let s=!1;for(const o of nu(i)){const u=bD(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function bD(i,e,n){const s=i.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Ro(p,g):Ee(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}class ga{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){pa(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Nb(this.inner)}size(){return this.innerSize}}const SD=new ut(ye.comparator);function vr(){return SD}const Kb=new ut(ye.comparator);function Xl(...i){let e=Kb;for(const n of i)e=e.insert(n.key,n);return e}function $b(i){let e=Kb;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ia(){return iu()}function Yb(){return iu()}function iu(){return new ga((i=>i.toString()),((i,e)=>i.isEqual(e)))}const AD=new ut(ye.comparator),wD=new kt(ye.comparator);function ke(...i){let e=wD;for(const n of i)e=e.add(n);return e}const RD=new kt(Ve);function CD(){return RD}function ng(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function Qb(i){return{integerValue:""+i}}function ID(i,e){return eD(e)?Qb(e):ng(i,e)}class mf{constructor(){this._=void 0}}function ND(i,e,n){return i instanceof jh?(function(o,u){const h={fields:{[xb]:{stringValue:Ob},[Vb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Wp(u)&&(u=cf(u)),u&&(h.fields[Mb]=u),{mapValue:h}})(n,e):i instanceof pu?Wb(i,e):i instanceof gu?Jb(i,e):(function(o,u){const h=Xb(o,u),m=lT(h)+lT(o.Ae);return lp(h)&&lp(o.Ae)?Qb(m):ng(o.serializer,m)})(i,e)}function DD(i,e,n){return i instanceof pu?Wb(i,e):i instanceof gu?Jb(i,e):n}function Xb(i,e){return i instanceof zh?(function(s){return lp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class jh extends mf{}class pu extends mf{constructor(e){super(),this.elements=e}}function Wb(i,e){const n=Zb(e);for(const s of i.elements)n.some((o=>Bi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class gu extends mf{constructor(e){super(),this.elements=e}}function Jb(i,e){let n=Zb(e);for(const s of i.elements)n=n.filter((o=>!Bi(o,s)));return{arrayValue:{values:n}}}class zh extends mf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function lT(i){return gt(i.integerValue||i.doubleValue)}function Zb(i){return Jp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function OD(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof pu&&o instanceof pu||s instanceof gu&&o instanceof gu?Ao(s.elements,o.elements,Bi):s instanceof zh&&o instanceof zh?Bi(s.Ae,o.Ae):s instanceof jh&&o instanceof jh})(i.transform,e.transform)}class xD{constructor(e,n){this.version=e,this.transformResults=n}}class Li{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Li}static exists(e){return new Li(void 0,e)}static updateTime(e){return new Li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class pf{}function eS(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new nS(i.key,Li.none()):new Ru(i.key,i.data,Li.none());{const n=i.data,s=Un.empty();let o=new kt($t.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ya(i.key,s,new ii(o.toArray()),Li.none())}}function MD(i,e,n){i instanceof Ru?(function(o,u,h){const m=o.value.clone(),p=cT(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof ya?(function(o,u,h){if(!bh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=cT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(tS(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function ru(i,e,n,s){return i instanceof Ru?(function(u,h,m,p){if(!bh(u.precondition,h))return m;const g=u.value.clone(),E=hT(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof ya?(function(u,h,m,p){if(!bh(u.precondition,h))return m;const g=hT(u.fieldTransforms,p,h),E=h.data;return E.setAll(tS(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(u,h,m){return bh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function VD(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=Xb(s.transform,o||null);u!=null&&(n===null&&(n=Un.empty()),n.set(s.field,u))}return n||null}function uT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ao(s,o,((u,h)=>OD(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ru extends pf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ya extends pf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function tS(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function cT(i,e,n){const s=new Map;Fe(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,DD(h,m,n[o]))}return s}function hT(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,ND(u,h,e))}return s}class nS extends pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kD extends pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class PD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&MD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ru(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ru(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Yb();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=eS(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,((n,s)=>uT(n,s)))&&Ao(this.baseMutations,e.baseMutations,((n,s)=>uT(n,s)))}}class ig{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return AD})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new ig(e,n,s,o)}}class LD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class UD{constructor(e,n){this.count=e,this.unchangedNames=n}}var Rt,Ue;function jD(i){switch(i){case ie.OK:return Ee(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function iS(i){if(i===void 0)return _r("GRPC error has no .code"),ie.UNKNOWN;switch(i){case Rt.OK:return ie.OK;case Rt.CANCELLED:return ie.CANCELLED;case Rt.UNKNOWN:return ie.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ie.INTERNAL;case Rt.UNAVAILABLE:return ie.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ie.NOT_FOUND;case Rt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Rt.ABORTED:return ie.ABORTED;case Rt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Rt.DATA_LOSS:return ie.DATA_LOSS;default:return Ee(39323,{code:i})}}(Ue=Rt||(Rt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function zD(){return new TextEncoder}const BD=new ls([4294967295,4294967295],0);function fT(i){const e=zD().encode(i),n=new _b;return n.update(e),new Uint8Array(n.digest())}function dT(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ls([n,s],0),new ls([o,u],0)]}class rg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Wl(`Invalid padding: ${n}`);if(s<0)throw new Wl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ls.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ls.fromNumber(s)));return o.compare(BD)===1&&(o=new ls([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=fT(e),[s,o]=dT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new rg(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=fT(e),[s,o]=dT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new gf(be.min(),o,new ut(Ve),vr(),ke())}}class Cu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Cu(s,n,ke(),ke(),ke())}}class Sh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class rS{constructor(e,n){this.targetId=e,this.Ce=n}}class sS{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class mT{constructor(){this.ve=0,this.Fe=pT(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new Cu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=pT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class qD{constructor(e){this.Ge=e,this.ze=new Map,this.je=vr(),this.Je=ch(),this.He=ch(),this.Ye=new ut(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(cp(u))if(s===0){const h=new ye(u.path);this.et(n,h,Jt.newNoDocument(h,be.min()))}else Fe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ps(s).toUint8Array()}catch(p){if(p instanceof Db)return So("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new rg(h,o,u)}catch(p){return So(p instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&cp(m.target)){const p=new ye(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,Jt.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new gf(e,n,this.Ye,this.je,s);return this.je=vr(),this.Je=ch(),this.He=ch(),this.Ye=new ut(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new mT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new kt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new kt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new mT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ch(){return new ut(ye.comparator)}function pT(){return new ut(ye.comparator)}const HD={asc:"ASCENDING",desc:"DESCENDING"},FD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GD={and:"AND",or:"OR"};class KD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fp(i,e){return i.useProto3Json||uf(e)?e:{value:e}}function Bh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aS(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function $D(i,e){return Bh(i,e.toTimestamp())}function Ui(i){return Fe(!!i,49232),be.fromTimestamp((function(n){const s=ms(n);return new it(s.seconds,s.nanos)})(i))}function sg(i,e){return dp(i,e).canonicalString()}function dp(i,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function oS(i){const e=nt.fromString(i);return Fe(fS(e),10190,{key:e.toString()}),e}function mp(i,e){return sg(i.databaseId,e.path)}function zm(i,e){const n=oS(e);if(n.get(1)!==i.databaseId.projectId)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(uS(n))}function lS(i,e){return sg(i.databaseId,e)}function YD(i){const e=oS(i);return e.length===4?nt.emptyPath():uS(e)}function pp(i){return new nt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function uS(i){return Fe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function gT(i,e,n){return{name:mp(i,e),fields:n.value.mapValue.fields}}function QD(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Yt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yt.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?ie.UNKNOWN:iS(g.code);return new me(E,g.message||"")})(h);n=new sS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=zm(i,s.document.name),u=Ui(s.document.updateTime),h=s.document.createTime?Ui(s.document.createTime):be.min(),m=new Un({mapValue:{fields:s.document.fields}}),p=Jt.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Sh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=zm(i,s.document),u=s.readTime?Ui(s.readTime):be.min(),h=Jt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Sh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=zm(i,s.document),u=s.removedTargetIds||[];n=new Sh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new UD(o,u),m=s.targetId;n=new rS(m,h)}}return n}function XD(i,e){let n;if(e instanceof Ru)n={update:gT(i,e.key,e.value)};else if(e instanceof nS)n={delete:mp(i,e.key)};else if(e instanceof ya)n={update:gT(i,e.key,e.data),updateMask:sO(e.fieldMask)};else{if(!(e instanceof kD))return Ee(16599,{Vt:e.type});n={verify:mp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof jh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof pu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof gu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof zh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:$D(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(i,e.precondition)),n}function WD(i,e){return i&&i.length>0?(Fe(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?Ui(o.updateTime):Ui(u);return h.isEqual(be.min())&&(h=Ui(u)),new xD(h,o.transformResults||[])})(n,e)))):[]}function JD(i,e){return{documents:[lS(i,e.path)]}}function ZD(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=lS(i,o);const u=(function(g){if(g.length!==0)return hS(qi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(w){return{field:fo(w.field),direction:nO(w.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=fp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function eO(i){let e=YD(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const w=cS(T);return w instanceof qi&&zb(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((w=>(function(k){return new Uh(mo(k.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,uf(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(T){const w=!!T.before,V=T.values||[];return new Lh(V,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const w=!T.before,V=T.values||[];return new Lh(V,w)})(n.endAt)),_D(e,o,h,u,m,"F",p,g)}function tO(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cS(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=mo(n.unaryFilter.field);return Mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=mo(n.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=mo(n.unaryFilter.field);return Mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=mo(n.unaryFilter.field);return Mt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Mt.create(mo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return qi.create(n.compositeFilter.filters.map((s=>cS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(i):Ee(30097,{filter:i})}function nO(i){return HD[i]}function iO(i){return FD[i]}function rO(i){return GD[i]}function fo(i){return{fieldPath:i.canonicalString()}}function mo(i){return $t.fromServerFormat(i.fieldPath)}function hS(i){return i instanceof Mt?(function(n){if(n.op==="=="){if(iT(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NAN"}};if(nT(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iT(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NAN"}};if(nT(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(n.field),op:iO(n.op),value:n.value}}})(i):i instanceof qi?(function(n){const s=n.getFilters().map((o=>hS(o)));return s.length===1?s[0]:{compositeFilter:{op:rO(n.op),filters:s}}})(i):Ee(54877,{filter:i})}function sO(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function fS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class ss{constructor(e,n,s,o,u=be.min(),h=be.min(),m=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class aO{constructor(e){this.yt=e}}function oO(i){const e=eO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?hp(e,e.limit,"L"):e}class lO{constructor(){this.Cn=new uO}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(ds.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(ds.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class uO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new kt(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(nt.comparator)).toArray()}}const yT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dS=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(dS,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class Io{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Io(0)}static cr(){return new Io(-1)}}const _T="LruGarbageCollector",cO=1048576;function vT([i,e],[n,s]){const o=Ve(i,n);return o===0?Ve(e,s):o}class hO{constructor(e){this.Ir=e,this.buffer=new kt(vT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();vT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(_T,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Uo(n)?ce(_T,"Ignoring IndexedDB error during garbage collection: ",n):await Lo(n)}await this.Vr(3e5)}))}}class dO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(lf.ce);const s=new hO(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(yT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),co()<=Me.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function mO(i,e){return new dO(i,e)}class pO{constructor(){this.changes=new ga((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class yO{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&ru(s.mutation,o,ii.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=ia();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Xl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ia();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=vr();const h=iu(),m=(function(){return iu()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ya)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),ru(E.mutation,g,E.mutation.getFieldMask(),it.now())):h.set(g.key,ii.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new gO(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=iu();let o=new ut(((h,m)=>h-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||ii.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=Yb();E.forEach((w=>{if(!u.has(w)){const V=eS(n.get(w),s.get(w));V!==null&&T.set(w,V),u=u.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ne.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(ia());let m=hu,p=u;return h.next((g=>ne.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,ke()))).next((E=>({batchId:m,changes:$b(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=Xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Xl();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const g=(function(T,w){return new hf(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,w)=>{h=h.insert(T,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,Jt.newInvalidDocument(E)))}));let m=Xl();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&ru(E.mutation,g,ii.empty(),it.now()),df(n,g)&&(m=m.insert(p,g))})),m}))}}class _O{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ui(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:oO(o.bundledQuery),readTime:Ui(o.readTime)}})(n)),ne.resolve()}}class vO{constructor(){this.overlays=new ut(ye.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ia();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=ia(),u=n.length+1,h=new ye(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=ia(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=ia(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new LD(n,s));let u=this.qr.get(n);u===void 0&&(u=ke(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class EO{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class ag{constructor(){this.Qr=new kt(jt.$r),this.Ur=new kt(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new jt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new nt([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new nt([])),s=new jt(n,e),o=new jt(n,e+1);let u=ke();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new jt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class TO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new kt(jt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new PD(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Xp:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new kt(Ve);return n.forEach((o=>{const u=new jt(o,0),h=new jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new jt(new ye(u),0);let m=new kt(Ve);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new jt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class bO{constructor(e){this.ri=e,this.docs=(function(){return new ut(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let s=vr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=vr();const h=n.path,m=new ye(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||X2(Q2(E),s)<=0||(o.has(E.key)||df(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new SO(this)}getSize(e){return ne.resolve(this.size)}}class SO extends pO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class AO{constructor(e){this.persistence=e,this.si=new ga((n=>Zp(n)),eg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new ag,this.targetCount=0,this.ai=Io.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Io(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}class mS{constructor(e,n){this.ui={},this.overlays={},this.ci=new lf(0),this.li=!1,this.li=!0,this.hi=new EO,this.referenceDelegate=e(this),this.Pi=new AO(this),this.indexManager=new lO,this.remoteDocumentCache=(function(o){return new bO(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new aO(n),this.Ii=new _O(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new TO(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new wO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class wO extends J2{constructor(e){super(),this.currentSequenceNumber=e}}class og{constructor(e){this.persistence=e,this.Ri=new ag,this.Vi=null}static mi(e){return new og(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class qh{constructor(e,n){this.persistence=e,this.pi=new ga((s=>tD(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=mO(this,n)}static mi(e,n){return new qh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Eh(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class lg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new lg(e,n.fromCache,s,o)}}class RO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class CO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return JR()?8:Z2(Zt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new RO;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(co()<=Me.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(co()<=Me.DEBUG&&ce("QueryEngine","Query:",ho(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(co()<=Me.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(n))):ne.resolve())}ys(e,n){if(oT(n))return ne.resolve(null);let s=Pi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=hp(n,null,"F"),s=Pi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=ke(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,hp(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return oT(n)||o.isEqual(be.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ne.resolve(null):(co()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ho(n)),this.vs(e,h,n,Y2(o,hu)).next((m=>m)))}))}Ds(e,n){let s=new kt(Gb(e));return n.forEach(((o,u)=>{df(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return co()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",ho(n)),this.ps.getDocumentsMatchingQuery(e,n,ds.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const ug="LocalStore",IO=3e8;class NO{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(Ve),this.xs=new ga((u=>Zp(u)),eg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function DO(i,e,n,s){return new NO(i,e,n,s)}async function pS(i,e){const n=Ae(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=ke();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function OO(i,e){const n=Ae(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,w=T.keys();let V=ne.resolve();return w.forEach((k=>{V=V.next((()=>E.getEntry(p,k))).next((G=>{const U=g.docVersions.get(k);Fe(U!==null,48541),G.version.compareTo(U)<0&&(T.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),E.addEntry(G)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function gS(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function xO(i,e){const n=Ae(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const w=o.get(T);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let V=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?V=V.withResumeToken(Yt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(T,V),(function(G,U,Y){return G.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=IO?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(w,V,E)&&m.push(n.Pi.updateTargetData(u,V))}));let p=vr(),g=ke();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(MO(u,h,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(be.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ne.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function MO(i,e,n){let s=ke(),o=ke();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=vr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ce(ug,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function VO(i,e){const n=Ae(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Xp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function kO(i,e){const n=Ae(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new ss(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function gp(i,e,n){const s=Ae(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Uo(h))throw h;ce(ug,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function ET(i,e,n){const s=Ae(i);let o=be.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const T=Ae(p),w=T.xs.get(E);return w!==void 0?ne.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,E)})(s,h,Pi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:be.min(),n?u:ke()))).next((m=>(PO(s,TD(e),m),{documents:m,Qs:u})))))}function PO(i,e,n){let s=i.Os.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class TT{constructor(){this.activeTargetIds=CD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LO{constructor(){this.Mo=new TT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new TT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class UO{Oo(e){}shutdown(){}}const bT="ConnectivityMonitor";class ST{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(bT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(bT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let hh=null;function yp(){return hh===null?hh=(function(){return 268435456+Math.round(2147483648*Math.random())})():hh++,"0x"+hh.toString(16)}const Bm="RestConnection",jO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===kh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=yp(),m=this.zo(e,n.toUriEncodedString());ce(Bm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=fa(g);return this.Jo(e,m,p,s,E).then((T=>(ce(Bm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw So(Bm,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Po})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=jO[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class BO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xt="WebChannelConnection";class qO extends zO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=yp();return new Promise(((m,p)=>{const g=new vb;g.setWithCredentials(!0),g.listenOnce(Eb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case vh.NO_ERROR:const T=g.getResponseJson();ce(Xt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case vh.TIMEOUT:ce(Xt,`RPC '${e}' ${h} timed out`),p(new me(ie.DEADLINE_EXCEEDED,"Request time out"));break;case vh.HTTP_ERROR:const w=g.getStatus();if(ce(Xt,`RPC '${e}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const k=V?.error;if(k&&k.status&&k.message){const G=(function(Y){const Z=Y.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(Z)>=0?Z:ie.UNKNOWN})(k.status);p(new me(G,k.message))}else p(new me(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new me(ie.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(Xt,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);ce(Xt,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=yp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Sb(),m=bb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);this.I_(T);let w=!1,V=!1;const k=new BO({Yo:U=>{V?ce(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(w||(ce(Xt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),ce(Xt,`RPC '${e}' stream ${o} sending:`,U),T.send(U))},Zo:()=>T.close()}),G=(U,Y,Z)=>{U.listen(Y,(J=>{try{Z(J)}catch(re){setTimeout((()=>{throw re}),0)}}))};return G(T,Ql.EventType.OPEN,(()=>{V||(ce(Xt,`RPC '${e}' stream ${o} transport opened.`),k.o_())})),G(T,Ql.EventType.CLOSE,(()=>{V||(V=!0,ce(Xt,`RPC '${e}' stream ${o} transport closed`),k.a_(),this.E_(T))})),G(T,Ql.EventType.ERROR,(U=>{V||(V=!0,So(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),k.a_(new me(ie.UNAVAILABLE,"The operation could not be completed")))})),G(T,Ql.EventType.MESSAGE,(U=>{if(!V){const Y=U.data[0];Fe(!!Y,16349);const Z=Y,J=Z?.error||Z[0]?.error;if(J){ce(Xt,`RPC '${e}' stream ${o} received error:`,J);const re=J.status;let ue=(function(R){const I=Rt[R];if(I!==void 0)return iS(I)})(re),le=J.message;ue===void 0&&(ue=ie.INTERNAL,le="Unknown error status: "+re+" with message "+J.message),V=!0,k.a_(new me(ue,le)),T.close()}else ce(Xt,`RPC '${e}' stream ${o} received:`,Y),k.u_(Y)}})),G(m,Tb.STAT_EVENT,(U=>{U.stat===sp.PROXY?ce(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===sp.NOPROXY&&ce(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function qm(){return typeof document<"u"?document:null}function yf(i){return new KD(i,!0)}class yS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const AT="PersistentStream";class _S{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new me(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(AT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(AT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class HO extends _S{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=QD(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?Ui(h.readTime):be.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=pp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=cp(p)?{documents:JD(u,p)}:{query:ZD(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=aS(u,h.resumeToken);const g=fp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(be.min())>0){m.readTime=Bh(u,h.snapshotVersion.toTimestamp());const g=fp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=tO(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=pp(this.serializer),n.removeTarget=e,this.q_(n)}}class FO extends _S{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=WD(e.writeResults,e.commitTime),s=Ui(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=pp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>XD(this.serializer,s)))};this.q_(n)}}class GO{}class KO extends GO{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,dp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ie.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,dp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new me(ie.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $O{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_r(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ua="RemoteStore";class YO{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{_a(this)&&(ce(ua,"Restarting streams for network reachability change."),await(async function(p){const g=Ae(p);g.Ea.add(4),await Iu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await _f(g)})(this))}))})),this.Ra=new $O(s,o)}}async function _f(i){if(_a(i))for(const e of i.da)await e(!0)}async function Iu(i){for(const e of i.da)await e(!1)}function vS(i,e){const n=Ae(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),dg(n)?fg(n):jo(n).O_()&&hg(n,e))}function cg(i,e){const n=Ae(i),s=jo(n);n.Ia.delete(e),s.O_()&&ES(n,e),n.Ia.size===0&&(s.O_()?s.L_():_a(n)&&n.Ra.set("Unknown"))}function hg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jo(i).Y_(e)}function ES(i,e){i.Va.Ue(e),jo(i).Z_(e)}function fg(i){i.Va=new qD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),jo(i).start(),i.Ra.ua()}function dg(i){return _a(i)&&!jo(i).x_()&&i.Ia.size>0}function _a(i){return Ae(i).Ea.size===0}function TS(i){i.Va=void 0}async function QO(i){i.Ra.set("Online")}async function XO(i){i.Ia.forEach(((e,n)=>{hg(i,e)}))}async function WO(i,e){TS(i),dg(i)?(i.Ra.ha(e),fg(i)):i.Ra.set("Unknown")}async function JO(i,e,n){if(i.Ra.set("Online"),e instanceof sS&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){ce(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Hh(i,s)}else if(e instanceof Sh?i.Va.Ze(e):e instanceof rS?i.Va.st(e):i.Va.tt(e),!n.isEqual(be.min()))try{const s=await gS(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),ES(u,p);const T=new ss(E.target,p,g,E.sequenceNumber);hg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ce(ua,"Failed to raise snapshot:",s),await Hh(i,s)}}async function Hh(i,e,n){if(!Uo(e))throw e;i.Ea.add(1),await Iu(i),i.Ra.set("Offline"),n||(n=()=>gS(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ce(ua,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await _f(i)}))}function bS(i,e){return e().catch((n=>Hh(i,n,e)))}async function vf(i){const e=Ae(i),n=ys(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Xp;for(;ZO(e);)try{const o=await VO(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,ex(e,o)}catch(o){await Hh(e,o)}SS(e)&&AS(e)}function ZO(i){return _a(i)&&i.Ta.length<10}function ex(i,e){i.Ta.push(e);const n=ys(i);n.O_()&&n.X_&&n.ea(e.mutations)}function SS(i){return _a(i)&&!ys(i).x_()&&i.Ta.length>0}function AS(i){ys(i).start()}async function tx(i){ys(i).ra()}async function nx(i){const e=ys(i);for(const n of i.Ta)e.ea(n.mutations)}async function ix(i,e,n){const s=i.Ta.shift(),o=ig.from(s,e,n);await bS(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await vf(i)}async function rx(i,e){e&&ys(i).X_&&await(async function(s,o){if((function(h){return jD(h)&&h!==ie.ABORTED})(o.code)){const u=s.Ta.shift();ys(s).B_(),await bS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await vf(s)}})(i,e),SS(i)&&AS(i)}async function wT(i,e){const n=Ae(i);n.asyncQueue.verifyOperationInProgress(),ce(ua,"RemoteStore received new credentials");const s=_a(n);n.Ea.add(3),await Iu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await _f(n)}async function sx(i,e){const n=Ae(i);e?(n.Ea.delete(2),await _f(n)):e||(n.Ea.add(2),await Iu(n),n.Ra.set("Unknown"))}function jo(i){return i.ma||(i.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new HO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:QO.bind(null,i),t_:XO.bind(null,i),r_:WO.bind(null,i),H_:JO.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),dg(i)?fg(i):i.Ra.set("Unknown")):(await i.ma.stop(),TS(i))}))),i.ma}function ys(i){return i.fa||(i.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new FO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:tx.bind(null,i),r_:rx.bind(null,i),ta:nx.bind(null,i),na:ix.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await vf(i)):(await i.fa.stop(),i.Ta.length>0&&(ce(ua,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class mg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new mg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pg(i,e){if(_r("AsyncQueue",`${e}: ${i}`),Uo(i))return new me(ie.UNAVAILABLE,`${e}: ${i}`);throw i}class vo{static emptySet(e){return new vo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Xl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new vo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class RT{constructor(){this.ga=new ut(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class No{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new No(e,n,vo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class ax{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ox{constructor(){this.queries=CT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=CT(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new me(ie.ABORTED,"Firestore shutting down"))}}function CT(){return new ga((i=>Fb(i)),ff)}async function lx(i,e){const n=Ae(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new ax,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=pg(h,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&gg(n)}async function ux(i,e){const n=Ae(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function cx(i,e){const n=Ae(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&gg(n)}function hx(i,e,n){const s=Ae(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function gg(i){i.Ca.forEach((e=>{e.next()}))}var _p,IT;(IT=_p||(_p={})).Ma="default",IT.Cache="cache";class fx{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new No(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_p.Cache}}class wS{constructor(e){this.key=e}}class RS{constructor(e){this.key=e}}class dx{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=Gb(e),this.tu=new vo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new RT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const w=o.get(E),V=df(this.query,T)?T:null,k=!!w&&this.mutatedKeys.has(w.key),G=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let U=!1;w&&V?w.data.isEqual(V.data)?k!==G&&(s.track({type:3,doc:V}),U=!0):this.su(w,V)||(s.track({type:2,doc:V}),U=!0,(p&&this.eu(V,p)>0||g&&this.eu(V,g)<0)&&(m=!0)):!w&&V?(s.track({type:0,doc:V}),U=!0):w&&!V&&(s.track({type:1,doc:w}),U=!0,(p||g)&&(m=!0)),U&&(V?(h=h.add(V),u=G?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,T)=>(function(V,k){const G=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:U})}};return G(V)-G(k)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new No(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new RT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new RS(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new wS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return No.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const yg="SyncEngine";class mx{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class px{constructor(e){this.key=e,this.hu=!1}}class gx{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ga((m=>Fb(m)),ff),this.Iu=new Map,this.Eu=new Set,this.du=new ut(ye.comparator),this.Au=new Map,this.Ru=new ag,this.Vu={},this.mu=new Map,this.fu=Io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yx(i,e,n=!0){const s=xS(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await CS(s,e,n,!0),o}async function _x(i,e){const n=xS(i);await CS(n,e,!0,!1)}async function CS(i,e,n,s){const o=await kO(i.localStore,Pi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await vx(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&vS(i.remoteStore,o),m}async function vx(i,e,n,s,o){i.pu=(T,w,V)=>(async function(G,U,Y,Z){let J=U.view.ru(Y);J.Cs&&(J=await ET(G.localStore,U.query,!1).then((({documents:C})=>U.view.ru(C,J))));const re=Z&&Z.targetChanges.get(U.targetId),ue=Z&&Z.targetMismatches.get(U.targetId)!=null,le=U.view.applyChanges(J,G.isPrimaryClient,re,ue);return DT(G,U.targetId,le.au),le.snapshot})(i,T,w,V);const u=await ET(i.localStore,e,!0),h=new dx(e,u.Qs),m=h.ru(u.documents),p=Cu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);DT(i,n,g.au);const E=new mx(e,n,h);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function Ex(i,e,n){const s=Ae(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!ff(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await gp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&cg(s.remoteStore,o.targetId),vp(s,o.targetId)})).catch(Lo)):(vp(s,o.targetId),await gp(s.localStore,o.targetId,!0))}async function Tx(i,e){const n=Ae(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),cg(n.remoteStore,s.targetId))}async function bx(i,e,n){const s=Nx(i);try{const o=await(function(h,m){const p=Ae(h),g=it.now(),E=m.reduce(((V,k)=>V.add(k.key)),ke());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let k=vr(),G=ke();return p.Ns.getEntries(V,E).next((U=>{k=U,k.forEach(((Y,Z)=>{Z.isValidDocument()||(G=G.add(Y))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,k))).next((U=>{T=U;const Y=[];for(const Z of m){const J=VD(Z,T.get(Z.key).overlayedDocument);J!=null&&Y.push(new ya(Z.key,J,Lb(J.value.mapValue),Li.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,Y,m)})).next((U=>{w=U;const Y=U.applyToLocalDocumentSet(T,G);return p.documentOverlayCache.saveOverlays(V,U.batchId,Y)}))})).then((()=>({batchId:w.batchId,changes:$b(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ut(Ve)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Nu(s,o.changes),await vf(s.remoteStore)}catch(o){const u=pg(o,"Failed to persist write");n.reject(u)}}async function IS(i,e){const n=Ae(i);try{const s=await xO(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Fe(h.hu,14607):o.removedDocuments.size>0&&(Fe(h.hu,42227),h.hu=!1))})),await Nu(n,s,e)}catch(s){await Lo(s)}}function NT(i,e,n){const s=Ae(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Ae(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const w of T.Sa)w.va(m)&&(g=!0)})),g&&gg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Sx(i,e,n){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ut(ye.comparator);h=h.insert(u,Jt.newNoDocument(u,be.min()));const m=ke().add(u),p=new gf(be.min(),new Map,new ut(Ve),h,m);await IS(s,p),s.du=s.du.remove(u),s.Au.delete(e),_g(s)}else await gp(s.localStore,e,!1).then((()=>vp(s,e,n))).catch(Lo)}async function Ax(i,e){const n=Ae(i),s=e.batch.batchId;try{const o=await OO(n.localStore,e);DS(n,s,null),NS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Nu(n,o)}catch(o){await Lo(o)}}async function wx(i,e,n){const s=Ae(i);try{const o=await(function(h,m){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Fe(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);DS(s,e,n),NS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Nu(s,o)}catch(o){await Lo(o)}}function NS(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function DS(i,e,n){const s=Ae(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function vp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||OS(i,s)}))}function OS(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(cg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),_g(i))}function DT(i,e,n){for(const s of n)s instanceof wS?(i.Ru.addReference(s.key,e),Rx(i,s)):s instanceof RS?(ce(yg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||OS(i,s.key)):Ee(19791,{wu:s})}function Rx(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ce(yg,"New document in limbo: "+n),i.Eu.add(s),_g(i))}function _g(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ye(nt.fromString(e)),s=i.fu.next();i.Au.set(s,new px(n)),i.du=i.du.insert(n,s),vS(i.remoteStore,new ss(Pi(tg(n.path)),s,"TargetPurposeLimboResolution",lf.ce))}}async function Nu(i,e,n){const s=Ae(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=lg.As(p.targetId,g);u.push(E)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ne.forEach(g,(w=>ne.forEach(w.Es,(V=>E.persistence.referenceDelegate.addReference(T,w.targetId,V))).next((()=>ne.forEach(w.ds,(V=>E.persistence.referenceDelegate.removeReference(T,w.targetId,V)))))))))}catch(T){if(!Uo(T))throw T;ce(ug,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const V=E.Ms.get(w),k=V.snapshotVersion,G=V.withLastLimboFreeSnapshotVersion(k);E.Ms=E.Ms.insert(w,G)}}})(s.localStore,u))}async function Cx(i,e){const n=Ae(i);if(!n.currentUser.isEqual(e)){ce(yg,"User change. New user:",e.toKey());const s=await pS(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new me(ie.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Nu(n,s.Ls)}}function Ix(i,e){const n=Ae(i),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function xS(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=IS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ix.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sx.bind(null,e),e.Pu.H_=cx.bind(null,e.eventManager),e.Pu.yu=hx.bind(null,e.eventManager),e}function Nx(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ax.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wx.bind(null,e),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return DO(this.persistence,new CO,e.initialUser,this.serializer)}Cu(e){return new mS(og.mi,this.serializer)}Du(e){return new LO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class Dx extends Fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof qh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new fO(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new mS((s=>qh.mi(s,n)),this.serializer)}}class Ep{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>NT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Cx.bind(null,this.syncEngine),await sx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ox})()}createDatastore(e){const n=yf(e.databaseInfo.databaseId),s=(function(u){return new qO(u)})(e.databaseInfo);return(function(u,h,m,p){return new KO(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new YO(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>NT(this.syncEngine,n,0)),(function(){return ST.v()?new ST:new UO})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,E){const T=new gx(o,u,h,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);ce(ua,"RemoteStore shutting down."),s.Ea.add(5),await Iu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ep.provider={build:()=>new Ep};class Ox{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const _s="FirestoreClient";class xx{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Yp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ce(_s,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ce(_s,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=pg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Hm(i,e){i.asyncQueue.verifyOperationInProgress(),ce(_s,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await pS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function OT(i,e){i.asyncQueue.verifyOperationInProgress();const n=await Mx(i);ce(_s,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>wT(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>wT(e.remoteStore,o))),i._onlineComponents=e}async function Mx(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(_s,"Using user provided OfflineComponentProvider");try{await Hm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;So("Error using user provided cache. Falling back to memory cache: "+n),await Hm(i,new Fh)}}else ce(_s,"Using default OfflineComponentProvider"),await Hm(i,new Dx(void 0));return i._offlineComponents}async function MS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(_s,"Using user provided OnlineComponentProvider"),await OT(i,i._uninitializedComponentsProvider._online)):(ce(_s,"Using default OnlineComponentProvider"),await OT(i,new Ep))),i._onlineComponents}function Vx(i){return MS(i).then((e=>e.syncEngine))}async function kx(i){const e=await MS(i),n=e.eventManager;return n.onListen=yx.bind(null,e.syncEngine),n.onUnlisten=Ex.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_x.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Tx.bind(null,e.syncEngine),n}function Px(i,e,n={}){const s=new us;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new Ox({next:w=>{E.Nu(),h.enqueueAndForget((()=>ux(u,T)));const V=w.docs.has(m);!V&&w.fromCache?g.reject(new me(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&w.fromCache&&p&&p.source==="server"?g.reject(new me(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new fx(tg(m.path),E,{includeMetadataChanges:!0,qa:!0});return lx(u,T)})(await kx(i),i.asyncQueue,e,n,s))),s.promise}function VS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const xT=new Map;const kS="firestore.googleapis.com",MT=!0;class VT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kS,this.ssl=MT}else this.host=e.host,this.ssl=e.ssl??MT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cO)throw new me(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ef{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new L2;switch(s.type){case"firstParty":return new B2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=xT.get(n);s&&(ce("ComponentProvider","Removing Datastore"),xT.delete(n),s.terminate())})(this),Promise.resolve()}}function Lx(i,e,n,s={}){i=wo(i,Ef);const o=fa(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(Op(`https://${m}`),xp("Firestore",!0)),u.host!==kS&&u.host!==m&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!fs(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Wt.MOCK_USER;else{g=D0(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new me(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(T)}i._authCredentials=new U2(new wb(g,E))}}class vg{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new vg(this.firestore,e,this._query)}}class Vt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(wu(n,Vt._jsonSchema))return new Vt(e,s||null,new ye(nt.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Ct("string",Vt._jsonSchemaVersion),referencePath:Ct("string")};class cs extends vg{constructor(e,n,s){super(e,n,tg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new ye(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function Ux(i,e,...n){if(i=It(i),Rb("collection","path",e),i instanceof Ef){const s=nt.fromString(e,...n);return YE(s),new cs(i,null,s)}{if(!(i instanceof Vt||i instanceof cs))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...n));return YE(s),new cs(i.firestore,null,s)}}function yu(i,e,...n){if(i=It(i),arguments.length===1&&(e=Yp.newId()),Rb("doc","path",e),i instanceof Ef){const s=nt.fromString(e,...n);return $E(s),new Vt(i,null,new ye(s))}{if(!(i instanceof Vt||i instanceof cs))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...n));return $E(s),new Vt(i.firestore,i instanceof cs?i.converter:null,new ye(s))}}const kT="AsyncQueue";class PT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yS(this,"async_queue_retry"),this._c=()=>{const s=qm();s&&ce(kT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=qm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=qm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new us;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Uo(e))throw e;ce(kT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,_r("INTERNAL UNHANDLED ERROR: ",LT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=mg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:LT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function LT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Tf extends Ef{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new PT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new PT(e),this._firestoreClient=void 0,await e}}}function jx(i,e){const n=typeof i=="object"?i:rf(),s=typeof i=="string"?i:kh,o=Es(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=C0("firestore");u&&Lx(o,...u)}return o}function PS(i){if(i._terminated)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||zx(i),i._firestoreClient}function zx(i){const e=i._freezeSettings(),n=(function(o,u,h,m){return new rD(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,VS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new xx(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Yt.fromBase64String(e))}catch(n){throw new me(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wu(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Ct("string",jn._jsonSchemaVersion),bytes:Ct("string")};class Eg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class LS{constructor(e){this._methodName=e}}class ji{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(e){if(wu(e,ji._jsonSchema))return new ji(e.latitude,e.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:Ct("string",ji._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};class zi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wu(e,zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new zi(e.vectorValues);throw new me(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zi._jsonSchemaVersion="firestore/vectorValue/1.0",zi._jsonSchema={type:Ct("string",zi._jsonSchemaVersion),vectorValues:Ct("object")};const Bx=/^__.*__$/;class qx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ya(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ru(e,this.data,n,this.fieldTransforms)}}function US(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:i})}}class Tg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Tg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Gh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(US(this.Ac)&&Bx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Hx{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||yf(e)}Cc(e,n,s,o=!1){return new Tg({Ac:e,methodName:n,Dc:s,path:$t.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jS(i){const e=i._freezeSettings(),n=yf(i._databaseId);return new Hx(i._databaseId,!!e.ignoreUndefinedProperties,n)}function zS(i,e,n,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);FS("Data must be an object, but it was:",h,s);const m=qS(s,h);let p,g;if(u.merge)p=new ii(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const w=Fx(e,T,n);if(!h.contains(w))throw new me(ie.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Kx(E,w)||E.push(w)}p=new ii(E),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new qx(new Un(m),p,g)}function BS(i,e){if(HS(i=It(i)))return FS("Unsupported field value:",e,i),qS(i,e);if(i instanceof LS)return(function(s,o){if(!US(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=BS(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=It(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ID(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:Bh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bh(o.serializer,u)}}if(s instanceof ji)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof jn)return{bytesValue:aS(o.serializer,s._byteString)};if(s instanceof Vt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:sg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof zi)return(function(h,m){return{mapValue:{fields:{[kb]:{stringValue:Pb},[Ph]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return ng(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Qp(s)}`)})(i,e)}function qS(i,e){const n={};return Nb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pa(i,((s,o)=>{const u=BS(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function HS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof it||i instanceof ji||i instanceof jn||i instanceof Vt||i instanceof LS||i instanceof zi)}function FS(i,e,n){if(!HS(n)||!Cb(n)){const s=Qp(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Fx(i,e,n){if((e=It(e))instanceof Eg)return e._internalPath;if(typeof e=="string")return GS(i,e);throw Gh("Field path arguments must be of type string or ",i,!1,void 0,n)}const Gx=new RegExp("[~\\*/\\[\\]]");function GS(i,e,n){if(e.search(Gx)>=0)throw Gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Eg(...e.split("."))._internalPath}catch{throw Gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Gh(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new me(ie.INVALID_ARGUMENT,m+i+p)}function Kx(i,e){return i.some((n=>n.isEqual(e)))}class KS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $x(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($S("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $x extends KS{data(){return super.data()}}function $S(i,e){return typeof e=="string"?GS(i,e):e instanceof Eg?e._internalPath:e._delegate._internalPath}class Yx{convertValue(e,n="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return pa(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Ph].arrayValue?.values?.map((s=>gt(s.doubleValue)));return new zi(n)}convertGeoPoint(e){return new ji(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=cf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(fu(e));default:return null}}convertTimestamp(e){const n=ms(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Fe(fS(s),9688,{name:e});const o=new du(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||_r(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function YS(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class Jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sa extends KS{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field($S("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=sa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",sa._jsonSchema={type:Ct("string",sa._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Ah extends sa{data(e={}){return super.data(e)}}class su{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Jl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Ah(this._firestore,this._userDataWriter,s.key,s,new Jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:Qx(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=su._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Yp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Qx(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}function Xx(i){i=wo(i,Vt);const e=wo(i.firestore,Tf);return Px(PS(e),i._key).then((n=>Zx(e,i,n)))}su._jsonSchemaVersion="firestore/querySnapshot/1.0",su._jsonSchema={type:Ct("string",su._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Wx extends Yx{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function Tp(i,e,n){i=wo(i,Vt);const s=wo(i.firestore,Tf),o=YS(i.converter,e,n);return QS(s,[zS(jS(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Li.none())])}function Jx(i,e){const n=wo(i.firestore,Tf),s=yu(i),o=YS(i.converter,e);return QS(n,[zS(jS(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Li.exists(!1))]).then((()=>s))}function QS(i,e){return(function(s,o){const u=new us;return s.asyncQueue.enqueueAndForget((async()=>bx(await Vx(s),o,u))),u.promise})(PS(i),e)}function Zx(i,e,n){const s=n.docs.get(e._key),o=new Wx(i);return new sa(i,o,e._key,s,new Jl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Po=o})(ma),li(new Bn("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Tf(new j2(s.getProvider("auth-internal")),new q2(h,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new me(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new du(g.options.projectId,E)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),mn(HE,FE,e),mn(HE,FE,"esm2020")})();const XS="firebasestorage.googleapis.com",eM="storageBucket",tM=120*1e3,nM=600*1e3;class Fi extends Hn{constructor(e,n,s=0){super(Fm(e),`Firebase Storage: ${n} (${Fm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Hi;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Hi||(Hi={}));function Fm(i){return"storage/"+i}function iM(){const i="An unknown error occurred, please check the error payload for server response.";return new Fi(Hi.UNKNOWN,i)}function rM(){return new Fi(Hi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sM(){return new Fi(Hi.CANCELED,"User canceled the upload/download.")}function aM(i){return new Fi(Hi.INVALID_URL,"Invalid URL '"+i+"'.")}function oM(i){return new Fi(Hi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function UT(i){return new Fi(Hi.INVALID_ARGUMENT,i)}function WS(){return new Fi(Hi.APP_DELETED,"The Firebase app was deleted.")}function lM(i){return new Fi(Hi.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class ri{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=ri.makeFromUrl(e,n)}catch{return new ri(e,"")}if(s.path==="")return s;throw oM(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(re){re.path_=decodeURIComponent(re.path)}const E="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",V=new RegExp(`^https?://${T}/${E}/b/${o}/o${w}`,"i"),k={bucket:1,path:3},G=n===XS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,U="([^?#]*)",Y=new RegExp(`^https?://${G}/${o}/${U}`,"i"),J=[{regex:m,indices:p,postModify:u},{regex:V,indices:k,postModify:g},{regex:Y,indices:{bucket:1,path:2},postModify:g}];for(let re=0;re<J.length;re++){const ue=J[re],le=ue.regex.exec(e);if(le){const C=le[ue.indices.bucket];let R=le[ue.indices.path];R||(R=""),s=new ri(C,R),ue.postModify(s);break}}if(s==null)throw aM(e);return s}}class uM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function cM(i,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...U){g||(g=!0,e.apply(null,U))}function T(U){o=setTimeout(()=>{o=null,i(V,p())},U)}function w(){u&&clearTimeout(u)}function V(U,...Y){if(g){w();return}if(U){w(),E.call(null,U,...Y);return}if(p()||h){w(),E.call(null,U,...Y);return}s<64&&(s*=2);let J;m===1?(m=2,J=0):J=(s+Math.random())*1e3,T(J)}let k=!1;function G(U){k||(k=!0,w(),!g&&(o!==null?(U||(m=2),clearTimeout(o),T(0)):U||(m=1)))}return T(0),u=setTimeout(()=>{h=!0,G(!0)},n),G}function hM(i){i(!1)}function fM(i){return i!==void 0}function jT(i,e,n,s){if(s<e)throw UT(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw UT(`Invalid value for '${i}'. Expected ${n} or less.`)}function dM(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Kh;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Kh||(Kh={}));function mM(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}class pM{constructor(e,n,s,o,u,h,m,p,g,E,T,w=!0,V=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=T,this.retry=w,this.isUsingEmulator=V,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,G)=>{this.resolve_=k,this.reject_=G,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new fh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===Kh.NO_ERROR,p=u.getStatus();if(!m||mM(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Kh.ABORT;s(!1,new fh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new fh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());fM(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=iM();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?WS():sM();h(p)}else{const p=rM();h(p)}};this.canceled_?n(!1,new fh(!1,null,!0)):this.backoffId_=cM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function gM(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function yM(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function _M(i,e){e&&(i["X-Firebase-GMPID"]=e)}function vM(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function EM(i,e,n,s,o,u,h=!0,m=!1){const p=dM(i.urlParams),g=i.url+p,E=Object.assign({},i.headers);return _M(E,e),gM(E,n),yM(E,u),vM(E,s),new pM(g,i.method,E,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}function TM(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function bM(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}class $h{constructor(e,n){this._service=e,n instanceof ri?this._location=n:this._location=ri.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new $h(e,n)}get root(){const e=new ri(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bM(this._location.path)}get storage(){return this._service}get parent(){const e=TM(this._location.path);if(e===null)return null;const n=new ri(this._location.bucket,e);return new $h(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw lM(e)}}function zT(i,e){const n=e?.[eM];return n==null?null:ri.makeFromBucketSpec(n,i)}function SM(i,e,n,s={}){i.host=`${e}:${n}`;const o=fa(e);o&&(Op(`https://${i.host}/b`),xp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:D0(u,i.app.options.projectId))}class AM{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=XS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tM,this._maxUploadRetryTime=nM,this._requests=new Set,o!=null?this._bucket=ri.makeFromBucketSpec(o,this._host):this._bucket=zT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ri.makeFromBucketSpec(this._url,e):this._bucket=zT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $h(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new uM(WS());{const h=EM(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const BT="@firebase/storage",qT="0.14.0";const JS="storage";function wM(i=rf(),e){i=It(i);const s=Es(i,JS).getImmediate({identifier:e}),o=C0("storage");return o&&RM(s,...o),s}function RM(i,e,n,s={}){SM(i,e,n,s)}function CM(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new AM(n,s,o,e,ma)}function IM(){li(new Bn(JS,CM,"PUBLIC").setMultipleInstances(!0)),mn(BT,qT,""),mn(BT,qT,"esm2020")}IM();const ZS="@firebase/installations",bg="0.6.19";const eA=1e4,tA=`w:${bg}`,nA="FIS_v2",NM="https://firebaseinstallations.googleapis.com/v1",DM=3600*1e3,OM="installations",xM="Installations";const MM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ca=new da(OM,xM,MM);function iA(i){return i instanceof Hn&&i.code.includes("request-failed")}function rA({projectId:i}){return`${NM}/projects/${i}/installations`}function sA(i){return{token:i.token,requestStatus:2,expiresIn:kM(i.expiresIn),creationTime:Date.now()}}async function aA(i,e){const s=(await e.json()).error;return ca.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function oA({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function VM(i,{refreshToken:e}){const n=oA(i);return n.append("Authorization",PM(e)),n}async function lA(i){const e=await i();return e.status>=500&&e.status<600?i():e}function kM(i){return Number(i.replace("s","000"))}function PM(i){return`${nA} ${i}`}async function LM({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const s=rA(i),o=oA(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:n,authVersion:nA,appId:i.appId,sdkVersion:tA},m={method:"POST",headers:o,body:JSON.stringify(h)},p=await lA(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:sA(g.authToken)}}else throw await aA("Create Installation",p)}function uA(i){return new Promise(e=>{setTimeout(e,i)})}function UM(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}const jM=/^[cdef][\w-]{21}$/,bp="";function zM(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=BM(i);return jM.test(n)?n:bp}catch{return bp}}function BM(i){return UM(i).substr(0,22)}function bf(i){return`${i.appName}!${i.appId}`}const cA=new Map;function hA(i,e){const n=bf(i);fA(n,e),qM(n,e)}function fA(i,e){const n=cA.get(i);if(n)for(const s of n)s(e)}function qM(i,e){const n=HM();n&&n.postMessage({key:i,fid:e}),FM()}let ra=null;function HM(){return!ra&&"BroadcastChannel"in self&&(ra=new BroadcastChannel("[Firebase] FID Change"),ra.onmessage=i=>{fA(i.data.key,i.data.fid)}),ra}function FM(){cA.size===0&&ra&&(ra.close(),ra=null)}const GM="firebase-installations-database",KM=1,ha="firebase-installations-store";let Gm=null;function Sg(){return Gm||(Gm=V0(GM,KM,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(ha)}}})),Gm}async function Yh(i,e){const n=bf(i),o=(await Sg()).transaction(ha,"readwrite"),u=o.objectStore(ha),h=await u.get(n);return await u.put(e,n),await o.done,(!h||h.fid!==e.fid)&&hA(i,e.fid),e}async function dA(i){const e=bf(i),s=(await Sg()).transaction(ha,"readwrite");await s.objectStore(ha).delete(e),await s.done}async function Sf(i,e){const n=bf(i),o=(await Sg()).transaction(ha,"readwrite"),u=o.objectStore(ha),h=await u.get(n),m=e(h);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!h||h.fid!==m.fid)&&hA(i,m.fid),m}async function Ag(i){let e;const n=await Sf(i.appConfig,s=>{const o=$M(s),u=YM(i,o);return e=u.registrationPromise,u.installationEntry});return n.fid===bp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function $M(i){const e=i||{fid:zM(),registrationStatus:0};return mA(e)}function YM(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ca.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=QM(i,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:XM(i)}:{installationEntry:e}}async function QM(i,e){try{const n=await LM(i,e);return Yh(i.appConfig,n)}catch(n){throw iA(n)&&n.customData.serverCode===409?await dA(i.appConfig):await Yh(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function XM(i){let e=await HT(i.appConfig);for(;e.registrationStatus===1;)await uA(100),e=await HT(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Ag(i);return s||n}return e}function HT(i){return Sf(i,e=>{if(!e)throw ca.create("installation-not-found");return mA(e)})}function mA(i){return WM(i)?{fid:i.fid,registrationStatus:0}:i}function WM(i){return i.registrationStatus===1&&i.registrationTime+eA<Date.now()}async function JM({appConfig:i,heartbeatServiceProvider:e},n){const s=ZM(i,n),o=VM(i,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:tA,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(h)},p=await lA(()=>fetch(s,m));if(p.ok){const g=await p.json();return sA(g)}else throw await aA("Generate Auth Token",p)}function ZM(i,{fid:e}){return`${rA(i)}/${e}/authTokens:generate`}async function wg(i,e=!1){let n;const s=await Sf(i.appConfig,u=>{if(!pA(u))throw ca.create("not-registered");const h=u.authToken;if(!e&&nV(h))return u;if(h.requestStatus===1)return n=eV(i,e),u;{if(!navigator.onLine)throw ca.create("app-offline");const m=rV(u);return n=tV(i,m),m}});return n?await n:s.authToken}async function eV(i,e){let n=await FT(i.appConfig);for(;n.authToken.requestStatus===1;)await uA(100),n=await FT(i.appConfig);const s=n.authToken;return s.requestStatus===0?wg(i,e):s}function FT(i){return Sf(i,e=>{if(!pA(e))throw ca.create("not-registered");const n=e.authToken;return sV(n)?{...e,authToken:{requestStatus:0}}:e})}async function tV(i,e){try{const n=await JM(i,e),s={...e,authToken:n};return await Yh(i.appConfig,s),n}catch(n){if(iA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await dA(i.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Yh(i.appConfig,s)}throw n}}function pA(i){return i!==void 0&&i.registrationStatus===2}function nV(i){return i.requestStatus===2&&!iV(i)}function iV(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+DM}function rV(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function sV(i){return i.requestStatus===1&&i.requestTime+eA<Date.now()}async function aV(i){const e=i,{installationEntry:n,registrationPromise:s}=await Ag(e);return s?s.catch(console.error):wg(e).catch(console.error),n.fid}async function oV(i,e=!1){const n=i;return await lV(n),(await wg(n,e)).token}async function lV(i){const{registrationPromise:e}=await Ag(i);e&&await e}function uV(i){if(!i||!i.options)throw Km("App Configuration");if(!i.name)throw Km("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw Km(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Km(i){return ca.create("missing-app-config-values",{valueName:i})}const gA="installations",cV="installations-internal",hV=i=>{const e=i.getProvider("app").getImmediate(),n=uV(e),s=Es(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},fV=i=>{const e=i.getProvider("app").getImmediate(),n=Es(e,gA).getImmediate();return{getId:()=>aV(n),getToken:o=>oV(n,o)}};function dV(){li(new Bn(gA,hV,"PUBLIC")),li(new Bn(cV,fV,"PRIVATE"))}dV();mn(ZS,bg);mn(ZS,bg,"esm2020");const Qh="analytics",mV="firebase_id",pV="origin",gV=60*1e3,yV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Rg="https://www.googletagmanager.com/gtag/js";const rn=new nf("@firebase/analytics");const _V={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},An=new da("analytics","Analytics",_V);function vV(i){if(!i.startsWith(Rg)){const e=An.create("invalid-gtag-resource",{gtagURL:i});return rn.warn(e.message),""}return i}function yA(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function EV(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function TV(i,e){const n=EV("firebase-js-sdk-policy",{createScriptURL:vV}),s=document.createElement("script"),o=`${Rg}?l=${i}&id=${e}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function bV(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function SV(i,e,n,s,o,u){const h=s[o];try{if(h)await e[h];else{const p=(await yA(n)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){rn.error(m)}i("config",o,u)}async function AV(i,e,n,s,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const m=await yA(n);for(const p of h){const g=m.find(T=>T.measurementId===p),E=g&&e[g.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){rn.error(u)}}function wV(i,e,n,s){async function o(u,...h){try{if(u==="event"){const[m,p]=h;await AV(i,e,n,m,p)}else if(u==="config"){const[m,p]=h;await SV(i,e,n,s,m,p)}else if(u==="consent"){const[m,p]=h;i("consent",m,p)}else if(u==="get"){const[m,p,g]=h;i("get",m,p,g)}else if(u==="set"){const[m]=h;i("set",m)}else i(u,...h)}catch(m){rn.error(m)}}return o}function RV(i,e,n,s,o){let u=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=wV(u,i,e,n),{gtagCore:u,wrappedGtag:window[o]}}function CV(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Rg)&&n.src.includes(i))return n;return null}const IV=30,NV=1e3;class DV{constructor(e={},n=NV){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const _A=new DV;function OV(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function xV(i){const{appId:e,apiKey:n}=i,s={method:"GET",headers:OV(n)},o=yV.replace("{app-id}",e),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let h="";try{const m=await u.json();m.error?.message&&(h=m.error.message)}catch{}throw An.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()}async function MV(i,e=_A,n){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw An.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw An.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new PV;return setTimeout(async()=>{m.abort()},gV),vA({appId:s,apiKey:o,measurementId:u},h,m,e)}async function vA(i,{throttleEndTimeMillis:e,backoffCount:n},s,o=_A){const{appId:u,measurementId:h}=i;try{await VV(s,e)}catch(m){if(h)return rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:h};throw m}try{const m=await xV(i);return o.deleteThrottleMetadata(u),m}catch(m){const p=m;if(!kV(p)){if(o.deleteThrottleMetadata(u),h)return rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:h};throw m}const g=Number(p?.customData?.httpStatus)===503?dE(n,o.intervalMillis,IV):dE(n,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return o.setThrottleMetadata(u,E),rn.debug(`Calling attemptFetch again in ${g} millis`),vA(i,E,s,o)}}function VV(i,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(u),s(An.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function kV(i){if(!(i instanceof Hn)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class PV{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function LV(i,e,n,s,o){if(o&&o.global){i("event",n,s);return}else{const u=await e,h={...s,send_to:u};i("event",n,h)}}async function UV(i,e,n,s){if(s&&s.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return i("set",o),Promise.resolve()}else{const o=await e;i("config",o,{update:!0,user_properties:n})}}async function jV(){if(Vp())try{await kp()}catch(i){return rn.warn(An.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return rn.warn(An.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function zV(i,e,n,s,o,u,h){const m=MV(i);m.then(w=>{n[w.measurementId]=w.appId,i.options.measurementId&&w.measurementId!==i.options.measurementId&&rn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>rn.error(w)),e.push(m);const p=jV().then(w=>{if(w)return s.getId()}),[g,E]=await Promise.all([m,p]);CV(u)||TV(u,g.measurementId),o("js",new Date);const T=h?.config??{};return T[pV]="firebase",T.update=!0,E!=null&&(T[mV]=E),o("config",g.measurementId,T),g.measurementId}class BV{constructor(e){this.app=e}_delete(){return delete Eo[this.app.options.appId],Promise.resolve()}}let Eo={},GT=[];const KT={};let $m="dataLayer",qV="gtag",$T,Cg,YT=!1;function HV(){const i=[];if(Mp()&&i.push("This is a browser extension environment."),O0()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=An.create("invalid-analytics-context",{errorInfo:e});rn.warn(n.message)}}function FV(i,e,n){HV();const s=i.options.appId;if(!s)throw An.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw An.create("no-api-key");if(Eo[s]!=null)throw An.create("already-exists",{id:s});if(!YT){bV($m);const{wrappedGtag:u,gtagCore:h}=RV(Eo,GT,KT,$m,qV);Cg=u,$T=h,YT=!0}return Eo[s]=zV(i,GT,KT,e,$T,$m,n),new BV(i)}function GV(i=rf()){i=It(i);const e=Es(i,Qh);return e.isInitialized()?e.getImmediate():KV(i)}function KV(i,e={}){const n=Es(i,Qh);if(n.isInitialized()){const o=n.getImmediate();if(fs(e,n.getOptions()))return o;throw An.create("already-initialized")}return n.initialize({options:e})}async function $V(){if(Mp()||!O0()||!Vp())return!1;try{return await kp()}catch{return!1}}function YV(i,e,n){i=It(i),UV(Cg,Eo[i.app.options.appId],e,n).catch(s=>rn.error(s))}function QV(i,e,n,s){i=It(i),LV(Cg,Eo[i.app.options.appId],e,n,s).catch(o=>rn.error(o))}const QT="@firebase/analytics",XT="0.10.19";function XV(){li(new Bn(Qh,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return FV(s,o,n)},"PUBLIC")),li(new Bn("analytics-internal",i,"PRIVATE")),mn(QT,XT),mn(QT,XT,"esm2020");function i(e){try{const n=e.getProvider(Qh).getImmediate();return{logEvent:(s,o,u)=>QV(n,s,o,u),setUserProperties:(s,o)=>YV(n,s,o)}}catch(n){throw An.create("interop-component-reg-failed",{reason:n})}}}XV();const WV={apiKey:"AIzaSyDePYTiCDa4tfK6c1jtUIgFS5qRMfBBCuM",authDomain:"urbanfrill-d936e.firebaseapp.com",projectId:"urbanfrill-d936e",storageBucket:"urbanfrill-d936e.firebasestorage.app",messagingSenderId:"356720198088",appId:"1:356720198088:web:eb678dfaca7804504dc0fd",measurementId:"G-XH4WPERDEJ"},Af=vE().length?vE()[0]:k0(WV),po=k2(Af);TN(po,lb).catch(()=>{});const Vi=jx(Af);wM(Af);$V().then(i=>{i&&GV(Af)}).catch(()=>{});const EA=L.createContext(),WT="uf_cart_guest_v1",JV="uf_cart_",wf=()=>L.useContext(EA);function ZV({children:i}){const{user:e}=Vo(),n=e?.uid||"guest",s=`${JV}${n}_v1`,o=k=>Array.isArray(k)?k.map(G=>({...G,image:Rh(G.image||""),qty:Math.max(1,Number(G.qty)||1),price:Number(G.price)||0})):[],[u,h]=L.useState(()=>{try{const k=localStorage.getItem(s)||localStorage.getItem(WT);return k?o(JSON.parse(k)):[]}catch{return[]}});L.useEffect(()=>{let k=!0;return(async()=>{try{if(n!=="guest"&&Vi){const Y=yu(Vi,"carts",n),Z=await Xx(Y);if(Z&&Z.exists()){const J=Z.data();if(k&&J&&Array.isArray(J.items)){h(o(J.items));return}}}const U=localStorage.getItem(s)||localStorage.getItem(WT);k&&h(U?o(JSON.parse(U)):[])}catch{k&&h([])}})(),()=>{k=!1}},[n]),L.useEffect(()=>{try{localStorage.setItem(s,JSON.stringify(u))}catch{}},[u,s]),L.useEffect(()=>{if(!Vi||n==="guest")return;const k=yu(Vi,"carts",n);(async()=>{try{await Tp(k,{items:u},{merge:!0})}catch{}})()},[u,n]);const m=k=>{h(G=>{const U={...k,image:Rh(k.image||""),qty:Math.max(1,Number(k.qty)||1),price:Number(k.price)||0};return G.find(Z=>Z.id===U.id)?G.map(Z=>Z.id===U.id?{...Z,qty:Z.qty+U.qty}:Z):[...G,U]})},p=(k,G)=>h(U=>U.map(Y=>Y.id===k?{...Y,qty:Math.max(1,Number(G)||1)}:Y)),g=k=>h(G=>G.filter(U=>U.id!==k)),E=()=>h([]),{itemCount:T,subTotal:w}=L.useMemo(()=>({itemCount:u.reduce((k,G)=>k+G.qty,0),subTotal:u.reduce((k,G)=>k+(Number(G.price)||0)*G.qty,0)}),[u]),V=L.useMemo(()=>({cart:u,addToCart:m,updateQty:p,removeFromCart:g,clearCart:E,itemCount:T,subTotal:w}),[u,T,w]);return A.jsx(EA.Provider,{value:V,children:i})}function e4({open:i,onClose:e}){const{cart:n,itemCount:s,subTotal:o,updateQty:u,removeFromCart:h,clearCart:m}=wf();if(L.useEffect(()=>{const E=T=>{T.key==="Escape"&&i&&e()};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[i,e]),!i)return null;const p=E=>u(E.id,(E.qty||1)+1),g=E=>u(E.id,Math.max(1,(E.qty||1)-1));return A.jsx("div",{className:"cd-overlay",onClick:e,role:"dialog","aria-modal":"true",children:A.jsxs("aside",{className:"cd-drawer cd-left",onClick:E=>E.stopPropagation(),"aria-label":"Cart drawer",children:[A.jsxs("div",{className:"cd-header",children:[A.jsx("h3",{children:"Your cart"}),A.jsx("button",{onClick:e,className:"cd-close","aria-label":"Close cart",children:""})]}),A.jsx("div",{className:"cd-body",children:n.length===0?A.jsx("div",{className:"cd-empty",children:"Your cart is empty."}):n.map(E=>A.jsxs("div",{className:"cd-item",children:[A.jsx("img",{className:"cd-thumb",src:To(E.image),alt:E.name,loading:"lazy",onError:T=>T.currentTarget.src=si("images/logo.png")}),A.jsxs("div",{className:"cd-meta",children:[A.jsx("div",{className:"cd-name",children:E.name}),A.jsxs("div",{className:"cd-price",children:["",Number(E.price||0).toLocaleString()]}),A.jsxs("div",{className:"cd-controls",children:[A.jsxs("div",{className:"cd-qty",children:[A.jsx("button",{className:"cd-qtybtn",onClick:()=>g(E),"aria-label":"Decrease quantity",children:""}),A.jsx("input",{type:"number",min:"1",value:E.qty,onChange:T=>u(E.id,Number(T.target.value)||1)}),A.jsx("button",{className:"cd-qtybtn",onClick:()=>p(E),"aria-label":"Increase quantity",children:"+"})]}),A.jsx("button",{className:"cd-remove",onClick:()=>h(E.id),children:"Remove"})]})]})]},E.id))}),A.jsxs("div",{className:"cd-footer",children:[A.jsxs("div",{className:"cd-summary",children:[A.jsxs("div",{children:["Items: ",s]}),A.jsxs("div",{children:["Subtotal: ",A.jsxs("strong",{children:["",Number(o||0).toLocaleString()]})]})]}),A.jsxs("div",{className:"cd-actions",children:[A.jsx("button",{className:"cd-clear",onClick:()=>{confirm("Clear cart?")&&m()},children:"Clear"}),A.jsx("button",{className:"cd-checkout",onClick:()=>alert("Checkout coming next. We'll add Razorpay soon."),children:"Proceed to checkout"})]})]})]})})}var TA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},JT=zn.createContext&&zn.createContext(TA),t4=["attr","size","title"];function n4(i,e){if(i==null)return{};var n=i4(i,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function i4(i,e){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function Xh(){return Xh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Xh.apply(this,arguments)}function ZT(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function Wh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZT(Object(n),!0).forEach(function(s){r4(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):ZT(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function r4(i,e,n){return e=s4(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function s4(i){var e=a4(i,"string");return typeof e=="symbol"?e:e+""}function a4(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function bA(i){return i&&i.map((e,n)=>zn.createElement(e.tag,Wh({key:n},e.attr),bA(e.child)))}function SA(i){return e=>zn.createElement(o4,Xh({attr:Wh({},i.attr)},e),bA(i.child))}function o4(i){var e=n=>{var{attr:s,size:o,title:u}=i,h=n4(i,t4),m=o||n.size||"1em",p;return n.className&&(p=n.className),i.className&&(p=(p?p+" ":"")+i.className),zn.createElement("svg",Xh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,h,{className:p,style:Wh(Wh({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&zn.createElement("title",null,u),i.children)};return JT!==void 0?zn.createElement(JT.Consumer,null,n=>e(n)):e(TA)}function e0(i){return SA({attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M20.756 5.345c-.191-.219-.466-.345-.756-.345h-13.819l-.195-1.164c-.08-.482-.497-.836-.986-.836h-2.25c-.553 0-1 .447-1 1s.447 1 1 1h1.403l1.86 11.164.045.124.054.151.12.179.095.112.193.13.112.065c.116.047.238.075.367.075h11.001c.553 0 1-.447 1-1s-.447-1-1-1h-10.153l-.166-1h11.319c.498 0 .92-.366.99-.858l1-7c.041-.288-.045-.579-.234-.797zm-1.909 1.655l-.285 2h-3.562v-2h3.847zm-4.847 0v2h-3v-2h3zm0 3v2h-3v-2h3zm-4-3v2h-3l-.148.03-.338-2.03h3.486zm-2.986 3h2.986v2h-2.653l-.333-2zm7.986 2v-2h3.418l-.285 2h-3.133z"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]}]})(i)}function t0(i){return SA({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"User"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M17.438,21.937H6.562a2.5,2.5,0,0,1-2.5-2.5V18.61c0-3.969,3.561-7.2,7.938-7.2s7.938,3.229,7.938,7.2v.827A2.5,2.5,0,0,1,17.438,21.937ZM12,12.412c-3.826,0-6.938,2.78-6.938,6.2v.827a1.5,1.5,0,0,0,1.5,1.5H17.438a1.5,1.5,0,0,0,1.5-1.5V18.61C18.938,15.192,15.826,12.412,12,12.412Z"},child:[]},{tag:"path",attr:{d:"M12,9.911a3.924,3.924,0,1,1,3.923-3.924A3.927,3.927,0,0,1,12,9.911Zm0-6.847a2.924,2.924,0,1,0,2.923,2.923A2.926,2.926,0,0,0,12,3.064Z"},child:[]}]}]}]})(i)}const n0=[{label:"Home",to:"/"},{label:"Products",to:"/category/All"},{label:"About us",to:"/"},{label:"Contact us",to:"/"}],i0=[{label:"Curtains",to:"/category/Curtains",items:["Plain curtains","Textured curtains","Embroidery curtains","Cotton curtains","Sheer curtains","Curtains with borders"]},{label:"Wallpapers",to:"/category/Wallpapers",items:["Floral","Geometric","Kids & playful","Textured","Premium vinyl","Custom print"]},{label:"Bedback & Sofa",to:"/category/Bedback",items:["Upholstered bedback","Tufted headboard","Sofa reupholstery","Cushions & bolsters"]},{label:"Mattress",to:"/category/Mattress",items:["Memory foam","Orthopedic","Latex","Hybrid","Accessories"]},{label:"Blinds",to:"/category/Blinds",items:["Roller blinds","Zebra / day-night","Roman blinds","Vertical blinds","Wooden Venetian"]},{label:"Wood & PVC Flooring",to:"/category/Flooring",items:["Laminate wood","Engineered wood","PVC/Vinyl planks","Skirting"]}];function l4({onRequestAuth:i=()=>{}}){const{user:e,logout:n}=Vo(),{itemCount:s}=wf(),o=Mo(),[u,h]=L.useState(!1),[m,p]=L.useState(!1),g=L.useMemo(()=>e?.displayName||(e?.email?e.email.split("@")[0]:""),[e]),E=L.useMemo(()=>e?`Hi, ${g}`:"Hi there",[e,g]),T=L.useCallback(U=>{o(U),p(!1)},[o]),w=L.useCallback(()=>{if(!e){i();return}h(!0)},[e,i]),V=L.useCallback(()=>{e||i()},[e,i]),k=L.useCallback(()=>h(!1),[]),G=L.useCallback(()=>p(U=>!U),[]);return A.jsxs(A.Fragment,{children:[A.jsxs("header",{className:"uf3-header",role:"banner",children:[A.jsxs("div",{className:"uf3-top",children:[A.jsxs(ts,{className:"uf3-brand",to:"/","aria-label":"UrbanFrill Home",children:[A.jsx("img",{className:"uf3-logo",src:si("images/logo.png"),alt:"UrbanFrill",onError:U=>U.currentTarget.style.visibility="hidden"}),A.jsxs("span",{className:"uf3-brandtext",children:[A.jsx("span",{className:"uf3-title",children:"UrbanFrill"}),A.jsx("span",{className:"uf3-tag",children:"Furnish Your Lifestyle"})]})]}),A.jsx("nav",{className:"uf3-primary","aria-label":"Primary",children:n0.map(U=>A.jsx(ts,{to:U.to,children:U.label},U.label))}),A.jsxs("div",{className:"uf3-actions",children:[A.jsxs("button",{className:"uf3-user uf3-hide-on-mobile",onClick:V,title:e?g:"Login / Sign up",children:[e?.photoURL?A.jsx("img",{src:e.photoURL,alt:g||"User"}):A.jsx(t0,{size:18,"aria-hidden":!0}),A.jsx("span",{className:"uf3-greeting",children:E})]}),A.jsxs("button",{className:"uf3-cart uf3-hide-on-mobile",onClick:w,"aria-label":"Open cart",title:"Cart",children:[A.jsx(e0,{size:18,"aria-hidden":!0}),s>0&&A.jsx("span",{className:"uf3-badge",children:s})]}),e?A.jsx("button",{className:"uf3-ghost uf3-hide-on-mobile",onClick:n,children:"Logout"}):A.jsx("button",{className:"uf3-primarybtn uf3-hide-on-mobile",onClick:i,children:"Login / Sign up"}),A.jsxs("button",{className:`uf3-burger ${m?"is-open":""}`,"aria-label":"Toggle menu","aria-expanded":m,onClick:G,children:[A.jsx("span",{}),A.jsx("span",{}),A.jsx("span",{})]})]})]}),A.jsx("div",{className:"uf3-catsrow",children:A.jsx("nav",{className:"uf3-cats","aria-label":"Categories",children:i0.map(U=>A.jsxs("div",{className:"uf3-cat",children:[A.jsxs("button",{className:"uf3-catbtn",onClick:()=>T(U.to),children:[U.label,A.jsx("svg",{className:"uf3-caret",viewBox:"0 0 16 16",width:"14",height:"14","aria-hidden":!0,children:A.jsx("path",{d:"M4 6l4 4 4-4",fill:"none",stroke:"currentColor",strokeWidth:"1.5"})})]}),A.jsxs("div",{className:"uf3-panel",role:"menu",children:[A.jsx("div",{className:"uf3-grid",children:U.items.map(Y=>A.jsx("button",{className:"uf3-sub",role:"menuitem",onClick:()=>{T(U.to),document.querySelectorAll(".uf3-cat").forEach(Z=>Z.blur())},children:Y},Y))}),A.jsxs(ts,{className:"uf3-viewall",to:U.to,children:["View all ",U.label," "]})]})]},U.label))})}),A.jsxs("div",{className:`uf3-mobile ${m?"show":""}`,role:"dialog","aria-modal":"true","aria-label":"Mobile menu",children:[A.jsxs("div",{className:"uf3-mobbar",children:[A.jsxs(ts,{className:"uf3-mobbrand",to:"/","aria-label":"UrbanFrill Home",children:[A.jsx("img",{className:"uf3-logo",src:si("images/logo.png"),alt:""}),A.jsx("span",{className:"uf3-title",children:"UrbanFrill"})]}),A.jsx("button",{className:"uf3-close","aria-label":"Close menu",onClick:G,children:""})]}),A.jsxs("div",{className:"uf3-mob-user",children:[A.jsxs("button",{className:"uf3-mob-userbtn",onClick:()=>e?null:i(),children:[e?.photoURL?A.jsx("img",{src:e.photoURL,alt:g||"User"}):A.jsx(t0,{size:18,"aria-hidden":!0}),A.jsx("span",{children:e?`Hi, ${g}`:"Login / Sign up"})]}),A.jsxs("button",{className:"uf3-mob-cartbtn",onClick:()=>{p(!1),w()},children:[A.jsx(e0,{size:18,"aria-hidden":!0}),A.jsxs("span",{children:["Cart ",s>0?`(${s})`:""]})]}),e&&A.jsx("button",{className:"uf3-mob-logout",onClick:()=>{n(),p(!1)},children:"Logout"})]}),A.jsx("div",{className:"uf3-mobile-primary",children:n0.map(U=>A.jsx(ts,{to:U.to,onClick:()=>p(!1),children:U.label},U.label))}),A.jsx("div",{className:"uf3-mobile-cats",children:i0.map(U=>A.jsxs("details",{className:"uf3-acc",children:[A.jsxs("summary",{className:"uf3-accbtn",children:[A.jsx("span",{children:U.label}),A.jsx("span",{className:"uf3-plus","aria-hidden":!0,children:"+"})]}),A.jsxs("div",{className:"uf3-accpanel",role:"region",children:[A.jsxs(ts,{className:"uf3-accviewall",to:U.to,onClick:()=>p(!1),children:["View all ",U.label," "]}),U.items.map(Y=>A.jsx("button",{className:"uf3-accitem",onClick:()=>{T(U.to),p(!1)},children:Y},Y))]})]},U.label))})]})]}),A.jsx(e4,{open:u,onClose:k})]})}const u4=zn.memo(l4),c4="918005827701",h4=3e3,ea=[{id:"featured",label:"Featured",anchor:"#products"},{id:"curtains",label:"Curtains",anchor:"#curtains"},{id:"wallpapers",label:"Wallpapers",anchor:"#wallpapers"},{id:"bedback",label:"Bedback & Sofa",anchor:"#bedback"},{id:"mattress",label:"Mattress",anchor:"#mattress"},{id:"blinds",label:"Blinds",anchor:"#blinds"},{id:"flooring",label:"Wood & PVC Flooring",anchor:"#flooring"}],f4={curtains:"hero-curtain.webp",wallpapers:"hero-wallpaper.webp",bedback:"hero-bedback.webp",mattress:"hero-mattress.webp",blinds:"hero-blinds.webp",flooring:"hero-flooring.webp"},d4={featured:{title:"Furnish Your Lifestyle",desc:"Explore custom furnishings across curtains, wallpapers, bedbacks, mattresses, blinds and flooring.",cta:"Browse Products"},curtains:{title:"Luxury Curtains",desc:"Soft light and elegant drape for living and bedrooms.",cta:"Shop Curtains"},wallpapers:{title:"Designer Wallpapers",desc:"Statement patterns and premium textures for every wall.",cta:"Shop Wallpapers"},bedback:{title:"Bedback & Sofa",desc:"Upholstered comfort that looks and feels premium.",cta:"Explore Upholstery"},mattress:{title:"Mattresses",desc:"Support engineered for deeper, restorative sleep.",cta:"Shop Mattresses"},blinds:{title:"Blinds",desc:"Clean lines with precise light control.",cta:"Shop Blinds"},flooring:{title:"Wood & PVC Flooring",desc:"Warm, durable finishes for modern homes.",cta:"Shop Flooring"}};function r0({priority:i=!1}){return A.jsxs("div",{className:"hero-collage",children:[A.jsx("figure",{className:"collage-big card",children:A.jsx("img",{src:si("images/hero-left.webp"),alt:"Featured large",loading:i?"eager":"lazy",decoding:"async",fetchPriority:i?"high":"auto"})}),A.jsx("figure",{className:"collage-small top card",children:A.jsx("img",{src:si("images/hero-topright.webp"),alt:"Featured detail 1",loading:"lazy",decoding:"async"})}),A.jsx("figure",{className:"collage-small bottom card",children:A.jsx("img",{src:si("images/hero-bottomright.webp"),alt:"Featured detail 2",loading:"lazy",decoding:"async"})})]})}function s0({id:i,label:e,priority:n=!1}){const s=si(`images/${f4[i]}`);return A.jsxs("figure",{className:"hero-single card",children:[A.jsx("img",{src:s,alt:e,loading:n?"eager":"lazy",decoding:"async",fetchPriority:n?"high":"auto"}),A.jsx("figcaption",{className:"badge",children:e}),A.jsx("div",{className:"scrim"})]})}function m4(){const[i,e]=L.useState(()=>{const w=Math.floor(Math.random()*ea.length);return ea[w].id}),[n,s]=L.useState(null),o=L.useRef(null),u=L.useMemo(()=>ea.findIndex(w=>w.id===i),[i]),h=ea[(u+1)%ea.length].id,m=ea[u],{title:p,desc:g,cta:E}=d4[i];L.useEffect(()=>(o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{s(i),e(h)},h4),()=>o.current&&clearTimeout(o.current)),[i,h]),L.useEffect(()=>()=>o.current&&clearTimeout(o.current),[]);const T=i==="featured";return A.jsx("section",{className:"hero",children:A.jsxs("div",{className:"hero-container",children:[A.jsx("div",{className:"hero-media",children:A.jsxs("div",{className:`slider ${n?"animating two":"single"}`,onAnimationEnd:()=>s(null),children:[n&&A.jsx("div",{className:"slide prev",children:n==="featured"?A.jsx(r0,{}):A.jsx(s0,{id:n,label:ea.find(w=>w.id===n)?.label})}),A.jsx("div",{className:`slide current ${n?"with-prev":""}`,children:T?A.jsx(r0,{priority:!0}):A.jsx(s0,{id:i,label:m.label,priority:!0})})]})}),A.jsxs("div",{className:"hero-text",children:[A.jsx("h2",{children:p}),A.jsx("p",{children:g}),A.jsxs("div",{className:"hero-buttons",children:[A.jsx("a",{href:m.anchor,className:"btn btn-dark",children:E}),A.jsx("a",{href:`https://wa.me/${c4}?text=${encodeURIComponent("Hi, I'm interested in UrbanFrill products.")}`,target:"_blank",rel:"noreferrer",className:"btn btn-whatsapp",children:"WhatsApp Quote"})]})]})]})})}function p4(){"scrollRestoration"in history&&(history.scrollRestoration="manual");const i=document.scrollingElement||document.documentElement,e=document.getElementById("root"),n=()=>{window.scrollTo(0,0),i.scrollTop=0,document.body.scrollTop=0,e&&(e.scrollTop=0)};n(),requestAnimationFrame(n),setTimeout(n,0),setTimeout(n,60)}const hs=[{id:1,name:"Elegant Curtains",desc:"Custom made | Free on-site measuring",price:299,category:"Curtains",images:["/images/hero-left.webp"]},{id:2,name:"Wallpapers - Floral",desc:"Vinyl, easy-clean finish",price:799,category:"Wallpapers",images:["/images/hero-topright.webp"]},{id:3,name:"Upholstered Bedback",desc:"Premium fabric, stitched",price:1499,category:"Bedback",images:["/images/hero-bottomright.webp"]}];hs.push({id:901,name:"Sheer Daylight Curtains",desc:"Airy weave with soft diffused light.",category:"Curtains",price:2490,image:"images/hero-curtain.webp"},{id:902,name:"Geometric Wallpaper",desc:"Matte finish, easy-clean | 57 sq.ft roll",category:"Wallpapers",price:1990,image:"images/hero-wallpaper.webp"},{id:903,name:"Premium Bedback",desc:"Upholstered, tufted, custom sizes",category:"Bedback & Sofa",price:12990,image:"images/hero-bedback.webp"},{id:904,name:"Orthopedic Mattress",desc:"Medium-firm with zoned support",category:"Mattress",price:17990,image:"images/hero-mattress.webp"},{id:905,name:"Day-Night Blinds",desc:"Precise light control with sleek look",category:"Blinds",price:5490,image:"images/hero-blinds.webp"},{id:906,name:"Oak Textured PVC",desc:"Durable planks | easy install",category:"Wood & PVC Flooring",price:2990,image:"images/hero-flooring.webp"});function g4({promptLogin:i=()=>{}}){const{productId:e}=m0(),n=Mo(),{user:s}=Vo(),{addToCart:o}=wf(),[u,h]=L.useState(!1),m=L.useMemo(()=>e?hs.find(V=>V.id===Number(e)):null,[e]);L.useLayoutEffect(()=>{p4()},[m?.id]);const p=L.useMemo(()=>{if(!m)return[];const V=Array.isArray(m.images)?m.images.filter(Boolean):[];return V.length?V:m.image?[m.image]:[]},[m]),[g,E]=L.useState(0);if(!m)return A.jsxs("div",{style:{padding:60,textAlign:"center"},children:[A.jsx("h3",{children:"Product not found"}),A.jsx("p",{children:"It may have been removed or renamed."}),A.jsx("button",{onClick:()=>n("/"),className:"pp-back",children:" Back to Home"})]});const T=p[g]||"images/placeholder.png",w=()=>{if(!s){i();return}o({id:m.id,name:m.name,price:Number(m.price)||0,image:p[0]||"images/placeholder.png",qty:1}),h(!0),setTimeout(()=>h(!1),1600)};return A.jsxs("div",{className:"pp-wrap",style:{maxWidth:1100,margin:"40px auto",padding:"0 18px"},children:[A.jsx("button",{onClick:()=>window.location.hash="#products",className:"pp-back",children:" Back to Products"}),A.jsxs("div",{className:"pp-grid",children:[A.jsxs("div",{className:"pp-media",children:[A.jsx("div",{className:"pp-main",children:A.jsx("img",{className:"pd-main",src:To(T),alt:m.name,loading:"eager",onError:V=>V.currentTarget.src=si("images/placeholder.png")})}),p.length>1&&A.jsx("div",{className:"pp-thumbs",role:"list",children:p.map((V,k)=>A.jsx("button",{className:`pp-thumb ${k===g?"active":""}`,onClick:()=>E(k),"aria-label":`Show image ${k+1}`,children:A.jsx("img",{src:To(V),alt:`thumb-${k+1}`,loading:"lazy",onError:G=>G.currentTarget.src=si("images/placeholder.png")})},`${V}-${k}`))})]}),A.jsxs("div",{className:"pp-info",children:[A.jsx("h1",{children:m.name}),A.jsxs("p",{className:"pp-price",children:["",Number(m.price||0).toLocaleString()]}),A.jsx("p",{className:"pp-desc",children:m.desc}),A.jsxs("div",{style:{marginTop:18,display:"flex",gap:12},children:[A.jsx("button",{className:"pp-btn",onClick:w,disabled:u,children:u?" Added":"Add to cart"}),A.jsx("button",{className:"pp-btn-outline",onClick:()=>alert("Buy now  checkout will be added soon"),children:"Buy now"})]}),A.jsxs("div",{style:{marginTop:22,color:"#666"},children:[A.jsx("strong",{children:"Category:"})," ",m.category]})]})]})]})}const y4="917821085631";function AA(){const i=`https://wa.me/${y4}?text=${encodeURIComponent("Hi! I'm interested in UrbanFrill products.")}`;return A.jsxs("footer",{className:"uf-footer",id:"contact",children:[A.jsxs("div",{className:"footer-container",children:[A.jsxs("div",{className:"footer-about",children:[A.jsx("div",{className:"footer-logo",children:"UF"}),A.jsx("h3",{children:"UrbanFrill"}),A.jsx("p",{children:"Premium furnishings  Curtains, Wallpapers, Bedbacks & more. We deliver across India with custom-made quality."})]}),A.jsxs("div",{className:"footer-contact",children:[A.jsx("h4",{children:"Contact Us"}),A.jsxs("ul",{children:[A.jsx("li",{children:A.jsx("a",{href:i,target:"_blank",rel:"noreferrer",children:"WhatsApp: +91 78210 85631"})}),A.jsx("li",{children:A.jsx("a",{href:"mailto:urbanfrill@gmail.com",children:"urbanfrill@gmail.com"})}),A.jsx("li",{children:"Pune, Maharashtra, India"})]})]}),A.jsxs("div",{className:"footer-links",children:[A.jsx("h4",{children:"Quick Links"}),A.jsxs("ul",{children:[A.jsx("li",{children:A.jsx("a",{href:"#products",children:"Products"})}),A.jsx("li",{children:A.jsx("a",{href:"#services",children:"Services"})}),A.jsx("li",{children:A.jsx("a",{href:"#about",children:"About"})}),A.jsx("li",{children:A.jsx("a",{href:"#contact",children:"Contact"})})]})]})]}),A.jsx("div",{className:"footer-bottom",children:A.jsxs("p",{children:[" ",new Date().getFullYear()," UrbanFrill. All rights reserved."]})})]})}function au({children:i,direction:e="up",delay:n=0}){const s=L.useRef();L.useEffect(()=>{const u=s.current;if(!u)return;const h=new IntersectionObserver(([m])=>{m.isIntersecting&&(setTimeout(()=>u.classList.add("visible"),n),h.unobserve(u))},{threshold:.2});return h.observe(u),()=>h.disconnect()},[n]);const o=e==="left"?"reveal-left":e==="right"?"reveal-right":"";return A.jsx("div",{ref:s,className:`reveal ${o}`,children:i})}function _4(){const[i,e]=L.useState({name:"",phone:"",message:""}),[n,s]=L.useState(""),o=h=>{const{name:m,value:p}=h.target;e(g=>({...g,[m]:p}))},u=h=>{if(h.preventDefault(),!i.name||!i.phone||!i.message){s("Please fill in all fields."),setTimeout(()=>s(""),2500);return}const m={name:i.name,phone:i.phone,message:i.message,date:new Date().toISOString()};(async()=>{try{Vi?await Jx(Ux(Vi,"contacts"),m):console.log("ContactForm (no db):",m)}catch(p){console.warn("Failed to save contact to Firestore:",p)}})(),e({name:"",phone:"",message:""}),s(" Thank you  your message has been recorded."),setTimeout(()=>s(""),3500)};return A.jsx("div",{className:"contact-form-outer",id:"contact",children:A.jsxs("div",{className:"contact-form-container",children:[A.jsx("h2",{children:"Contact Us"}),A.jsx("p",{className:"lead",children:"Leave your details below  well reach out soon."}),A.jsxs("form",{onSubmit:u,className:"contact-form",noValidate:!0,children:[A.jsx("input",{type:"text",name:"name",placeholder:"Your Name",value:i.name,onChange:o,className:"cf-input",autoComplete:"name"}),A.jsx("input",{type:"tel",name:"phone",placeholder:"Phone Number",value:i.phone,onChange:o,className:"cf-input",autoComplete:"tel"}),A.jsx("textarea",{name:"message",placeholder:"Your Message",value:i.message,onChange:o,rows:"4",className:"cf-textarea"}),A.jsx("div",{className:"cf-actions",children:A.jsx("button",{type:"submit",className:"submit-btn",children:"Submit"})})]}),n&&A.jsx("div",{className:"cf-success",children:n})]})})}function v4(){const{signup:i,login:e,googleSignIn:n}=Vo(),[s,o]=L.useState(!1),[u,h]=L.useState(""),[m,p]=L.useState(""),[g,E]=L.useState(""),[T,w]=L.useState(!1),[V,k]=L.useState(""),G=async Y=>{Y.preventDefault(),k(""),w(!0);try{s?await i(m,g,u||void 0):await e(m,g)}catch(Z){k(Z.message||"Authentication failed")}finally{w(!1)}},U=async()=>{k(""),w(!0);try{await n()}catch(Y){k(Y.message||"Google sign-in failed")}finally{w(!1)}};return A.jsxs("div",{className:"auth-card",children:[A.jsx("h3",{children:s?"Create an account":"Login"}),A.jsxs("button",{type:"button",className:"google-btn",onClick:U,disabled:T,children:[A.jsx("span",{className:"google-icon","aria-hidden":!0}),"Continue with Google"]}),A.jsx("div",{className:"divider",children:"or"}),A.jsxs("form",{onSubmit:G,className:"auth-form",noValidate:!0,children:[s&&A.jsx("input",{placeholder:"Full name",value:u,onChange:Y=>h(Y.target.value),autoComplete:"name"}),A.jsx("input",{type:"email",placeholder:"Email address",value:m,onChange:Y=>p(Y.target.value),required:!0,autoComplete:"email"}),A.jsx("input",{type:"password",placeholder:"Password",value:g,onChange:Y=>E(Y.target.value),required:!0,autoComplete:s?"new-password":"current-password"}),V&&A.jsx("div",{className:"auth-error",children:V}),A.jsxs("div",{className:"auth-actions",children:[A.jsx("button",{type:"submit",disabled:T,children:T?"Please wait...":s?"Sign up":"Login"}),A.jsx("button",{type:"button",className:"link-button",onClick:()=>{o(Y=>!Y),k("")},children:s?"Already have an account? Login":"No account? Sign up"})]})]})]})}function E4({open:i,onClose:e}){return i?A.jsx("div",{className:"am-overlay",onClick:e,role:"dialog","aria-modal":"true",children:A.jsxs("div",{className:"am-card",onClick:n=>n.stopPropagation(),children:[A.jsx("button",{className:"am-close",onClick:e,"aria-label":"Close",children:""}),A.jsx(v4,{})]})}):null}function T4({product:i,onView:e=()=>{},index:n=0,promptLogin:s=()=>{}}){const{user:o}=Vo(),{addToCart:u}=wf(),[h,m]=L.useState(!1),p=L.useMemo(()=>Number(i.price)||0,[i.price]),g=i.images?.[0]||i.image,E=typeof n=="number"&&n>=0&&n<6,T=L.useMemo(()=>Rh(g),[g]),w=L.useCallback(()=>{if(!o){s();return}u({id:i.id,name:i.name,price:p,image:T,qty:1}),m(!0),setTimeout(()=>m(!1),1600)},[o,u,i.id,i.name,p,T,s]),V=L.useCallback(()=>{if(!o){s();return}u({id:i.id,name:i.name,price:p,image:T,qty:1}),window.location.hash="#cart"},[o,u,i.id,i.name,p,T]),k=L.useCallback(()=>e(i),[e,i]);return A.jsxs("article",{className:"pc-card",role:"listitem",children:[A.jsx("button",{className:"pc-media",onClick:k,"aria-label":`View ${i.name}`,children:A.jsx("img",{src:To(g),alt:i.name,onError:G=>G.currentTarget.src=si("images/logo.png"),loading:E?"eager":"lazy",decoding:"async",fetchPriority:E?"high":"auto",sizes:"(max-width:560px) 100vw, (max-width:980px) 50vw, 33vw"})}),A.jsxs("div",{className:"pc-body",children:[A.jsx("h3",{className:"pc-title",onClick:k,style:{cursor:"pointer"},children:i.name}),A.jsx("p",{className:"pc-desc",children:i.desc}),A.jsxs("div",{className:"pc-footer",children:[A.jsxs("div",{className:"pc-price",children:["",p.toLocaleString()]}),A.jsxs("div",{className:"pc-buttons",children:[A.jsx("button",{className:`pc-btn pc-add ${h?"added":""}`,onClick:w,disabled:h,children:h?" Added":"Add to cart"}),A.jsx("button",{className:"pc-btn pc-buy",onClick:V,children:"Buy now"})]})]})]})]})}const wA=zn.memo(T4);function Jh({categories:i=[],selected:e,onSelect:n,minPrice:s=0,maxPrice:o=0,priceMin:u,priceMax:h,onPriceChange:m,sort:p="relevance",onSortChange:g}){const E=L.useMemo(()=>i||[],[i]),T=V=>m&&m({min:Number(V.target.value),max:h}),w=V=>m&&m({min:u,max:Number(V.target.value)});return A.jsx("aside",{className:"pf-aside","aria-label":"Product filters",children:A.jsxs("div",{className:"pf-aside-inner",children:[A.jsx("h4",{className:"pf-title",children:"Filter by category"}),A.jsx("nav",{className:"pf-list",role:"listbox","aria-activedescendant":e,children:E.map(V=>{const k=V===e;return A.jsx("button",{id:V,onClick:()=>n&&n(V),className:`pf-item ${k?"active":""}`,"aria-pressed":k,children:V},V)})}),m?A.jsxs("div",{className:"pf-block",children:[A.jsx("h4",{className:"pf-title",style:{marginTop:12},children:"Price"}),A.jsxs("div",{className:"pf-price",children:[A.jsxs("label",{children:["Min",A.jsx("input",{type:"number",inputMode:"numeric",min:s,max:o,value:u,onChange:T})]}),A.jsxs("label",{children:["Max",A.jsx("input",{type:"number",inputMode:"numeric",min:s,max:o,value:h,onChange:w})]})]}),A.jsxs("div",{className:"pf-hint",children:["",s.toLocaleString(),"  ",o.toLocaleString()]})]}):null,g?A.jsxs("div",{className:"pf-block",children:[A.jsx("h4",{className:"pf-title",style:{marginTop:12},children:"Sort"}),A.jsxs("select",{className:"pf-select",value:p,onChange:V=>g(V.target.value),children:[A.jsx("option",{value:"relevance",children:"Relevance"}),A.jsx("option",{value:"price-asc",children:"Price: Low to High"}),A.jsx("option",{value:"price-desc",children:"Price: High to Low"})]})]}):null]})})}function RA(){return A.jsxs("article",{className:"pc-card","aria-hidden":"true",children:[A.jsx("div",{className:"pc-media",children:A.jsx("div",{className:"skeleton skeleton-media"})}),A.jsxs("div",{className:"pc-body",children:[A.jsx("div",{className:"skeleton skeleton-line",style:{width:"60%",height:18}}),A.jsx("div",{className:"skeleton skeleton-line",style:{width:"80%",height:14}}),A.jsx("div",{style:{flex:1}}),A.jsxs("div",{style:{display:"flex",gap:8},children:[A.jsx("div",{className:"skeleton skeleton-btn"}),A.jsx("div",{className:"skeleton skeleton-btn"})]})]})]})}function b4({promptLogin:i=()=>{}}){const{category:e}=m0(),n=Mo(),[s,o]=L.useState(""),[u,h]=L.useState(null),[m,p]=L.useState(null),[g,E]=L.useState("relevance"),[T,w]=L.useState(!1),V=L.useMemo(()=>["All",...new Set(hs.map(re=>(re.category||"").trim()).filter(Boolean))],[]),k=L.useMemo(()=>{const J=hs.map(le=>Number(le.price)||0),re=J.length?Math.min(...J):0,ue=J.length?Math.max(...J):0;return{min:re,max:ue}},[]);L.useEffect(()=>{u===null&&h(k.min),m===null&&p(k.max)},[k,u,m]);const G=L.useCallback(({min:J,max:re})=>{h(Number.isFinite(J)?J:k.min),p(Number.isFinite(re)?re:k.max)},[k.min,k.max]),U=L.useMemo(()=>{const J=s.trim().toLowerCase(),re=decodeURIComponent(e),ue=hs.filter(le=>{const C=Number(le.price)||0,R=re==="All"||le.category===re,I=C>=(u||k.min)&&C<=(m||k.max);if(!J)return R&&I;const M=(le.name||"").toLowerCase(),O=(le.desc||"").toLowerCase();return R&&I&&(M.includes(J)||O.includes(J))});return g==="price-asc"&&ue.sort((le,C)=>(le.price||0)-(C.price||0)),g==="price-desc"&&ue.sort((le,C)=>(C.price||0)-(le.price||0)),ue},[e,s,u,m,g,k]);L.useEffect(()=>{const ue=U.slice(0,12).map(O=>Array.isArray(O.images)&&O.images[0]||O.image).filter(Boolean);if(!ue.length)return;w(!0);let le=0;const C=[];let R=!1;const I=()=>{R||(R=!0,w(!1),C.splice(0,C.length))},M=setTimeout(()=>I(),1200);return ue.forEach(O=>{try{const j=new Image;C.push(j),j.onload=()=>{le+=1,le>=Math.min(4,ue.length)&&I()},j.onerror=()=>{le+=1,le>=Math.min(4,ue.length)&&I()},j.src=To(O)}catch{}}),()=>{clearTimeout(M),R=!0,C.forEach(O=>{O.onload=null,O.onerror=null})}},[U]);const Y=L.useCallback(J=>{J&&n(`/product/${J.id}`)},[n]),Z=L.useCallback(J=>{n(`/category/${encodeURIComponent(J)}`)},[n]);return A.jsxs("main",{children:[A.jsxs("div",{className:"products-layout",children:[A.jsx(Jh,{categories:V,selected:decodeURIComponent(e),onSelect:Z,minPrice:k.min,maxPrice:k.max,priceMin:u||k.min,priceMax:m||k.max,onPriceChange:G,sort:g,onSortChange:E}),A.jsxs("div",{className:"products-main",children:[A.jsxs("div",{className:"products-search",children:[A.jsx("input",{className:"products-search-input",placeholder:"Search products...",value:s,onChange:J=>o(J.target.value),"aria-label":"Search products"}),A.jsx("button",{className:"filters-toggle",type:"button","aria-controls":"filters-drawer","aria-expanded":!1,onClick:()=>{document.documentElement.classList.add("no-scroll"),document.getElementById("filters-drawer")?.classList.add("show"),document.getElementById("filters-overlay")?.classList.add("show")},children:"Filters"})]}),A.jsx(au,{direction:"up",children:A.jsx("div",{className:"pf-grid",role:"list",style:{maxWidth:"1100px",margin:"20px auto"},children:T?Array.from({length:8}).map((J,re)=>A.jsx(RA,{},`sk-${re}`)):U.length>0?U.map((J,re)=>A.jsx(wA,{product:J,onView:Y,promptLogin:i,index:re},J.id)):A.jsx("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"40px 20px"},children:A.jsx("p",{children:"No products found in this category."})})})})]})]}),A.jsx("div",{id:"filters-overlay",className:"filters-overlay",onClick:()=>{document.getElementById("filters-drawer")?.classList.remove("show"),document.getElementById("filters-overlay")?.classList.remove("show"),document.documentElement.classList.remove("no-scroll")}}),A.jsxs("aside",{id:"filters-drawer",className:"filters-drawer",role:"dialog","aria-modal":"true","aria-label":"Filters",onKeyDown:J=>{J.key==="Escape"&&(document.getElementById("filters-drawer")?.classList.remove("show"),document.getElementById("filters-overlay")?.classList.remove("show"),document.documentElement.classList.remove("no-scroll"))},children:[A.jsxs("div",{className:"filters-drawer-bar",children:[A.jsx("span",{children:"Filters"}),A.jsx("button",{type:"button","aria-label":"Close filters",onClick:()=>{document.getElementById("filters-drawer")?.classList.remove("show"),document.getElementById("filters-overlay")?.classList.remove("show"),document.documentElement.classList.remove("no-scroll")},children:""})]}),A.jsx("div",{className:"filters-drawer-body",children:A.jsx(Jh,{categories:V,selected:decodeURIComponent(e),onSelect:J=>{Z(J)},minPrice:k.min,maxPrice:k.max,priceMin:u||k.min,priceMax:m||k.max,onPriceChange:G,sort:g,onSortChange:E})}),A.jsx("div",{className:"filters-drawer-actions",children:A.jsx("button",{className:"fda-apply",type:"button",onClick:()=>{document.getElementById("filters-drawer")?.classList.remove("show"),document.getElementById("filters-overlay")?.classList.remove("show"),document.documentElement.classList.remove("no-scroll")},children:"Apply & Close"})})]})]})}const S4=zn.memo(b4);function A4({promptLogin:i=()=>{}}){const e=Mo(),[n,s]=L.useState("All"),[o,u]=L.useState(""),h=L.useMemo(()=>["All",...new Set(hs.map(ue=>(ue.category||"").trim()).filter(Boolean))],[]),m=L.useMemo(()=>{const re=hs.map(C=>Number(C.price)||0),ue=re.length?Math.min(...re):0,le=re.length?Math.max(...re):0;return{min:ue,max:le}},[]),[p,g]=L.useState(m.min),[E,T]=L.useState(m.max),[w,V]=L.useState("relevance"),k=L.useCallback(({min:re,max:ue})=>{g(Number.isFinite(re)?re:m.min),T(Number.isFinite(ue)?ue:m.max)},[m.min,m.max]),G=L.useMemo(()=>{const re=o.trim().toLowerCase(),ue=hs.filter(le=>{const C=Number(le.price)||0,R=n==="All"||le.category===n,I=C>=p&&C<=E;if(!re)return R&&I;const M=(le.name||"").toLowerCase(),O=(le.desc||"").toLowerCase();return R&&I&&(M.includes(re)||O.includes(re))});return w==="price-asc"&&ue.sort((le,C)=>(le.price||0)-(C.price||0)),w==="price-desc"&&ue.sort((le,C)=>(C.price||0)-(le.price||0)),ue},[n,o,p,E,w]),[U,Y]=L.useState(!1);L.useEffect(()=>{const le=G.slice(0,12).map(j=>Array.isArray(j.images)&&j.images[0]||j.image).filter(Boolean);if(!le.length)return;Y(!0);let C=0;const R=[];let I=!1;const M=()=>{I||(I=!0,Y(!1),R.splice(0,R.length))},O=setTimeout(()=>M(),1200);return le.forEach(j=>{try{const N=new Image;R.push(N),N.onload=()=>{C+=1,C>=Math.min(4,le.length)&&M()},N.onerror=()=>{C+=1,C>=Math.min(4,le.length)&&M()},N.src=To(j)}catch{}}),()=>{clearTimeout(O),I=!0,R.forEach(j=>{j.onload=null,j.onerror=null})}},[G]);const Z=L.useCallback(re=>{re&&e(`/product/${re.id}`)},[e]),J=L.useCallback(re=>{re==="All"?s("All"):e(`/category/${encodeURIComponent(re)}`)},[e]);return A.jsxs("main",{children:[A.jsx("section",{id:"home",children:A.jsx(au,{direction:"up",children:A.jsx(m4,{})})}),A.jsxs("section",{id:"products",className:"products-section-bg",children:[A.jsxs("div",{className:"products-layout",children:[A.jsx(Jh,{categories:h,selected:n,onSelect:J,minPrice:m.min,maxPrice:m.max,priceMin:p,priceMax:E,onPriceChange:k,sort:w,onSortChange:V}),A.jsxs("div",{className:"products-main",children:[A.jsxs("div",{className:"products-search",children:[A.jsx("input",{className:"products-search-input",placeholder:"Search products...",value:o,onChange:re=>u(re.target.value),"aria-label":"Search products"}),A.jsx("button",{className:"filters-toggle",type:"button","aria-controls":"filters-drawer","aria-expanded":!1,onClick:()=>{document.documentElement.classList.add("no-scroll"),document.getElementById("filters-drawer")?.classList.add("show"),document.getElementById("filters-overlay")?.classList.add("show")},children:"Filters"})]}),A.jsx(au,{direction:"up",children:A.jsx("div",{className:"pf-grid",role:"list",style:{maxWidth:"1100px",margin:"20px auto"},children:U?Array.from({length:8}).map((re,ue)=>A.jsx(RA,{},`sk-${ue}`)):G.map((re,ue)=>A.jsx(wA,{product:re,onView:Z,promptLogin:i,index:ue},re.id))})})]})]}),A.jsx("div",{id:"filters-overlay",className:"filters-overlay",onClick:()=>{document.getElementById("filters-drawer")?.classList.remove("show"),document.getElementById("filters-overlay")?.classList.remove("show"),document.documentElement.classList.remove("no-scroll")}}),A.jsxs("aside",{id:"filters-drawer",className:"filters-drawer",role:"dialog","aria-modal":"true","aria-label":"Filters",onKeyDown:re=>{re.key==="Escape"&&(document.getElementById("filters-drawer")?.classList.remove("show"),document.getElementById("filters-overlay")?.classList.remove("show"),document.documentElement.classList.remove("no-scroll"))},children:[A.jsxs("div",{className:"filters-drawer-bar",children:[A.jsx("span",{children:"Filters"}),A.jsx("button",{type:"button","aria-label":"Close filters",onClick:()=>{document.getElementById("filters-drawer")?.classList.remove("show"),document.getElementById("filters-overlay")?.classList.remove("show"),document.documentElement.classList.remove("no-scroll")},children:""})]}),A.jsx("div",{className:"filters-drawer-body",children:A.jsx(Jh,{categories:h,selected:n,onSelect:re=>{re==="All"?s("All"):e(`/category/${encodeURIComponent(re)}`),document.getElementById("filters-drawer")?.classList.remove("show"),document.getElementById("filters-overlay")?.classList.remove("show"),document.documentElement.classList.remove("no-scroll")},minPrice:m.min,maxPrice:m.max,priceMin:p,priceMax:E,onPriceChange:k,sort:w,onSortChange:V})}),A.jsx("div",{className:"filters-drawer-actions",children:A.jsx("button",{className:"fda-apply",type:"button",onClick:()=>{document.getElementById("filters-drawer")?.classList.remove("show"),document.getElementById("filters-overlay")?.classList.remove("show"),document.documentElement.classList.remove("no-scroll")},children:"Apply & Close"})})]})]}),A.jsx(au,{direction:"up",children:A.jsx(_4,{})}),A.jsx("section",{id:"contact",children:A.jsx(AA,{})})]})}const w4=zn.memo(A4);function R4(){const{user:i}=Vo(),[e,n]=L.useState(!1);L.useEffect(()=>{i&&e&&n(!1)},[i,e]),L.useEffect(()=>{const o=document.body.style.overflowX;return document.body.style.overflowX="hidden",()=>document.body.style.overflowX=o},[]),L.useEffect(()=>{const o=document.body.style.overflow;return e?document.body.style.overflow="hidden":document.body.style.overflow=o||"",()=>document.body.style.overflow=o||""},[e]);const s=L.useCallback(()=>n(!0),[]);return A.jsx(RR,{basename:"/urbanfrill/",children:A.jsxs("div",{children:[A.jsx(E4,{open:e,onClose:()=>n(!1)}),A.jsx(u4,{onRequestAuth:s}),A.jsxs(iR,{children:[A.jsx(uo,{path:"/",element:A.jsx(w4,{promptLogin:s})}),A.jsx(uo,{path:"/products",element:A.jsx(lE,{to:"/category/All",replace:!0})}),A.jsx(uo,{path:"/category/:category",element:A.jsx(S4,{promptLogin:s})}),A.jsx(uo,{path:"/product/:productId",element:A.jsx("div",{children:A.jsxs("main",{children:[A.jsx(au,{direction:"up",children:A.jsx(g4,{promptLogin:s})}),A.jsx(AA,{})]})})}),A.jsx(uo,{path:"*",element:A.jsx(lE,{to:"/",replace:!0})})]})]})})}function C4({children:i}){const[e,n]=L.useState(null),[s,o]=L.useState(!0);L.useEffect(()=>AN(po,async T=>{n(T),o(!1);try{if(T&&Vi){const w=yu(Vi,"users",T.uid);await Tp(w,{uid:T.uid,email:T.email||null,displayName:T.displayName||null,photoURL:T.photoURL||null,lastSeen:new Date().toISOString()},{merge:!0})}}catch{}}),[]);const g={user:e,loading:s,signup:async(E,T,w)=>{const k=(await yN(po,E,T)).user;w&&(await EN(k,{displayName:w}),n({...k,displayName:w}));try{k&&Vi&&await Tp(yu(Vi,"users",k.uid),{uid:k.uid,email:k.email||null,displayName:w||k.displayName||null,photoURL:k.photoURL||null,createdAt:new Date().toISOString()},{merge:!0})}catch{}return k},login:(E,T)=>_N(po,E,T),logout:()=>wN(po),googleSignIn:async()=>{const E=new cr;return(await FN(po,E)).user}};return A.jsx(b0.Provider,{value:g,children:i})}d1.createRoot(document.getElementById("root")).render(A.jsx(zn.StrictMode,{children:A.jsx(C4,{children:A.jsx(ZV,{children:A.jsx(R4,{})})})}));
